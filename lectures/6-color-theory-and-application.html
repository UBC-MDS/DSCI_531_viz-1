
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>6. Color theory and application &#8212; DSCI 531&lt;br&gt;Data Visualization I</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.8ecb98da25f57f5357bf6f572d296f466b2cfe2517ffebfabe82451661e28f02.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'lectures/6-color-theory-and-application';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="7. Confidence intervals, figure layouts, and interactivity" href="7-trendlines-confidence-intervals.html" />
    <link rel="prev" title="5. Visualization for communication" href="5-communication-intro.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">DSCI 531<br>Data Visualization I</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    Syllabus
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Lectures</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="1-intro-viz-altair-ggplot.html">1. Intro to data visualization and graphical grammars</a></li>
<li class="toctree-l1"><a class="reference internal" href="2-data-types_graphical-marks_visual-encondings.html">2. Effective use of visual channels</a></li>
<li class="toctree-l1"><a class="reference internal" href="3-visualization-concepts.html">3. Visualizing data distributions</a></li>
<li class="toctree-l1"><a class="reference internal" href="4-eda.html">4. Exploratory data analysis (EDA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="5-communication-intro.html">5. Visualization for communication</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">6. Color theory and application</a></li>
<li class="toctree-l1"><a class="reference internal" href="7-trendlines-confidence-intervals.html">7. Confidence intervals, figure layouts, and interactivity</a></li>
<li class="toctree-l1"><a class="reference internal" href="8-figure-composition.html">8. Figure formats, interactivity and paired comparisons</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference external" href="https://altair-viz.github.io/">Altair documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://ggplot2.tidyverse.org/">ggplot documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://socviz.co/">Data visualization intro</a></li>
<li class="toctree-l1"><a class="reference external" href="https://clauswilke.com/dataviz/index.html">Fundamentals of data visualization</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/lectures/6-color-theory-and-application.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Color theory and application</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#facilitate-interpretation-through-informed-color-choices">6.1. Facilitate interpretation through informed color choices</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#color-schemes-maps">6.2. Color schemes/maps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#py">6.2.1. Py</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical">Categorical</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sequential">Sequential</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#diverging">Diverging</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r">6.2.2. R</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Categorical</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Sequential</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Diverging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#highlighting-with-colors-and-text-labels">6.3. Highlighting with colors and text labels</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">6.3.1. Py</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">6.3.2. R</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#direct-labeling-instead-of-using-a-legend">6.4. Direct labeling instead of using a legend</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">6.4.1. Py</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">6.4.2. R</a></li>
</ul>
</li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="color-theory-and-application">
<h1><span class="section-number">6. </span>Color theory and application<a class="headerlink" href="#color-theory-and-application" title="Link to this heading">#</a></h1>
<div class="sd-container-fluid sd-sphinx-override sd-mb-4 docutils">
<div class="sd-row docutils">
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><strong>Lecture learning goals</strong></p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">By the end of the lecture you will be able to:</p>
<ol class="arabic simple">
<li><p class="sd-card-text">Choose appropriate color schemes for your data.</p></li>
<li><p class="sd-card-text">Use pre-made and custom color schemes.</p></li>
<li><p class="sd-card-text">Selectively highlight and annotate data with color and text.</p></li>
<li><p class="sd-card-text">Directly label data instead of using legends.</p></li>
</ol>
</div>
</div>
</div>
<div class="sd-col sd-d-flex-row docutils">
<div class="sd-card sd-sphinx-override sd-w-100 sd-shadow-sm docutils">
<div class="sd-card-header docutils">
<p class="sd-card-text"><strong>Required activities</strong></p>
</div>
<div class="sd-card-body docutils">
<p class="sd-card-text">After class:</p>
<ul class="simple">
<li><p class="sd-card-text">Review these lecture notes</p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://ubcca-my.sharepoint.com/:v:/g/personal/joel_ostblom_ubc_ca/EeEC6rCGeWJIq0UR3GXtmwYB8YVyiwuAe0OhPFP4I-diJg?e=fyo7l9">Video review of visualization guidelines</a> (16 min)</p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://ubcca-my.sharepoint.com/:v:/g/personal/joel_ostblom_ubc_ca/Ea_9a23ys_JEp1t5WJ7vLR4Bj8GAQcA6XgfTw8GchRfB7g?e=GNIv1Y">Video on the programming part for color choices</a> (Halloween special, don’t be scared, 44 min).</p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://clauswilke.com/dataviz/color-basics.html">Section 3 on color choices</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://clauswilke.com/dataviz/color-pitfalls.html">Section 19 on common color pitfalls</a></p></li>
</ul>
 <!-- (16 min, [slides](https://github.ubc.ca/MDS-2022-23/DSCI_531_viz-1_students/blob/master/6-review-data-viz-concepts.pdf)) -->
 <!-- and [the slides](https://github.ubc.ca/MDS-2022-23/DSCI_531_viz-1_students/blob/master/6-color-theory.pdf) -->
</div>
</div>
</div>
</div>
</div>
<p><strong>Lecture slides</strong></p>
<html>
  <body>
    <iframe src="slides-lec6.pdf#zoom=80&&navpanes=0&statusbar=0&messages=0&pagemode=none" width="100%" height="475px" style="position: relative;z-index: 9999999;">
    </iframe>
  </body>
</html><section id="facilitate-interpretation-through-informed-color-choices">
<h2><span class="section-number">6.1. </span>Facilitate interpretation through informed color choices<a class="headerlink" href="#facilitate-interpretation-through-informed-color-choices" title="Link to this heading">#</a></h2>
<p>In general,
when presenting continuous data,
a perceptually uniform colormap (such as viridis) is often the most suitable choice.
This type of colormap ensures that equal steps in data
are perceived as equal steps in color space.
The human brain perceives changes in lightness
to represent changes in the data more accurately
than changes in hue.
Therefore,
colormaps with monotonically increasing lightness throughout the colormap
will be easier to interpret for the viewer.
More details and examples of such colormaps are available in the <a class="reference external" href="http://matplotlib.org/users/colormaps.html">matplotlib documentation</a>,
and many of the core design principles are outlined in <a class="reference external" href="https://www.youtube.com/watch?v=xAoljeRJ3lU">this entertaining talk</a>.</p>
<p>Nearly 10% of the population is colour vision deficient;
red-green colour blindness in particular affects 8% of men and 0.5% of women.
Guidelines for making your visualizations more accessible to those with reduced color vision,
will in many cases also improve the interpretability of your graphs
for people who have standard color vision.
If you are unsure how your plot will look for someone who sees colors differently than you,
<a class="reference external" href="https://www.color-blindness.com/coblis-color-blindness-simulator/">this website lets you upload and image and simulate different color vision deficiencies</a>.
A colormap designed specifically to look the same
for people with and without the most common color vision deficiency is <code class="docutils literal notranslate"><span class="pre">cividis</span></code>.
In addition to careful color choices,
visualization clarity can be improved by using different shapes for each grouping.</p>
<p>The jet rainbow colormap should be avoided for many reasons,
including that the sharp transitions between colors introduces visual threshold
that do not represent the underlying continuous data.
Another issue is luminance (brightness).
For example,
your eye is drawn to the yellow and cyan regions,
because the luminance is higher.
This can have the unfortunate effect of highlighting features in your data
that don’t exist,
misleading your viewers!
Since higher values are not always lighter,
this means that your graph is not going to translate well to greyscale.
More details about jet can be found in <a class="reference external" href="https://jakevdp.github.io/blog/2014/10/16/how-bad-is-your-colormap/">this blog post</a> and <a class="reference external" href="https://mycarta.wordpress.com/2012/05/12/the-rainbow-is-dead-long-live-the-rainbow-part-1/">this series of posts</a>.
A better alternative when you really need small differences in your data to stand out
is to use the <a class="reference external" href="https://ai.googleblog.com/2019/08/turbo-improved-rainbow-colormap-for.html">turbo rainbow color scheme</a>.</p>
<p><a class="reference external" href="https://eos.org/features/visualizing-science-how-color-determines-what-we-see">If you are interested in reading more about how color choices determines what we see,
this is an interesting article</a>.</p>
</section>
<section id="color-schemes-maps">
<h2><span class="section-number">6.2. </span>Color schemes/maps<a class="headerlink" href="#color-schemes-maps" title="Link to this heading">#</a></h2>
<section id="py">
<h3><span class="section-number">6.2.1. </span>Py<a class="headerlink" href="#py" title="Link to this heading">#</a></h3>
<section id="categorical">
<h4>Categorical<a class="headerlink" href="#categorical" title="Link to this heading">#</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">altair</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">alt</span>

<span class="c1"># Simplify working with large datasets in Altair</span>
<span class="n">alt</span><span class="o">.</span><span class="n">data_transformers</span><span class="o">.</span><span class="n">enable</span><span class="p">(</span><span class="s1">&#39;vegafusion&#39;</span><span class="p">)</span>

<span class="c1"># Load the R cell magic</span>
<span class="o">%</span><span class="k">load_ext</span> rpy2.ipython
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Error importing in API mode: ImportError(&quot;dlopen(/Users/andytai/miniforge3/envs/531/lib/python3.11/site-packages/_rinterface_cffi_api.abi3.so, 0x0002): Library not loaded: /Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.dylib\n  Referenced from: &lt;20FB70DB-7E84-3375-A520-E0350E06C060&gt; /Users/andytai/miniforge3/envs/531/lib/python3.11/site-packages/_rinterface_cffi_api.abi3.so\n  Reason: tried: &#39;/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.dylib&#39; (no such file), &#39;/System/Volumes/Preboot/Cryptexes/OS/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.dylib&#39; (no such file), &#39;/Library/Frameworks/R.framework/Versions/4.5-arm64/Resources/lib/libRblas.dylib&#39; (no such file)&quot;)
</pre></div>
</div>
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Trying to import in ABI mode.
</pre></div>
</div>
</div>
</div>
<p><a class="reference external" href="https://github.com/EmilHvitfeldt/r-color-palettes">The default categorical colormap used in Altair is “Tableau10”</a>,
which consists of 10 colors and starts with a blue, orange, and red color.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">altair</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">alt</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">vega_datasets</span><span class="w"> </span><span class="kn">import</span> <span class="n">data</span>

<span class="n">iris</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">iris</span><span class="p">()</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;petalLength&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-b48d9f36e39d4fd1a146d2bd6340c059.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-b48d9f36e39d4fd1a146d2bd6340c059.vega-embed details,
  #altair-viz-b48d9f36e39d4fd1a146d2bd6340c059.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-b48d9f36e39d4fd1a146d2bd6340c059"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-b48d9f36e39d4fd1a146d2bd6340c059") {
      outputDiv = document.getElementById("altair-viz-b48d9f36e39d4fd1a146d2bd6340c059");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.1, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.2, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.0, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.5, "species": "setosa"}, {"petalLength": 1.9000000000000001, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.2, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.6000000000000001, "species": "setosa"}, {"petalLength": 1.9000000000000001, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 4.7, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.9, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 3.3, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 3.5, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 3.6, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.9, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.3, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.8, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 5.0, "petalWidth": 1.7, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 3.5, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 3.8, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 3.7, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 5.1, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 3.3, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.3, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 3.0, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 6.0, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.9, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 6.6, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 4.5, "petalWidth": 1.7, "species": "virginica"}, {"petalLength": 6.3, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.3, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.3, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 6.7, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 6.9, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 1.5, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 6.7, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 6.0, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 1.6, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 6.4, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.5, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 1.4, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.4, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.9, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.2, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.2, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.4, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.8, "species": "virginica"}]}, {"name": "source_0_x_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}, {"name": "source_0_y_domain_petalLength", "values": [{"min": 1.0, "max": 6.9}]}, {"name": "source_0_color_domain_species", "values": [{"species": "setosa"}, {"species": "versicolor"}, {"species": "virginica"}]}], "marks": [{"type": "symbol", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"opacity": {"value": 0.7}, "fill": {"field": "species", "scale": "color"}, "x": {"field": "petalWidth", "scale": "x"}, "size": {"value": 100}, "y": {"field": "petalLength", "scale": "y"}, "shape": {"value": "circle"}}}, "style": ["circle"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "nice": true, "zero": true}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_species", "field": "species", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "tickCount": {"signal": "ceil(width/40)"}, "domain": false, "labels": false, "gridScale": "y", "zindex": 0, "grid": true, "ticks": false, "minExtent": 0, "orient": "bottom", "maxExtent": 0, "aria": false}, {"scale": "y", "orient": "left", "labels": false, "aria": false, "grid": true, "zindex": 0, "tickCount": {"signal": "ceil(height/40)"}, "maxExtent": 0, "minExtent": 0, "ticks": false, "gridScale": "x", "domain": false}, {"scale": "x", "orient": "bottom", "grid": false, "zindex": 0, "labelFlush": true, "tickCount": {"signal": "ceil(width/40)"}, "title": "petalWidth", "labelOverlap": true}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "zindex": 0, "labelOverlap": true, "orient": "left", "grid": false, "title": "petalLength"}], "style": "cell", "background": "white", "legends": [{"fill": "color", "symbolType": "circle", "title": "species", "encode": {"symbols": {"update": {"opacity": {"value": 0.7}}}}}], "padding": 5, "width": 300, "height": 300}, {"mode": "vega"});
</script></div></div>
</div>
<p>You can change the colormap (or colorscheme) by specifying its name as a string
to <code class="docutils literal notranslate"><span class="pre">scheme</span></code> inside <code class="docutils literal notranslate"><span class="pre">alt.Scale</span></code>.
<a class="reference external" href="https://vega.github.io/vega/docs/schemes/">All the available colormaps can be viewed on this page</a>,
which also lists what type of data the colormap is useful for
(categorical, sequential, diverging, cyclic).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;petalLength&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;dark2&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-ed4d685c79284e59831f4f68d46a2e3a.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-ed4d685c79284e59831f4f68d46a2e3a.vega-embed details,
  #altair-viz-ed4d685c79284e59831f4f68d46a2e3a.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-ed4d685c79284e59831f4f68d46a2e3a"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-ed4d685c79284e59831f4f68d46a2e3a") {
      outputDiv = document.getElementById("altair-viz-ed4d685c79284e59831f4f68d46a2e3a");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.1, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.2, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.0, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.5, "species": "setosa"}, {"petalLength": 1.9000000000000001, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.2, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.6000000000000001, "species": "setosa"}, {"petalLength": 1.9000000000000001, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 4.7, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.9, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 3.3, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 3.5, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 3.6, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.9, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.3, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.8, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 5.0, "petalWidth": 1.7, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 3.5, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 3.8, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 3.7, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 5.1, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 3.3, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.3, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 3.0, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 6.0, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.9, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 6.6, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 4.5, "petalWidth": 1.7, "species": "virginica"}, {"petalLength": 6.3, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.3, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.3, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 6.7, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 6.9, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 1.5, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 6.7, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 6.0, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 1.6, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 6.4, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.5, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 1.4, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.4, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.9, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.2, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.2, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.4, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.8, "species": "virginica"}]}, {"name": "source_0_x_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}, {"name": "source_0_y_domain_petalLength", "values": [{"min": 1.0, "max": 6.9}]}, {"name": "source_0_color_domain_species", "values": [{"species": "setosa"}, {"species": "versicolor"}, {"species": "virginica"}]}], "marks": [{"type": "symbol", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"y": {"field": "petalLength", "scale": "y"}, "size": {"value": 100}, "shape": {"value": "circle"}, "fill": {"field": "species", "scale": "color"}, "opacity": {"value": 0.7}, "x": {"field": "petalWidth", "scale": "x"}}}, "style": ["circle"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "nice": true, "zero": true}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_species", "field": "species", "sort": true}, "range": {"scheme": "dark2"}}], "axes": [{"scale": "x", "grid": true, "orient": "bottom", "domain": false, "maxExtent": 0, "minExtent": 0, "tickCount": {"signal": "ceil(width/40)"}, "aria": false, "gridScale": "y", "ticks": false, "zindex": 0, "labels": false}, {"scale": "y", "grid": true, "minExtent": 0, "ticks": false, "tickCount": {"signal": "ceil(height/40)"}, "domain": false, "zindex": 0, "labels": false, "aria": false, "gridScale": "x", "orient": "left", "maxExtent": 0}, {"scale": "x", "labelOverlap": true, "orient": "bottom", "grid": false, "title": "petalWidth", "labelFlush": true, "tickCount": {"signal": "ceil(width/40)"}, "zindex": 0}, {"scale": "y", "title": "petalLength", "zindex": 0, "grid": false, "labelOverlap": true, "orient": "left", "tickCount": {"signal": "ceil(height/40)"}}], "style": "cell", "padding": 5, "width": 300, "height": 300, "background": "white", "legends": [{"fill": "color", "symbolType": "circle", "title": "species", "encode": {"symbols": {"update": {"opacity": {"value": 0.7}}}}}]}, {"mode": "vega"});
</script></div></div>
</div>
<p>If you don’t like any of the premade colormaps,
you could make your own.
It can be really fun to experiment with different colors
and I encourage you do to so.
However,
please keep in mind that the existing colorscales
have had a lot of knowledge and consideration going into them,
so there are good reasons to use them for your final versions of plots
especially for communication purposes,
at least until you have gotten more knowledgeable about these topics yourself.</p>
<aside class="margin sidebar">
<p class="sidebar-title">Factual tidbit</p>
<p>As a reminder that there are many human elements in the creation of the computational tools we use,
I invite you to read up on <a class="reference external" href="https://medium.com/&#64;valgaze/the-hidden-purple-memorial-in-your-web-browser-7d84813bb416">the touching and sad backstory of the color “rebeccapurple”</a></p>
</aside>
<p>Below I use three colors by name,
you can see <a class="reference external" href="https://stackoverflow.com/a/37232760/2166823">all the available names in the first image here</a>.
You can also specify colors directly from hex codes,
these are defines over <code class="docutils literal notranslate"><span class="pre">#000000</span></code> for black (“zero color”)
to <code class="docutils literal notranslate"><span class="pre">#ffffff</span></code> for white (“full color”)
(example with ggplot below).
This is very useful when trying to replicate a plot that someone else has done,
you can use a color picker tool in gimp, paint, or similar,
to get the exact HTML code from an image,
and then use it in your plot as a string.
If you don’t have any software with that functionality installed,
you can use <a class="reference external" href="https://stackoverflow.com/a/37232760/2166823">this online color picker tools</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;coral&#39;</span><span class="p">,</span> <span class="s1">&#39;steelblue&#39;</span><span class="p">,</span> <span class="s1">&#39;rebeccapurple&#39;</span><span class="p">]</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;petalLength&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;species&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="nb">range</span><span class="o">=</span><span class="n">colors</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-941cd673f4b14090b5650c894c0a2aae.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-941cd673f4b14090b5650c894c0a2aae.vega-embed details,
  #altair-viz-941cd673f4b14090b5650c894c0a2aae.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-941cd673f4b14090b5650c894c0a2aae"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-941cd673f4b14090b5650c894c0a2aae") {
      outputDiv = document.getElementById("altair-viz-941cd673f4b14090b5650c894c0a2aae");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.1, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.2, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.0, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.7, "petalWidth": 0.5, "species": "setosa"}, {"petalLength": 1.9000000000000001, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.2, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.1, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.3, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.6000000000000001, "species": "setosa"}, {"petalLength": 1.9000000000000001, "petalWidth": 0.4, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004, "species": "setosa"}, {"petalLength": 1.6, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.5, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 1.4, "petalWidth": 0.2, "species": "setosa"}, {"petalLength": 4.7, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.9, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 3.3, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 3.5, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 3.6, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.9, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.3, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.8, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 5.0, "petalWidth": 1.7, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 3.5, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 3.8, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 3.7, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 3.9, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 5.1, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.5, "petalWidth": 1.6, "species": "versicolor"}, {"petalLength": 4.7, "petalWidth": 1.5, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.4, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.6, "petalWidth": 1.4, "species": "versicolor"}, {"petalLength": 4.0, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 3.3, "petalWidth": 1.0, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.2, "species": "versicolor"}, {"petalLength": 4.2, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 4.3, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 3.0, "petalWidth": 1.1, "species": "versicolor"}, {"petalLength": 4.1, "petalWidth": 1.3, "species": "versicolor"}, {"petalLength": 6.0, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.9, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 6.6, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 4.5, "petalWidth": 1.7, "species": "virginica"}, {"petalLength": 6.3, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.3, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.3, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 6.7, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 6.9, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 1.5, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 6.7, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 6.0, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.9, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.8, "petalWidth": 1.6, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 6.4, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.2, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.5, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 1.4, "species": "virginica"}, {"petalLength": 6.1, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.5, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 4.8, "petalWidth": 1.8, "species": "virginica"}, {"petalLength": 5.4, "petalWidth": 2.1, "species": "virginica"}, {"petalLength": 5.6, "petalWidth": 2.4, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.9, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.7, "petalWidth": 2.5, "species": "virginica"}, {"petalLength": 5.2, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.0, "petalWidth": 1.9000000000000001, "species": "virginica"}, {"petalLength": 5.2, "petalWidth": 2.0, "species": "virginica"}, {"petalLength": 5.4, "petalWidth": 2.3, "species": "virginica"}, {"petalLength": 5.1, "petalWidth": 1.8, "species": "virginica"}]}, {"name": "source_0_x_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}, {"name": "source_0_y_domain_petalLength", "values": [{"min": 1.0, "max": 6.9}]}, {"name": "source_0_color_domain_species", "values": [{"species": "setosa"}, {"species": "versicolor"}, {"species": "virginica"}]}], "marks": [{"type": "symbol", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"opacity": {"value": 0.7}, "size": {"value": 100}, "x": {"field": "petalWidth", "scale": "x"}, "fill": {"field": "species", "scale": "color"}, "shape": {"value": "circle"}, "y": {"field": "petalLength", "scale": "y"}}}, "style": ["circle"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "zero": true, "nice": true}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_species", "field": "species", "sort": true}, "range": ["coral", "steelblue", "rebeccapurple"]}], "axes": [{"scale": "x", "zindex": 0, "maxExtent": 0, "grid": true, "labels": false, "ticks": false, "tickCount": {"signal": "ceil(width/40)"}, "aria": false, "minExtent": 0, "orient": "bottom", "gridScale": "y", "domain": false}, {"scale": "y", "grid": true, "ticks": false, "domain": false, "orient": "left", "gridScale": "x", "maxExtent": 0, "labels": false, "aria": false, "tickCount": {"signal": "ceil(height/40)"}, "minExtent": 0, "zindex": 0}, {"scale": "x", "orient": "bottom", "labelOverlap": true, "tickCount": {"signal": "ceil(width/40)"}, "labelFlush": true, "zindex": 0, "title": "petalWidth", "grid": false}, {"scale": "y", "labelOverlap": true, "zindex": 0, "grid": false, "orient": "left", "title": "petalLength", "tickCount": {"signal": "ceil(height/40)"}}], "height": 300, "legends": [{"fill": "color", "symbolType": "circle", "title": "species", "encode": {"symbols": {"update": {"opacity": {"value": 0.7}}}}}], "width": 300, "background": "white", "style": "cell", "padding": 5}, {"mode": "vega"});
</script></div></div>
</div>
</section>
<section id="sequential">
<h4>Sequential<a class="headerlink" href="#sequential" title="Link to this heading">#</a></h4>
<p>When encoding a numerical variable as color,
a perceptually uniform sequential colormap will be chosen
to accurately represent the changes numerical changes as color changes.
It is usually a good idea to have the low values
be the ones closest to the background color,
as the light blue ones below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;petalLength&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-a71829418d0341098ec58057035d1aac.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-a71829418d0341098ec58057035d1aac.vega-embed details,
  #altair-viz-a71829418d0341098ec58057035d1aac.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-a71829418d0341098ec58057035d1aac"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-a71829418d0341098ec58057035d1aac") {
      outputDiv = document.getElementById("altair-viz-a71829418d0341098ec58057035d1aac");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.7, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.1}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.1}, {"petalLength": 1.1, "petalWidth": 0.1}, {"petalLength": 1.2, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.3, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.7, "petalWidth": 0.30000000000000004}, {"petalLength": 1.5, "petalWidth": 0.30000000000000004}, {"petalLength": 1.7, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.0, "petalWidth": 0.2}, {"petalLength": 1.7, "petalWidth": 0.5}, {"petalLength": 1.9000000000000001, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.4}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.5, "petalWidth": 0.1}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.2, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.1}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.6000000000000001}, {"petalLength": 1.9000000000000001, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 4.7, "petalWidth": 1.4}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.9, "petalWidth": 1.5}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.6, "petalWidth": 1.5}, {"petalLength": 4.5, "petalWidth": 1.3}, {"petalLength": 4.7, "petalWidth": 1.6}, {"petalLength": 3.3, "petalWidth": 1.0}, {"petalLength": 4.6, "petalWidth": 1.3}, {"petalLength": 3.9, "petalWidth": 1.4}, {"petalLength": 3.5, "petalWidth": 1.0}, {"petalLength": 4.2, "petalWidth": 1.5}, {"petalLength": 4.0, "petalWidth": 1.0}, {"petalLength": 4.7, "petalWidth": 1.4}, {"petalLength": 3.6, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.4}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.1, "petalWidth": 1.0}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 3.9, "petalWidth": 1.1}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.9, "petalWidth": 1.5}, {"petalLength": 4.7, "petalWidth": 1.2}, {"petalLength": 4.3, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.4}, {"petalLength": 4.8, "petalWidth": 1.4}, {"petalLength": 5.0, "petalWidth": 1.7}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 3.5, "petalWidth": 1.0}, {"petalLength": 3.8, "petalWidth": 1.1}, {"petalLength": 3.7, "petalWidth": 1.0}, {"petalLength": 3.9, "petalWidth": 1.2}, {"petalLength": 5.1, "petalWidth": 1.6}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.5, "petalWidth": 1.6}, {"petalLength": 4.7, "petalWidth": 1.5}, {"petalLength": 4.4, "petalWidth": 1.3}, {"petalLength": 4.1, "petalWidth": 1.3}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.2}, {"petalLength": 4.6, "petalWidth": 1.4}, {"petalLength": 4.0, "petalWidth": 1.2}, {"petalLength": 3.3, "petalWidth": 1.0}, {"petalLength": 4.2, "petalWidth": 1.3}, {"petalLength": 4.2, "petalWidth": 1.2}, {"petalLength": 4.2, "petalWidth": 1.3}, {"petalLength": 4.3, "petalWidth": 1.3}, {"petalLength": 3.0, "petalWidth": 1.1}, {"petalLength": 4.1, "petalWidth": 1.3}, {"petalLength": 6.0, "petalWidth": 2.5}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001}, {"petalLength": 5.9, "petalWidth": 2.1}, {"petalLength": 5.6, "petalWidth": 1.8}, {"petalLength": 5.8, "petalWidth": 2.2}, {"petalLength": 6.6, "petalWidth": 2.1}, {"petalLength": 4.5, "petalWidth": 1.7}, {"petalLength": 6.3, "petalWidth": 1.8}, {"petalLength": 5.8, "petalWidth": 1.8}, {"petalLength": 6.1, "petalWidth": 2.5}, {"petalLength": 5.1, "petalWidth": 2.0}, {"petalLength": 5.3, "petalWidth": 1.9000000000000001}, {"petalLength": 5.5, "petalWidth": 2.1}, {"petalLength": 5.0, "petalWidth": 2.0}, {"petalLength": 5.1, "petalWidth": 2.4}, {"petalLength": 5.3, "petalWidth": 2.3}, {"petalLength": 5.5, "petalWidth": 1.8}, {"petalLength": 6.7, "petalWidth": 2.2}, {"petalLength": 6.9, "petalWidth": 2.3}, {"petalLength": 5.0, "petalWidth": 1.5}, {"petalLength": 5.7, "petalWidth": 2.3}, {"petalLength": 4.9, "petalWidth": 2.0}, {"petalLength": 6.7, "petalWidth": 2.0}, {"petalLength": 4.9, "petalWidth": 1.8}, {"petalLength": 5.7, "petalWidth": 2.1}, {"petalLength": 6.0, "petalWidth": 1.8}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 4.9, "petalWidth": 1.8}, {"petalLength": 5.6, "petalWidth": 2.1}, {"petalLength": 5.8, "petalWidth": 1.6}, {"petalLength": 6.1, "petalWidth": 1.9000000000000001}, {"petalLength": 6.4, "petalWidth": 2.0}, {"petalLength": 5.6, "petalWidth": 2.2}, {"petalLength": 5.1, "petalWidth": 1.5}, {"petalLength": 5.6, "petalWidth": 1.4}, {"petalLength": 6.1, "petalWidth": 2.3}, {"petalLength": 5.6, "petalWidth": 2.4}, {"petalLength": 5.5, "petalWidth": 1.8}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 5.4, "petalWidth": 2.1}, {"petalLength": 5.6, "petalWidth": 2.4}, {"petalLength": 5.1, "petalWidth": 2.3}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001}, {"petalLength": 5.9, "petalWidth": 2.3}, {"petalLength": 5.7, "petalWidth": 2.5}, {"petalLength": 5.2, "petalWidth": 2.3}, {"petalLength": 5.0, "petalWidth": 1.9000000000000001}, {"petalLength": 5.2, "petalWidth": 2.0}, {"petalLength": 5.4, "petalWidth": 2.3}, {"petalLength": 5.1, "petalWidth": 1.8}]}, {"name": "source_0_x_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}, {"name": "source_0_y_domain_petalLength", "values": [{"min": 1.0, "max": 6.9}]}, {"name": "source_0_color_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}], "marks": [{"type": "symbol", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"size": {"value": 100}, "y": {"field": "petalLength", "scale": "y"}, "fill": {"field": "petalWidth", "scale": "color"}, "x": {"field": "petalWidth", "scale": "x"}, "shape": {"value": "circle"}, "opacity": {"value": 0.7}}}, "style": ["circle"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "zero": true, "nice": true}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "linear", "domain": [{"signal": "(data(\"source_0_color_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_color_domain_petalWidth\")[0] || {}).max"}], "range": "ramp", "interpolate": "hcl", "zero": false}], "axes": [{"scale": "x", "orient": "bottom", "tickCount": {"signal": "ceil(width/40)"}, "gridScale": "y", "labels": false, "maxExtent": 0, "domain": false, "minExtent": 0, "ticks": false, "zindex": 0, "aria": false, "grid": true}, {"scale": "y", "aria": false, "zindex": 0, "domain": false, "grid": true, "tickCount": {"signal": "ceil(height/40)"}, "maxExtent": 0, "gridScale": "x", "minExtent": 0, "ticks": false, "orient": "left", "labels": false}, {"scale": "x", "orient": "bottom", "zindex": 0, "tickCount": {"signal": "ceil(width/40)"}, "title": "petalWidth", "labelFlush": true, "labelOverlap": true, "grid": false}, {"scale": "y", "labelOverlap": true, "zindex": 0, "orient": "left", "grid": false, "tickCount": {"signal": "ceil(height/40)"}, "title": "petalLength"}], "legends": [{"fill": "color", "gradientLength": {"signal": "clamp(height, 64, 200)"}, "title": "petalWidth", "encode": {"gradient": {"update": {"opacity": {"value": 0.7}}}}}], "width": 300, "height": 300, "style": "cell", "background": "white", "padding": 5}, {"mode": "vega"});
</script></div></div>
</div>
<p>You can <a class="reference external" href="https://vega.github.io/vega/docs/schemes/#scheme-reference">change the colorscheme to any of the ones listed here.</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;petalLength&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;greenblue&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-1d04e8996cd845f397a978877e770fed.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-1d04e8996cd845f397a978877e770fed.vega-embed details,
  #altair-viz-1d04e8996cd845f397a978877e770fed.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-1d04e8996cd845f397a978877e770fed"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-1d04e8996cd845f397a978877e770fed") {
      outputDiv = document.getElementById("altair-viz-1d04e8996cd845f397a978877e770fed");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.7, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.1}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.1}, {"petalLength": 1.1, "petalWidth": 0.1}, {"petalLength": 1.2, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.3, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.7, "petalWidth": 0.30000000000000004}, {"petalLength": 1.5, "petalWidth": 0.30000000000000004}, {"petalLength": 1.7, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.0, "petalWidth": 0.2}, {"petalLength": 1.7, "petalWidth": 0.5}, {"petalLength": 1.9000000000000001, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.4}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.5, "petalWidth": 0.1}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.2, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.1}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.6000000000000001}, {"petalLength": 1.9000000000000001, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 4.7, "petalWidth": 1.4}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.9, "petalWidth": 1.5}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.6, "petalWidth": 1.5}, {"petalLength": 4.5, "petalWidth": 1.3}, {"petalLength": 4.7, "petalWidth": 1.6}, {"petalLength": 3.3, "petalWidth": 1.0}, {"petalLength": 4.6, "petalWidth": 1.3}, {"petalLength": 3.9, "petalWidth": 1.4}, {"petalLength": 3.5, "petalWidth": 1.0}, {"petalLength": 4.2, "petalWidth": 1.5}, {"petalLength": 4.0, "petalWidth": 1.0}, {"petalLength": 4.7, "petalWidth": 1.4}, {"petalLength": 3.6, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.4}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.1, "petalWidth": 1.0}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 3.9, "petalWidth": 1.1}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.9, "petalWidth": 1.5}, {"petalLength": 4.7, "petalWidth": 1.2}, {"petalLength": 4.3, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.4}, {"petalLength": 4.8, "petalWidth": 1.4}, {"petalLength": 5.0, "petalWidth": 1.7}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 3.5, "petalWidth": 1.0}, {"petalLength": 3.8, "petalWidth": 1.1}, {"petalLength": 3.7, "petalWidth": 1.0}, {"petalLength": 3.9, "petalWidth": 1.2}, {"petalLength": 5.1, "petalWidth": 1.6}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.5, "petalWidth": 1.6}, {"petalLength": 4.7, "petalWidth": 1.5}, {"petalLength": 4.4, "petalWidth": 1.3}, {"petalLength": 4.1, "petalWidth": 1.3}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.2}, {"petalLength": 4.6, "petalWidth": 1.4}, {"petalLength": 4.0, "petalWidth": 1.2}, {"petalLength": 3.3, "petalWidth": 1.0}, {"petalLength": 4.2, "petalWidth": 1.3}, {"petalLength": 4.2, "petalWidth": 1.2}, {"petalLength": 4.2, "petalWidth": 1.3}, {"petalLength": 4.3, "petalWidth": 1.3}, {"petalLength": 3.0, "petalWidth": 1.1}, {"petalLength": 4.1, "petalWidth": 1.3}, {"petalLength": 6.0, "petalWidth": 2.5}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001}, {"petalLength": 5.9, "petalWidth": 2.1}, {"petalLength": 5.6, "petalWidth": 1.8}, {"petalLength": 5.8, "petalWidth": 2.2}, {"petalLength": 6.6, "petalWidth": 2.1}, {"petalLength": 4.5, "petalWidth": 1.7}, {"petalLength": 6.3, "petalWidth": 1.8}, {"petalLength": 5.8, "petalWidth": 1.8}, {"petalLength": 6.1, "petalWidth": 2.5}, {"petalLength": 5.1, "petalWidth": 2.0}, {"petalLength": 5.3, "petalWidth": 1.9000000000000001}, {"petalLength": 5.5, "petalWidth": 2.1}, {"petalLength": 5.0, "petalWidth": 2.0}, {"petalLength": 5.1, "petalWidth": 2.4}, {"petalLength": 5.3, "petalWidth": 2.3}, {"petalLength": 5.5, "petalWidth": 1.8}, {"petalLength": 6.7, "petalWidth": 2.2}, {"petalLength": 6.9, "petalWidth": 2.3}, {"petalLength": 5.0, "petalWidth": 1.5}, {"petalLength": 5.7, "petalWidth": 2.3}, {"petalLength": 4.9, "petalWidth": 2.0}, {"petalLength": 6.7, "petalWidth": 2.0}, {"petalLength": 4.9, "petalWidth": 1.8}, {"petalLength": 5.7, "petalWidth": 2.1}, {"petalLength": 6.0, "petalWidth": 1.8}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 4.9, "petalWidth": 1.8}, {"petalLength": 5.6, "petalWidth": 2.1}, {"petalLength": 5.8, "petalWidth": 1.6}, {"petalLength": 6.1, "petalWidth": 1.9000000000000001}, {"petalLength": 6.4, "petalWidth": 2.0}, {"petalLength": 5.6, "petalWidth": 2.2}, {"petalLength": 5.1, "petalWidth": 1.5}, {"petalLength": 5.6, "petalWidth": 1.4}, {"petalLength": 6.1, "petalWidth": 2.3}, {"petalLength": 5.6, "petalWidth": 2.4}, {"petalLength": 5.5, "petalWidth": 1.8}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 5.4, "petalWidth": 2.1}, {"petalLength": 5.6, "petalWidth": 2.4}, {"petalLength": 5.1, "petalWidth": 2.3}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001}, {"petalLength": 5.9, "petalWidth": 2.3}, {"petalLength": 5.7, "petalWidth": 2.5}, {"petalLength": 5.2, "petalWidth": 2.3}, {"petalLength": 5.0, "petalWidth": 1.9000000000000001}, {"petalLength": 5.2, "petalWidth": 2.0}, {"petalLength": 5.4, "petalWidth": 2.3}, {"petalLength": 5.1, "petalWidth": 1.8}]}, {"name": "source_0_x_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}, {"name": "source_0_y_domain_petalLength", "values": [{"min": 1.0, "max": 6.9}]}, {"name": "source_0_color_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}], "marks": [{"type": "symbol", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"x": {"field": "petalWidth", "scale": "x"}, "y": {"field": "petalLength", "scale": "y"}, "shape": {"value": "circle"}, "opacity": {"value": 0.7}, "size": {"value": 100}, "fill": {"field": "petalWidth", "scale": "color"}}}, "style": ["circle"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "nice": true, "zero": true}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "linear", "domain": [{"signal": "(data(\"source_0_color_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_color_domain_petalWidth\")[0] || {}).max"}], "range": {"scheme": "greenblue"}, "interpolate": "hcl", "zero": false}], "axes": [{"scale": "x", "gridScale": "y", "domain": false, "minExtent": 0, "grid": true, "zindex": 0, "orient": "bottom", "maxExtent": 0, "labels": false, "tickCount": {"signal": "ceil(width/40)"}, "aria": false, "ticks": false}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "orient": "left", "gridScale": "x", "ticks": false, "labels": false, "domain": false, "zindex": 0, "maxExtent": 0, "minExtent": 0, "aria": false, "grid": true}, {"scale": "x", "zindex": 0, "labelFlush": true, "grid": false, "labelOverlap": true, "orient": "bottom", "tickCount": {"signal": "ceil(width/40)"}, "title": "petalWidth"}, {"scale": "y", "orient": "left", "labelOverlap": true, "zindex": 0, "title": "petalLength", "tickCount": {"signal": "ceil(height/40)"}, "grid": false}], "padding": 5, "height": 300, "background": "white", "width": 300, "style": "cell", "legends": [{"fill": "color", "gradientLength": {"signal": "clamp(height, 64, 200)"}, "title": "petalWidth", "encode": {"gradient": {"update": {"opacity": {"value": 0.7}}}}}]}, {"mode": "vega"});
</script></div></div>
</div>
<p>“Viridis” is a well-research colorscheme,
originally developed for matplotlib and now used in many different places.
Compared to the ones above,
you see changes in detail slightly better
because of the increased amount of hues/colors used,
which could also give rise to a very slight extra highlighting effect
(for example when going from green to yellow),
as we discussed in the intro video.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;petalLength&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-d4ed3e6516b748938d7211c9c11ae6c5.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-d4ed3e6516b748938d7211c9c11ae6c5.vega-embed details,
  #altair-viz-d4ed3e6516b748938d7211c9c11ae6c5.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-d4ed3e6516b748938d7211c9c11ae6c5"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d4ed3e6516b748938d7211c9c11ae6c5") {
      outputDiv = document.getElementById("altair-viz-d4ed3e6516b748938d7211c9c11ae6c5");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.7, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.1}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.1}, {"petalLength": 1.1, "petalWidth": 0.1}, {"petalLength": 1.2, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.3, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.7, "petalWidth": 0.30000000000000004}, {"petalLength": 1.5, "petalWidth": 0.30000000000000004}, {"petalLength": 1.7, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.0, "petalWidth": 0.2}, {"petalLength": 1.7, "petalWidth": 0.5}, {"petalLength": 1.9000000000000001, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.4}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.5, "petalWidth": 0.1}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.2, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.1}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.6000000000000001}, {"petalLength": 1.9000000000000001, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 4.7, "petalWidth": 1.4}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.9, "petalWidth": 1.5}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.6, "petalWidth": 1.5}, {"petalLength": 4.5, "petalWidth": 1.3}, {"petalLength": 4.7, "petalWidth": 1.6}, {"petalLength": 3.3, "petalWidth": 1.0}, {"petalLength": 4.6, "petalWidth": 1.3}, {"petalLength": 3.9, "petalWidth": 1.4}, {"petalLength": 3.5, "petalWidth": 1.0}, {"petalLength": 4.2, "petalWidth": 1.5}, {"petalLength": 4.0, "petalWidth": 1.0}, {"petalLength": 4.7, "petalWidth": 1.4}, {"petalLength": 3.6, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.4}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.1, "petalWidth": 1.0}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 3.9, "petalWidth": 1.1}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.9, "petalWidth": 1.5}, {"petalLength": 4.7, "petalWidth": 1.2}, {"petalLength": 4.3, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.4}, {"petalLength": 4.8, "petalWidth": 1.4}, {"petalLength": 5.0, "petalWidth": 1.7}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 3.5, "petalWidth": 1.0}, {"petalLength": 3.8, "petalWidth": 1.1}, {"petalLength": 3.7, "petalWidth": 1.0}, {"petalLength": 3.9, "petalWidth": 1.2}, {"petalLength": 5.1, "petalWidth": 1.6}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.5, "petalWidth": 1.6}, {"petalLength": 4.7, "petalWidth": 1.5}, {"petalLength": 4.4, "petalWidth": 1.3}, {"petalLength": 4.1, "petalWidth": 1.3}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.2}, {"petalLength": 4.6, "petalWidth": 1.4}, {"petalLength": 4.0, "petalWidth": 1.2}, {"petalLength": 3.3, "petalWidth": 1.0}, {"petalLength": 4.2, "petalWidth": 1.3}, {"petalLength": 4.2, "petalWidth": 1.2}, {"petalLength": 4.2, "petalWidth": 1.3}, {"petalLength": 4.3, "petalWidth": 1.3}, {"petalLength": 3.0, "petalWidth": 1.1}, {"petalLength": 4.1, "petalWidth": 1.3}, {"petalLength": 6.0, "petalWidth": 2.5}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001}, {"petalLength": 5.9, "petalWidth": 2.1}, {"petalLength": 5.6, "petalWidth": 1.8}, {"petalLength": 5.8, "petalWidth": 2.2}, {"petalLength": 6.6, "petalWidth": 2.1}, {"petalLength": 4.5, "petalWidth": 1.7}, {"petalLength": 6.3, "petalWidth": 1.8}, {"petalLength": 5.8, "petalWidth": 1.8}, {"petalLength": 6.1, "petalWidth": 2.5}, {"petalLength": 5.1, "petalWidth": 2.0}, {"petalLength": 5.3, "petalWidth": 1.9000000000000001}, {"petalLength": 5.5, "petalWidth": 2.1}, {"petalLength": 5.0, "petalWidth": 2.0}, {"petalLength": 5.1, "petalWidth": 2.4}, {"petalLength": 5.3, "petalWidth": 2.3}, {"petalLength": 5.5, "petalWidth": 1.8}, {"petalLength": 6.7, "petalWidth": 2.2}, {"petalLength": 6.9, "petalWidth": 2.3}, {"petalLength": 5.0, "petalWidth": 1.5}, {"petalLength": 5.7, "petalWidth": 2.3}, {"petalLength": 4.9, "petalWidth": 2.0}, {"petalLength": 6.7, "petalWidth": 2.0}, {"petalLength": 4.9, "petalWidth": 1.8}, {"petalLength": 5.7, "petalWidth": 2.1}, {"petalLength": 6.0, "petalWidth": 1.8}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 4.9, "petalWidth": 1.8}, {"petalLength": 5.6, "petalWidth": 2.1}, {"petalLength": 5.8, "petalWidth": 1.6}, {"petalLength": 6.1, "petalWidth": 1.9000000000000001}, {"petalLength": 6.4, "petalWidth": 2.0}, {"petalLength": 5.6, "petalWidth": 2.2}, {"petalLength": 5.1, "petalWidth": 1.5}, {"petalLength": 5.6, "petalWidth": 1.4}, {"petalLength": 6.1, "petalWidth": 2.3}, {"petalLength": 5.6, "petalWidth": 2.4}, {"petalLength": 5.5, "petalWidth": 1.8}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 5.4, "petalWidth": 2.1}, {"petalLength": 5.6, "petalWidth": 2.4}, {"petalLength": 5.1, "petalWidth": 2.3}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001}, {"petalLength": 5.9, "petalWidth": 2.3}, {"petalLength": 5.7, "petalWidth": 2.5}, {"petalLength": 5.2, "petalWidth": 2.3}, {"petalLength": 5.0, "petalWidth": 1.9000000000000001}, {"petalLength": 5.2, "petalWidth": 2.0}, {"petalLength": 5.4, "petalWidth": 2.3}, {"petalLength": 5.1, "petalWidth": 1.8}]}, {"name": "source_0_x_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}, {"name": "source_0_y_domain_petalLength", "values": [{"min": 1.0, "max": 6.9}]}, {"name": "source_0_color_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}], "marks": [{"type": "symbol", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"shape": {"value": "circle"}, "size": {"value": 100}, "opacity": {"value": 0.7}, "y": {"field": "petalLength", "scale": "y"}, "x": {"field": "petalWidth", "scale": "x"}, "fill": {"field": "petalWidth", "scale": "color"}}}, "style": ["circle"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "nice": true, "zero": true}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "linear", "domain": [{"signal": "(data(\"source_0_color_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_color_domain_petalWidth\")[0] || {}).max"}], "range": {"scheme": "viridis"}, "zero": false, "interpolate": "hcl"}], "axes": [{"scale": "x", "domain": false, "tickCount": {"signal": "ceil(width/40)"}, "minExtent": 0, "zindex": 0, "gridScale": "y", "orient": "bottom", "grid": true, "ticks": false, "aria": false, "labels": false, "maxExtent": 0}, {"scale": "y", "aria": false, "domain": false, "zindex": 0, "gridScale": "x", "tickCount": {"signal": "ceil(height/40)"}, "labels": false, "grid": true, "maxExtent": 0, "minExtent": 0, "ticks": false, "orient": "left"}, {"scale": "x", "grid": false, "orient": "bottom", "labelOverlap": true, "zindex": 0, "title": "petalWidth", "labelFlush": true, "tickCount": {"signal": "ceil(width/40)"}}, {"scale": "y", "zindex": 0, "grid": false, "orient": "left", "title": "petalLength", "labelOverlap": true, "tickCount": {"signal": "ceil(height/40)"}}], "background": "white", "width": 300, "height": 300, "padding": 5, "style": "cell", "legends": [{"fill": "color", "gradientLength": {"signal": "clamp(height, 64, 200)"}, "title": "petalWidth", "encode": {"gradient": {"update": {"opacity": {"value": 0.7}}}}}]}, {"mode": "vega"});
</script></div></div>
</div>
<p>You can reverse a color scale,
the same way we learn how to reverse axes scales.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">iris</span><span class="p">)</span><span class="o">.</span><span class="n">mark_circle</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;petalLength&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;petalWidth&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;viridis&#39;</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-c5ef6b8c64fb499190cd8b484a45ab34.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-c5ef6b8c64fb499190cd8b484a45ab34.vega-embed details,
  #altair-viz-c5ef6b8c64fb499190cd8b484a45ab34.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-c5ef6b8c64fb499190cd8b484a45ab34"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-c5ef6b8c64fb499190cd8b484a45ab34") {
      outputDiv = document.getElementById("altair-viz-c5ef6b8c64fb499190cd8b484a45ab34");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.7, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.1}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.1}, {"petalLength": 1.1, "petalWidth": 0.1}, {"petalLength": 1.2, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.3, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.7, "petalWidth": 0.30000000000000004}, {"petalLength": 1.5, "petalWidth": 0.30000000000000004}, {"petalLength": 1.7, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.0, "petalWidth": 0.2}, {"petalLength": 1.7, "petalWidth": 0.5}, {"petalLength": 1.9000000000000001, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.4}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.4}, {"petalLength": 1.5, "petalWidth": 0.1}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.2, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.1}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004}, {"petalLength": 1.3, "petalWidth": 0.30000000000000004}, {"petalLength": 1.3, "petalWidth": 0.2}, {"petalLength": 1.6, "petalWidth": 0.6000000000000001}, {"petalLength": 1.9000000000000001, "petalWidth": 0.4}, {"petalLength": 1.4, "petalWidth": 0.30000000000000004}, {"petalLength": 1.6, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 1.5, "petalWidth": 0.2}, {"petalLength": 1.4, "petalWidth": 0.2}, {"petalLength": 4.7, "petalWidth": 1.4}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.9, "petalWidth": 1.5}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.6, "petalWidth": 1.5}, {"petalLength": 4.5, "petalWidth": 1.3}, {"petalLength": 4.7, "petalWidth": 1.6}, {"petalLength": 3.3, "petalWidth": 1.0}, {"petalLength": 4.6, "petalWidth": 1.3}, {"petalLength": 3.9, "petalWidth": 1.4}, {"petalLength": 3.5, "petalWidth": 1.0}, {"petalLength": 4.2, "petalWidth": 1.5}, {"petalLength": 4.0, "petalWidth": 1.0}, {"petalLength": 4.7, "petalWidth": 1.4}, {"petalLength": 3.6, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.4}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.1, "petalWidth": 1.0}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 3.9, "petalWidth": 1.1}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.9, "petalWidth": 1.5}, {"petalLength": 4.7, "petalWidth": 1.2}, {"petalLength": 4.3, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.4}, {"petalLength": 4.8, "petalWidth": 1.4}, {"petalLength": 5.0, "petalWidth": 1.7}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 3.5, "petalWidth": 1.0}, {"petalLength": 3.8, "petalWidth": 1.1}, {"petalLength": 3.7, "petalWidth": 1.0}, {"petalLength": 3.9, "petalWidth": 1.2}, {"petalLength": 5.1, "petalWidth": 1.6}, {"petalLength": 4.5, "petalWidth": 1.5}, {"petalLength": 4.5, "petalWidth": 1.6}, {"petalLength": 4.7, "petalWidth": 1.5}, {"petalLength": 4.4, "petalWidth": 1.3}, {"petalLength": 4.1, "petalWidth": 1.3}, {"petalLength": 4.0, "petalWidth": 1.3}, {"petalLength": 4.4, "petalWidth": 1.2}, {"petalLength": 4.6, "petalWidth": 1.4}, {"petalLength": 4.0, "petalWidth": 1.2}, {"petalLength": 3.3, "petalWidth": 1.0}, {"petalLength": 4.2, "petalWidth": 1.3}, {"petalLength": 4.2, "petalWidth": 1.2}, {"petalLength": 4.2, "petalWidth": 1.3}, {"petalLength": 4.3, "petalWidth": 1.3}, {"petalLength": 3.0, "petalWidth": 1.1}, {"petalLength": 4.1, "petalWidth": 1.3}, {"petalLength": 6.0, "petalWidth": 2.5}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001}, {"petalLength": 5.9, "petalWidth": 2.1}, {"petalLength": 5.6, "petalWidth": 1.8}, {"petalLength": 5.8, "petalWidth": 2.2}, {"petalLength": 6.6, "petalWidth": 2.1}, {"petalLength": 4.5, "petalWidth": 1.7}, {"petalLength": 6.3, "petalWidth": 1.8}, {"petalLength": 5.8, "petalWidth": 1.8}, {"petalLength": 6.1, "petalWidth": 2.5}, {"petalLength": 5.1, "petalWidth": 2.0}, {"petalLength": 5.3, "petalWidth": 1.9000000000000001}, {"petalLength": 5.5, "petalWidth": 2.1}, {"petalLength": 5.0, "petalWidth": 2.0}, {"petalLength": 5.1, "petalWidth": 2.4}, {"petalLength": 5.3, "petalWidth": 2.3}, {"petalLength": 5.5, "petalWidth": 1.8}, {"petalLength": 6.7, "petalWidth": 2.2}, {"petalLength": 6.9, "petalWidth": 2.3}, {"petalLength": 5.0, "petalWidth": 1.5}, {"petalLength": 5.7, "petalWidth": 2.3}, {"petalLength": 4.9, "petalWidth": 2.0}, {"petalLength": 6.7, "petalWidth": 2.0}, {"petalLength": 4.9, "petalWidth": 1.8}, {"petalLength": 5.7, "petalWidth": 2.1}, {"petalLength": 6.0, "petalWidth": 1.8}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 4.9, "petalWidth": 1.8}, {"petalLength": 5.6, "petalWidth": 2.1}, {"petalLength": 5.8, "petalWidth": 1.6}, {"petalLength": 6.1, "petalWidth": 1.9000000000000001}, {"petalLength": 6.4, "petalWidth": 2.0}, {"petalLength": 5.6, "petalWidth": 2.2}, {"petalLength": 5.1, "petalWidth": 1.5}, {"petalLength": 5.6, "petalWidth": 1.4}, {"petalLength": 6.1, "petalWidth": 2.3}, {"petalLength": 5.6, "petalWidth": 2.4}, {"petalLength": 5.5, "petalWidth": 1.8}, {"petalLength": 4.8, "petalWidth": 1.8}, {"petalLength": 5.4, "petalWidth": 2.1}, {"petalLength": 5.6, "petalWidth": 2.4}, {"petalLength": 5.1, "petalWidth": 2.3}, {"petalLength": 5.1, "petalWidth": 1.9000000000000001}, {"petalLength": 5.9, "petalWidth": 2.3}, {"petalLength": 5.7, "petalWidth": 2.5}, {"petalLength": 5.2, "petalWidth": 2.3}, {"petalLength": 5.0, "petalWidth": 1.9000000000000001}, {"petalLength": 5.2, "petalWidth": 2.0}, {"petalLength": 5.4, "petalWidth": 2.3}, {"petalLength": 5.1, "petalWidth": 1.8}]}, {"name": "source_0_x_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}, {"name": "source_0_y_domain_petalLength", "values": [{"min": 1.0, "max": 6.9}]}, {"name": "source_0_color_domain_petalWidth", "values": [{"min": 0.1, "max": 2.5}]}], "marks": [{"type": "symbol", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"x": {"field": "petalWidth", "scale": "x"}, "y": {"field": "petalLength", "scale": "y"}, "size": {"value": 100}, "fill": {"field": "petalWidth", "scale": "color"}, "opacity": {"value": 0.7}, "shape": {"value": "circle"}}}, "style": ["circle"]}], "scales": [{"name": "x", "type": "linear", "domain": [{"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_x_domain_petalWidth\")[0] || {}).max"}], "range": [0, {"signal": "width"}], "zero": true, "nice": true}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_petalLength\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "linear", "domain": [{"signal": "(data(\"source_0_color_domain_petalWidth\")[0] || {}).min"}, {"signal": "(data(\"source_0_color_domain_petalWidth\")[0] || {}).max"}], "range": {"scheme": "viridis"}, "interpolate": "hcl", "zero": false, "reverse": true}], "axes": [{"scale": "x", "labels": false, "zindex": 0, "tickCount": {"signal": "ceil(width/40)"}, "aria": false, "gridScale": "y", "ticks": false, "maxExtent": 0, "orient": "bottom", "grid": true, "domain": false, "minExtent": 0}, {"scale": "y", "zindex": 0, "aria": false, "tickCount": {"signal": "ceil(height/40)"}, "ticks": false, "grid": true, "labels": false, "gridScale": "x", "orient": "left", "domain": false, "maxExtent": 0, "minExtent": 0}, {"scale": "x", "grid": false, "tickCount": {"signal": "ceil(width/40)"}, "zindex": 0, "labelOverlap": true, "orient": "bottom", "title": "petalWidth", "labelFlush": true}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "title": "petalLength", "orient": "left", "zindex": 0, "labelOverlap": true, "grid": false}], "width": 300, "padding": 5, "style": "cell", "legends": [{"fill": "color", "gradientLength": {"signal": "clamp(height, 64, 200)"}, "title": "petalWidth", "encode": {"gradient": {"update": {"opacity": {"value": 0.7}}}}}], "background": "white", "height": 300}, {"mode": "vega"});
</script></div></div>
</div>
</section>
<section id="diverging">
<h4>Diverging<a class="headerlink" href="#diverging" title="Link to this heading">#</a></h4>
<p>If we were to map a variable that has a natural midpoint,
such as a correlation that is defined from -1 to 1,
it is not that helpful to use the default colormap,
since it will make values close to zero
seem more important than value close to -1.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">corr_df</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">gapminder</span><span class="p">()</span><span class="o">.</span><span class="n">corr</span><span class="p">(</span><span class="n">numeric_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">stack</span><span class="p">()</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">)</span>
<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">corr_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_rect</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;level_0&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;level_1&#39;</span><span class="p">,</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;corr&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">200</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-f85f724b1cfa4bdbb879ef1d01639c9e.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-f85f724b1cfa4bdbb879ef1d01639c9e.vega-embed details,
  #altair-viz-f85f724b1cfa4bdbb879ef1d01639c9e.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-f85f724b1cfa4bdbb879ef1d01639c9e"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-f85f724b1cfa4bdbb879ef1d01639c9e") {
      outputDiv = document.getElementById("altair-viz-f85f724b1cfa4bdbb879ef1d01639c9e");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"corr": 1.0, "level_0": "year", "level_1": "year"}, {"corr": -2.5421305914407527e-15, "level_0": "year", "level_1": "cluster"}, {"corr": 0.0945000669391613, "level_0": "year", "level_1": "pop"}, {"corr": 0.4476659725226138, "level_0": "year", "level_1": "life_expect"}, {"corr": -0.48369806806000093, "level_0": "year", "level_1": "fertility"}, {"corr": -2.5421305914407527e-15, "level_0": "cluster", "level_1": "year"}, {"corr": 1.0, "level_0": "cluster", "level_1": "cluster"}, {"corr": -0.018022385345266703, "level_0": "cluster", "level_1": "pop"}, {"corr": -0.026345147402137357, "level_0": "cluster", "level_1": "life_expect"}, {"corr": 0.16714071351233084, "level_0": "cluster", "level_1": "fertility"}, {"corr": 0.0945000669391613, "level_0": "pop", "level_1": "year"}, {"corr": -0.018022385345266703, "level_0": "pop", "level_1": "cluster"}, {"corr": 1.0, "level_0": "pop", "level_1": "pop"}, {"corr": -0.06093928643133144, "level_0": "pop", "level_1": "life_expect"}, {"corr": -0.036793785388204166, "level_0": "pop", "level_1": "fertility"}, {"corr": 0.4476659725226138, "level_0": "life_expect", "level_1": "year"}, {"corr": -0.026345147402137357, "level_0": "life_expect", "level_1": "cluster"}, {"corr": -0.06093928643133144, "level_0": "life_expect", "level_1": "pop"}, {"corr": 1.0, "level_0": "life_expect", "level_1": "life_expect"}, {"corr": -0.8873398367934288, "level_0": "life_expect", "level_1": "fertility"}, {"corr": -0.48369806806000093, "level_0": "fertility", "level_1": "year"}, {"corr": 0.16714071351233084, "level_0": "fertility", "level_1": "cluster"}, {"corr": -0.036793785388204166, "level_0": "fertility", "level_1": "pop"}, {"corr": -0.8873398367934288, "level_0": "fertility", "level_1": "life_expect"}, {"corr": 1.0, "level_0": "fertility", "level_1": "fertility"}]}, {"name": "source_0_x_domain_level_0", "values": [{"level_0": "year"}, {"level_0": "cluster"}, {"level_0": "pop"}, {"level_0": "life_expect"}, {"level_0": "fertility"}]}, {"name": "source_0_y_domain_level_1", "values": [{"level_1": "year"}, {"level_1": "cluster"}, {"level_1": "pop"}, {"level_1": "life_expect"}, {"level_1": "fertility"}]}, {"name": "source_0_color_domain_corr", "values": [{"min": -0.8873398367934288, "max": 1.0}]}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"fill": {"field": "corr", "scale": "color"}, "y": {"field": "level_1", "scale": "y"}, "tooltip": {"signal": "format(datum[\"corr\"], \"\")"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "height": {"signal": "max(0.25, bandwidth('y'))"}, "x": {"field": "level_0", "scale": "x"}}}, "style": ["rect"]}], "scales": [{"name": "x", "type": "band", "domain": {"data": "source_0_x_domain_level_0", "field": "level_0", "sort": true}, "range": [0, {"signal": "width"}], "paddingInner": 0, "paddingOuter": 0}, {"name": "y", "type": "band", "domain": {"data": "source_0_y_domain_level_1", "field": "level_1", "sort": true}, "range": [0, {"signal": "height"}], "paddingOuter": 0, "paddingInner": 0}, {"name": "color", "type": "linear", "domain": [{"signal": "(data(\"source_0_color_domain_corr\")[0] || {}).min"}, {"signal": "(data(\"source_0_color_domain_corr\")[0] || {}).max"}], "range": "heatmap", "interpolate": "hcl", "zero": false}], "axes": [{"scale": "x", "orient": "bottom", "grid": false, "labelAngle": 270, "labelBaseline": "middle", "title": "level_0", "labelAlign": "right", "zindex": 1}, {"scale": "y", "grid": false, "title": "level_1", "orient": "left", "zindex": 1}], "padding": 5, "style": "cell", "background": "white", "legends": [{"fill": "color", "gradientLength": {"signal": "clamp(height, 64, 200)"}, "title": "corr"}], "height": 200, "width": 200}, {"mode": "vega"});
</script></div></div>
</div>
<p>Instead we can choose a color scheme
that is more suitable for showing diverging values,
and define the color domain manually
to match the range of our variable.
An alternative to setting the color scheme explicitly
would have been to set <code class="docutils literal notranslate"><span class="pre">domainMid=0</span></code>,
in which case Altair understand this is a diverging variable
with a natural midpoint and uses the default diverging color scheme.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">corr_df</span><span class="p">)</span><span class="o">.</span><span class="n">mark_rect</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;level_0&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;level_1&#39;</span><span class="p">,</span>
    <span class="n">tooltip</span><span class="o">=</span><span class="s1">&#39;corr&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;corr&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">domain</span><span class="o">=</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="n">scheme</span><span class="o">=</span><span class="s1">&#39;purpleorange&#39;</span><span class="p">)</span>
<span class="p">)</span><span class="o">.</span><span class="n">properties</span><span class="p">(</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">200</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-149e5f5cfe5141a98f7e6bfc1709c43e.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-149e5f5cfe5141a98f7e6bfc1709c43e.vega-embed details,
  #altair-viz-149e5f5cfe5141a98f7e6bfc1709c43e.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-149e5f5cfe5141a98f7e6bfc1709c43e"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-149e5f5cfe5141a98f7e6bfc1709c43e") {
      outputDiv = document.getElementById("altair-viz-149e5f5cfe5141a98f7e6bfc1709c43e");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"corr": 1.0, "level_0": "year", "level_1": "year"}, {"corr": -2.5421305914407527e-15, "level_0": "year", "level_1": "cluster"}, {"corr": 0.0945000669391613, "level_0": "year", "level_1": "pop"}, {"corr": 0.4476659725226138, "level_0": "year", "level_1": "life_expect"}, {"corr": -0.48369806806000093, "level_0": "year", "level_1": "fertility"}, {"corr": -2.5421305914407527e-15, "level_0": "cluster", "level_1": "year"}, {"corr": 1.0, "level_0": "cluster", "level_1": "cluster"}, {"corr": -0.018022385345266703, "level_0": "cluster", "level_1": "pop"}, {"corr": -0.026345147402137357, "level_0": "cluster", "level_1": "life_expect"}, {"corr": 0.16714071351233084, "level_0": "cluster", "level_1": "fertility"}, {"corr": 0.0945000669391613, "level_0": "pop", "level_1": "year"}, {"corr": -0.018022385345266703, "level_0": "pop", "level_1": "cluster"}, {"corr": 1.0, "level_0": "pop", "level_1": "pop"}, {"corr": -0.06093928643133144, "level_0": "pop", "level_1": "life_expect"}, {"corr": -0.036793785388204166, "level_0": "pop", "level_1": "fertility"}, {"corr": 0.4476659725226138, "level_0": "life_expect", "level_1": "year"}, {"corr": -0.026345147402137357, "level_0": "life_expect", "level_1": "cluster"}, {"corr": -0.06093928643133144, "level_0": "life_expect", "level_1": "pop"}, {"corr": 1.0, "level_0": "life_expect", "level_1": "life_expect"}, {"corr": -0.8873398367934288, "level_0": "life_expect", "level_1": "fertility"}, {"corr": -0.48369806806000093, "level_0": "fertility", "level_1": "year"}, {"corr": 0.16714071351233084, "level_0": "fertility", "level_1": "cluster"}, {"corr": -0.036793785388204166, "level_0": "fertility", "level_1": "pop"}, {"corr": -0.8873398367934288, "level_0": "fertility", "level_1": "life_expect"}, {"corr": 1.0, "level_0": "fertility", "level_1": "fertility"}]}, {"name": "source_0_x_domain_level_0", "values": [{"level_0": "year"}, {"level_0": "cluster"}, {"level_0": "pop"}, {"level_0": "life_expect"}, {"level_0": "fertility"}]}, {"name": "source_0_y_domain_level_1", "values": [{"level_1": "year"}, {"level_1": "cluster"}, {"level_1": "pop"}, {"level_1": "life_expect"}, {"level_1": "fertility"}]}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"x": {"field": "level_0", "scale": "x"}, "y": {"field": "level_1", "scale": "y"}, "height": {"signal": "max(0.25, bandwidth('y'))"}, "tooltip": {"signal": "format(datum[\"corr\"], \"\")"}, "fill": {"field": "corr", "scale": "color"}, "width": {"signal": "max(0.25, bandwidth('x'))"}}}, "style": ["rect"]}], "scales": [{"name": "x", "type": "band", "domain": {"data": "source_0_x_domain_level_0", "field": "level_0", "sort": true}, "range": [0, {"signal": "width"}], "paddingInner": 0, "paddingOuter": 0}, {"name": "y", "type": "band", "domain": {"data": "source_0_y_domain_level_1", "field": "level_1", "sort": true}, "range": [0, {"signal": "height"}], "paddingOuter": 0, "paddingInner": 0}, {"name": "color", "type": "linear", "domain": [-1, 1], "range": {"scheme": "purpleorange"}, "interpolate": "hcl", "zero": true}], "axes": [{"scale": "x", "grid": false, "labelAlign": "right", "labelAngle": 270, "labelBaseline": "middle", "zindex": 1, "orient": "bottom", "title": "level_0"}, {"scale": "y", "title": "level_1", "zindex": 1, "orient": "left", "grid": false}], "style": "cell", "background": "white", "legends": [{"fill": "color", "gradientLength": {"signal": "clamp(height, 64, 200)"}, "title": "corr"}], "padding": 5, "width": 200, "height": 200}, {"mode": "vega"});
</script></div></div>
</div>
</section>
</section>
<section id="r">
<h3><span class="section-number">6.2.2. </span>R<a class="headerlink" href="#r" title="Link to this heading">#</a></h3>
<section id="id1">
<h4>Categorical<a class="headerlink" href="#id1" title="Link to this heading">#</a></h4>
<p>The default categorical colormap in ggplot is not explicitly designed,
but rather <a class="reference external" href="https://stackoverflow.com/questions/8197559/emulate-ggplot2-default-color-palette">created by selecting equally spaced colors from the color wheel</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
library(tidyverse)

ggplot(iris) + 
    aes(x = Petal.Width,
        y = Petal.Length,
        color = Species) +
    geom_point(size = 5)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.4     ✔ readr     2.1.5
✔ forcats   1.0.0     ✔ stringr   1.5.1
✔ ggplot2   3.5.2     ✔ tibble    3.3.0
✔ lubridate 1.9.4     ✔ tidyr     1.3.1
✔ purrr     1.1.0     
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors
</pre></div>
</div>
<img alt="../_images/756b048786b80e9c6084559d482513c584fe03a8c87812945fc274b80cb64318.png" src="../_images/756b048786b80e9c6084559d482513c584fe03a8c87812945fc274b80cb64318.png" />
</div>
</div>
<p>All useful color maps are not collecting in one place,
but available through different functions and packages.
For example,
the <a class="reference external" href="https://github.com/EmilHvitfeldt/r-color-palettes/blob/master/man/figures/README-RColorBrewer-1.png">color maps from color brewer</a> are accessible via
<code class="docutils literal notranslate"><span class="pre">scale_color|fill_brewer|distiller</span></code>
(use the brewer suffix for categorical and distiller for sequential values).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(iris) + 
    aes(x = Petal.Width,
        y = Petal.Length,
        color = Species) +
    geom_point(size = 5) +
    scale_color_brewer(palette = &#39;Dark2&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/828c2d1644bae28faa67e41d424b6f5780f3374141b80db8b2332b332171c8f9.png" src="../_images/828c2d1644bae28faa67e41d424b6f5780f3374141b80db8b2332b332171c8f9.png" />
</div>
</div>
<p><a class="reference external" href="https://github.com/EmilHvitfeldt/r-color-palettes">All R colors maps can be viewed in this repo</a>.
<a class="reference external" href="https://github.com/EmilHvitfeldt/r-color-palettes/blob/master/man/figures/README-ggthemes-1.png">The tableau colors used in Altair are accessible via the ggthemes package</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
# You need to install the package `ggthemes` to run this code
ggplot(iris) + 
    aes(x = Petal.Width,
        y = Petal.Length,
        color = Species) +
    geom_point(size = 5) +
    ggthemes::scale_color_tableau()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/e68d272353924babacd0e5567e90e7e340220f721c381855387fbf5f822a626b.png" src="../_images/e68d272353924babacd0e5567e90e7e340220f721c381855387fbf5f822a626b.png" />
</div>
</div>
<p>We could also set the colorscale manually,
let’s use the same colors as in the altair example,
but this time via their HTML codes instead.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(iris) + 
    aes(x = Petal.Width,
        y = Petal.Length,
        color = Species) +
    geom_point(size = 5) +
    scale_color_manual(values = c(&#39;#FF7F50&#39;, &#39;#4682B4&#39;, &#39;#663399&#39;))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/67b5af2eb7a8c580020d028df8d9be61730dbde038e5669225af8e2486fc8262.png" src="../_images/67b5af2eb7a8c580020d028df8d9be61730dbde038e5669225af8e2486fc8262.png" />
</div>
</div>
</section>
<section id="id2">
<h4>Sequential<a class="headerlink" href="#id2" title="Link to this heading">#</a></h4>
<p>The default color map for numerical values goes from dark to white,
since the default background is dark.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(iris) + 
    aes(x = Petal.Width,
        y = Petal.Length,
        color = Petal.Width) +
    geom_point(size = 5)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/6b29caf0e2b5d52e660894df26e34a693f9980c3d0d86c7d491a2f47137fc95f.png" src="../_images/6b29caf0e2b5d52e660894df26e34a693f9980c3d0d86c7d491a2f47137fc95f.png" />
</div>
</div>
<p>It can be changed to the viridis color map.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(iris) + 
    aes(x = Petal.Width,
        y = Petal.Length,
        color = Petal.Width) +
    geom_point(size = 5) +
    scale_color_viridis_c()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/fdeadf5027d72f4f03c6df46bfe90b747d1d75ca40b36eef8ca5ce235653f081.png" src="../_images/fdeadf5027d72f4f03c6df46bfe90b747d1d75ca40b36eef8ca5ce235653f081.png" />
</div>
</div>
<p>Reversing is possible via the same techniques as for axes,
but it does not look great since the color legend is sorted “upside down”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(iris) + 
    aes(x = Petal.Width,
        y = Petal.Length,
        color = Petal.Width) +
    geom_point(size = 5) +
    scale_color_viridis_c(trans = &#39;reverse&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/27b1aa595ad9321de985a21f65c1daed687365dcd53d3953d37c983eefc59656.png" src="../_images/27b1aa595ad9321de985a21f65c1daed687365dcd53d3953d37c983eefc59656.png" />
</div>
</div>
<p>There is a special syntax for colormaps
that preserves the orientation of the legend
while reversing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(iris) + 
    aes(x = Petal.Width,
        y = Petal.Length,
        color = Petal.Width) +
    geom_point(size = 5) +
    scale_color_viridis_c(direction = -1)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a135750edd3196c599aa2e41b4af4d17d209ae41ad29be19f6a337d4c675bd71.png" src="../_images/a135750edd3196c599aa2e41b4af4d17d209ae41ad29be19f6a337d4c675bd71.png" />
</div>
</div>
</section>
<section id="id3">
<h4>Diverging<a class="headerlink" href="#id3" title="Link to this heading">#</a></h4>
<p>Like in Altair,
it is not that informative to use the default color map for diverging values.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> -i corr_df
library(tidyverse)

ggplot(corr_df) +
    aes(x = level_0,
        y = level_1,
        fill = corr) +
    geom_tile()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/7631d5ae746209b1e93541448d2f78b7f25294cd4cad494d98ad79b8271878d2.png" src="../_images/7631d5ae746209b1e93541448d2f78b7f25294cd4cad494d98ad79b8271878d2.png" />
</div>
</div>
<p><a class="reference external" href="https://jrnold.github.io/ggthemes/reference/index.html">The default bluered tableau diverging color map can be used via ggthemes</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> -i corr_df
ggplot(corr_df) +
    aes(x = level_0,
        y = level_1,
        fill = corr) +
    geom_tile() +
    ggthemes::scale_fill_gradient2_tableau()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/5d119ac2cd47a062c29c4735676eeb836af60e7cf08c863d76795ba4b44a8f13.png" src="../_images/5d119ac2cd47a062c29c4735676eeb836af60e7cf08c863d76795ba4b44a8f13.png" />
</div>
</div>
<p>However,
this sets blue as high values by default,
which is against people’s intuition
since red is often used for “hot” and blue or “cold”.
We can either reverse the colormap,
or use one from ColorBrewer instead.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> -i corr_df
ggplot(corr_df) +
    aes(x = level_0,
        y = level_1,
        fill = corr) +
    geom_tile() +
    scale_fill_distiller(palette = &#39;PuOr&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/6572f631fdb998c65048ca838b257fb346b351ffb18b031ba0670f3d3be4c4e0.png" src="../_images/6572f631fdb998c65048ca838b257fb346b351ffb18b031ba0670f3d3be4c4e0.png" />
</div>
</div>
<p>Defining the colormap limits ensures that low and high values of the same magnitude
are equally highlighted.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> -i corr_df
ggplot(corr_df) +
    aes(x = level_0,
        y = level_1,
        fill = corr) +
    geom_tile() +
    scale_fill_distiller(palette = &#39;PuOr&#39;, limits = c(-1, 1))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a7299d0a01f35264dc1f7dc2434a46f4317d30138695b666156a3972cbd7787f.png" src="../_images/a7299d0a01f35264dc1f7dc2434a46f4317d30138695b666156a3972cbd7787f.png" />
</div>
</div>
</section>
</section>
</section>
<section id="highlighting-with-colors-and-text-labels">
<h2><span class="section-number">6.3. </span>Highlighting with colors and text labels<a class="headerlink" href="#highlighting-with-colors-and-text-labels" title="Link to this heading">#</a></h2>
<section id="id4">
<h3><span class="section-number">6.3.1. </span>Py<a class="headerlink" href="#id4" title="Link to this heading">#</a></h3>
<p>We can also use color to highlight manually select elements in plots,
for example the year with the highest wheat price in the figure below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">wheat</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">wheat</span><span class="p">()</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year &gt; 1700&#39;</span><span class="p">)</span>  <span class="c1"># Reduce the number of bars for clarity</span>

<span class="c1"># Set the year to be highlighted to a separate value in a new column</span>
<span class="n">wheat</span><span class="p">[</span><span class="s1">&#39;highlight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">wheat</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">wheat</span><span class="p">[</span><span class="s1">&#39;year&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">1810</span><span class="p">,</span> <span class="s1">&#39;highlight&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">True</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">wheat</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;wheat&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;highlight&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-35e026a6f8444d5b93844fad61e51dc5.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-35e026a6f8444d5b93844fad61e51dc5.vega-embed details,
  #altair-viz-35e026a6f8444d5b93844fad61e51dc5.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-35e026a6f8444d5b93844fad61e51dc5"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-35e026a6f8444d5b93844fad61e51dc5") {
      outputDiv = document.getElementById("altair-viz-35e026a6f8444d5b93844fad61e51dc5");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "source_0_x_domain_year", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "source_0_color_domain_highlight", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"width": {"signal": "max(0.25, bandwidth('x'))"}, "y2": {"field": "wheat_start", "scale": "y"}, "x": {"field": "year", "scale": "x"}, "fill": {"field": "highlight", "scale": "color"}, "y": {"field": "wheat_end", "scale": "y"}}}, "style": ["bar"]}], "scales": [{"name": "x", "type": "band", "domain": {"data": "source_0_x_domain_year", "field": "year", "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "y", "type": "linear", "domain": {"data": "source_0", "fields": ["wheat_start", "wheat_end"]}, "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_highlight", "field": "highlight", "sort": true}, "range": "category"}], "axes": [{"scale": "y", "labels": false, "maxExtent": 0, "minExtent": 0, "grid": true, "gridScale": "x", "zindex": 0, "tickCount": {"signal": "ceil(height/40)"}, "ticks": false, "orient": "left", "aria": false, "domain": false}, {"scale": "x", "labelAngle": 270, "orient": "bottom", "grid": false, "labelAlign": "right", "zindex": 0, "labelBaseline": "middle", "title": "year"}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "orient": "left", "zindex": 0, "labelOverlap": true, "title": "wheat", "grid": false}], "padding": 5, "legends": [{"fill": "color", "symbolType": "square", "title": "highlight"}], "background": "white", "height": 300, "style": "cell"}, {"mode": "vega"});
</script></div></div>
</div>
<p>The legend is not that useful here so lets remove it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">wheat</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;wheat&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-9cdd15283b154a4da163a1a77244c04d.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-9cdd15283b154a4da163a1a77244c04d.vega-embed details,
  #altair-viz-9cdd15283b154a4da163a1a77244c04d.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-9cdd15283b154a4da163a1a77244c04d"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-9cdd15283b154a4da163a1a77244c04d") {
      outputDiv = document.getElementById("altair-viz-9cdd15283b154a4da163a1a77244c04d");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "source_0_x_domain_year", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "source_0_color_domain_highlight", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "marks", "from": {"data": "source_0"}, "encode": {"update": {"x": {"field": "year", "scale": "x"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "fill": {"field": "highlight", "scale": "color"}, "y": {"field": "wheat_end", "scale": "y"}, "y2": {"field": "wheat_start", "scale": "y"}}}, "style": ["bar"]}], "scales": [{"name": "x", "type": "band", "domain": {"data": "source_0_x_domain_year", "field": "year", "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "y", "type": "linear", "domain": {"data": "source_0", "fields": ["wheat_start", "wheat_end"]}, "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_highlight", "field": "highlight", "sort": true}, "range": "category"}], "axes": [{"scale": "y", "ticks": false, "labels": false, "domain": false, "gridScale": "x", "tickCount": {"signal": "ceil(height/40)"}, "maxExtent": 0, "grid": true, "minExtent": 0, "zindex": 0, "orient": "left", "aria": false}, {"scale": "x", "title": "year", "labelBaseline": "middle", "labelAlign": "right", "labelAngle": 270, "orient": "bottom", "grid": false, "zindex": 0}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "orient": "left", "labelOverlap": true, "grid": false, "zindex": 0, "title": "wheat"}], "height": 300, "background": "white", "style": "cell", "padding": 5}, {"mode": "vega"});
</script></div></div>
</div>
<p>Adding an annotation in the form of the exact price can be helpful.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">wheat</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;wheat&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">bars</span> <span class="o">+</span> <span class="n">bars</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dy</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;wheat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-a136f4c3f362495388e96dd739a82ff6.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-a136f4c3f362495388e96dd739a82ff6.vega-embed details,
  #altair-viz-a136f4c3f362495388e96dd739a82ff6.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-a136f4c3f362495388e96dd739a82ff6"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-a136f4c3f362495388e96dd739a82ff6") {
      outputDiv = document.getElementById("altair-viz-a136f4c3f362495388e96dd739a82ff6");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0"}, {"name": "data_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "data_1", "values": [{"highlight": false, "wheat": 32.0, "year": 1705}, {"highlight": false, "wheat": 44.0, "year": 1710}, {"highlight": false, "wheat": 33.0, "year": 1715}, {"highlight": false, "wheat": 29.0, "year": 1720}, {"highlight": false, "wheat": 39.0, "year": 1725}, {"highlight": false, "wheat": 26.0, "year": 1730}, {"highlight": false, "wheat": 32.0, "year": 1735}, {"highlight": false, "wheat": 27.0, "year": 1740}, {"highlight": false, "wheat": 27.5, "year": 1745}, {"highlight": false, "wheat": 31.0, "year": 1750}, {"highlight": false, "wheat": 35.5, "year": 1755}, {"highlight": false, "wheat": 31.0, "year": 1760}, {"highlight": false, "wheat": 43.0, "year": 1765}, {"highlight": false, "wheat": 47.0, "year": 1770}, {"highlight": false, "wheat": 44.0, "year": 1775}, {"highlight": false, "wheat": 46.0, "year": 1780}, {"highlight": false, "wheat": 42.0, "year": 1785}, {"highlight": false, "wheat": 47.5, "year": 1790}, {"highlight": false, "wheat": 76.0, "year": 1795}, {"highlight": false, "wheat": 79.0, "year": 1800}, {"highlight": false, "wheat": 81.0, "year": 1805}, {"highlight": true, "wheat": 99.0, "year": 1810}, {"highlight": false, "wheat": 78.0, "year": 1815}, {"highlight": false, "wheat": 54.0, "year": 1820}]}, {"name": "data_0_x_domain_year_0", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "data_1_x_domain_year_1", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "data_0_color_domain_highlight_0", "values": [{"highlight": false}, {"highlight": true}]}, {"name": "data_1_color_domain_highlight_1", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "layer_0_marks", "from": {"data": "data_0"}, "encode": {"update": {"y": {"field": "wheat_end", "scale": "y"}, "y2": {"field": "wheat_start", "scale": "y"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "fill": {"field": "highlight", "scale": "color"}, "x": {"field": "year", "scale": "x"}}}, "style": ["bar"]}, {"type": "text", "name": "layer_1_marks", "from": {"data": "data_1"}, "encode": {"update": {"x": {"field": "year", "scale": "x", "band": 0.5}, "fill": {"field": "highlight", "scale": "color"}, "text": {"signal": "format(datum[\"wheat\"], \"\")"}, "y": {"field": "wheat", "scale": "y"}, "align": {"value": "center"}, "dy": {"value": -5}, "baseline": {"value": "middle"}}}, "style": ["text"]}], "scales": [{"name": "x", "type": "band", "domain": {"fields": [{"data": "data_0_x_domain_year_0", "field": "year"}, {"data": "data_1_x_domain_year_1", "field": "year"}], "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "data_0", "field": "wheat_start"}, {"data": "data_0", "field": "wheat_end"}, {"data": "data_1", "field": "wheat"}]}, "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"fields": [{"data": "data_0_color_domain_highlight_0", "field": "highlight"}, {"data": "data_1_color_domain_highlight_1", "field": "highlight"}], "sort": true}, "range": "category"}], "axes": [{"scale": "y", "grid": true, "tickCount": {"signal": "ceil(height/40)"}, "domain": false, "maxExtent": 0, "minExtent": 0, "ticks": false, "orient": "left", "labels": false, "zindex": 0, "gridScale": "x", "aria": false}, {"scale": "x", "grid": false, "labelAngle": 270, "zindex": 0, "labelAlign": "right", "labelBaseline": "middle", "title": "year", "orient": "bottom"}, {"scale": "y", "orient": "left", "tickCount": {"signal": "ceil(height/40)"}, "labelOverlap": true, "zindex": 0, "title": "wheat", "grid": false}], "style": "cell", "background": "white", "padding": 5, "height": 300}, {"mode": "vega"});
</script></div></div>
</div>
<p>If we want to override the color,
we need to set it in the encoding.
Setting it in the <code class="docutils literal notranslate"><span class="pre">mark</span></code> would not work
since we are building off a chart which has the encoding color set,
and this has higher precedence than color set in the <code class="docutils literal notranslate"><span class="pre">mark</span></code>.
To pass a literal value in the encoding
(instead of asking altair to look for a column with this name in the dataframe),
we can use <code class="docutils literal notranslate"><span class="pre">alt.value()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">wheat</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;wheat&quot;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">bars</span> <span class="o">+</span> <span class="n">bars</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dy</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;wheat&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-459e9fd6794346afb92b2be8a9e21d11.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-459e9fd6794346afb92b2be8a9e21d11.vega-embed details,
  #altair-viz-459e9fd6794346afb92b2be8a9e21d11.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-459e9fd6794346afb92b2be8a9e21d11"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-459e9fd6794346afb92b2be8a9e21d11") {
      outputDiv = document.getElementById("altair-viz-459e9fd6794346afb92b2be8a9e21d11");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0"}, {"name": "data_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "data_1", "values": [{"wheat": 32.0, "year": 1705}, {"wheat": 44.0, "year": 1710}, {"wheat": 33.0, "year": 1715}, {"wheat": 29.0, "year": 1720}, {"wheat": 39.0, "year": 1725}, {"wheat": 26.0, "year": 1730}, {"wheat": 32.0, "year": 1735}, {"wheat": 27.0, "year": 1740}, {"wheat": 27.5, "year": 1745}, {"wheat": 31.0, "year": 1750}, {"wheat": 35.5, "year": 1755}, {"wheat": 31.0, "year": 1760}, {"wheat": 43.0, "year": 1765}, {"wheat": 47.0, "year": 1770}, {"wheat": 44.0, "year": 1775}, {"wheat": 46.0, "year": 1780}, {"wheat": 42.0, "year": 1785}, {"wheat": 47.5, "year": 1790}, {"wheat": 76.0, "year": 1795}, {"wheat": 79.0, "year": 1800}, {"wheat": 81.0, "year": 1805}, {"wheat": 99.0, "year": 1810}, {"wheat": 78.0, "year": 1815}, {"wheat": 54.0, "year": 1820}]}, {"name": "data_0_x_domain_year_0", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "data_1_x_domain_year_1", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "data_0_color_domain_highlight", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "layer_0_marks", "from": {"data": "data_0"}, "encode": {"update": {"y2": {"field": "wheat_start", "scale": "y"}, "x": {"field": "year", "scale": "x"}, "y": {"field": "wheat_end", "scale": "y"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "fill": {"field": "highlight", "scale": "color"}}}, "style": ["bar"]}, {"type": "text", "name": "layer_1_marks", "from": {"data": "data_1"}, "encode": {"update": {"dy": {"value": -5}, "fill": {"value": "black"}, "text": {"signal": "format(datum[\"wheat\"], \"\")"}, "y": {"field": "wheat", "scale": "y"}, "x": {"field": "year", "scale": "x", "band": 0.5}, "baseline": {"value": "middle"}, "align": {"value": "center"}}}, "style": ["text"]}], "scales": [{"name": "x", "type": "band", "domain": {"fields": [{"data": "data_0_x_domain_year_0", "field": "year"}, {"data": "data_1_x_domain_year_1", "field": "year"}], "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "data_0", "field": "wheat_start"}, {"data": "data_0", "field": "wheat_end"}, {"data": "data_1", "field": "wheat"}]}, "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "ordinal", "domain": {"data": "data_0_color_domain_highlight", "field": "highlight", "sort": true}, "range": "category"}], "axes": [{"scale": "y", "gridScale": "x", "labels": false, "orient": "left", "grid": true, "domain": false, "minExtent": 0, "maxExtent": 0, "ticks": false, "aria": false, "tickCount": {"signal": "ceil(height/40)"}, "zindex": 0}, {"scale": "x", "zindex": 0, "grid": false, "labelAlign": "right", "labelBaseline": "middle", "labelAngle": 270, "title": "year", "orient": "bottom"}, {"scale": "y", "grid": false, "title": "wheat", "zindex": 0, "tickCount": {"signal": "ceil(height/40)"}, "labelOverlap": true, "orient": "left"}], "height": 300, "padding": 5, "background": "white", "style": "cell"}, {"mode": "vega"});
</script></div></div>
</div>
<p>Now that we are supplying the exact value,
we no longer need the gridlines,
which are there to help infer values
(and also make exact comparisons between graphical elements far away from each other).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">wheat</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;wheat&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">bars</span> <span class="o">+</span> <span class="n">bars</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dy</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;wheat&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-ad1ad0d390a442ca9bdd9c4e3b82815f.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-ad1ad0d390a442ca9bdd9c4e3b82815f.vega-embed details,
  #altair-viz-ad1ad0d390a442ca9bdd9c4e3b82815f.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-ad1ad0d390a442ca9bdd9c4e3b82815f"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-ad1ad0d390a442ca9bdd9c4e3b82815f") {
      outputDiv = document.getElementById("altair-viz-ad1ad0d390a442ca9bdd9c4e3b82815f");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0"}, {"name": "data_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "data_1", "values": [{"wheat": 32.0, "year": 1705}, {"wheat": 44.0, "year": 1710}, {"wheat": 33.0, "year": 1715}, {"wheat": 29.0, "year": 1720}, {"wheat": 39.0, "year": 1725}, {"wheat": 26.0, "year": 1730}, {"wheat": 32.0, "year": 1735}, {"wheat": 27.0, "year": 1740}, {"wheat": 27.5, "year": 1745}, {"wheat": 31.0, "year": 1750}, {"wheat": 35.5, "year": 1755}, {"wheat": 31.0, "year": 1760}, {"wheat": 43.0, "year": 1765}, {"wheat": 47.0, "year": 1770}, {"wheat": 44.0, "year": 1775}, {"wheat": 46.0, "year": 1780}, {"wheat": 42.0, "year": 1785}, {"wheat": 47.5, "year": 1790}, {"wheat": 76.0, "year": 1795}, {"wheat": 79.0, "year": 1800}, {"wheat": 81.0, "year": 1805}, {"wheat": 99.0, "year": 1810}, {"wheat": 78.0, "year": 1815}, {"wheat": 54.0, "year": 1820}]}, {"name": "data_0_x_domain_year_0", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "data_1_x_domain_year_1", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "data_0_color_domain_highlight", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "layer_0_marks", "from": {"data": "data_0"}, "encode": {"update": {"x": {"field": "year", "scale": "x"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "fill": {"field": "highlight", "scale": "color"}, "y": {"field": "wheat_end", "scale": "y"}, "y2": {"field": "wheat_start", "scale": "y"}}}, "style": ["bar"]}, {"type": "text", "name": "layer_1_marks", "from": {"data": "data_1"}, "encode": {"update": {"x": {"field": "year", "scale": "x", "band": 0.5}, "baseline": {"value": "middle"}, "text": {"signal": "format(datum[\"wheat\"], \"\")"}, "dy": {"value": -5}, "fill": {"value": "black"}, "y": {"field": "wheat", "scale": "y"}, "align": {"value": "center"}}}, "style": ["text"]}], "scales": [{"name": "x", "type": "band", "domain": {"fields": [{"data": "data_0_x_domain_year_0", "field": "year"}, {"data": "data_1_x_domain_year_1", "field": "year"}], "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "data_0", "field": "wheat_start"}, {"data": "data_0", "field": "wheat_end"}, {"data": "data_1", "field": "wheat"}]}, "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "data_0_color_domain_highlight", "field": "highlight", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "labelBaseline": "middle", "zindex": 0, "labelAngle": 270, "grid": false, "title": "year", "orient": "bottom", "labelAlign": "right"}, {"scale": "y", "grid": false, "orient": "left", "tickCount": {"signal": "ceil(height/40)"}, "labelOverlap": true, "zindex": 0, "title": "wheat"}], "background": "white", "padding": 5, "height": 300, "style": "cell"}, {"mode": "vega"});
</script></div></div>
</div>
<p>Generally,
having an outline of a plot is not that aesthetically pleasing.
It works well in altair when we have the gridlines since they melt together,
but now that they are gone,
let’s also remove the outline.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bars</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">wheat</span><span class="p">)</span><span class="o">.</span><span class="n">mark_bar</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Y</span><span class="p">(</span><span class="s1">&#39;wheat&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="n">grid</span><span class="o">=</span><span class="kc">False</span><span class="p">),</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;highlight&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">(</span><span class="n">bars</span> <span class="o">+</span> <span class="n">bars</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dy</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s1">&#39;wheat&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;black&#39;</span><span class="p">)))</span><span class="o">.</span><span class="n">configure_view</span><span class="p">(</span><span class="n">stroke</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-da706a97541e48f2b3ffd3280ef4608a.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-da706a97541e48f2b3ffd3280ef4608a.vega-embed details,
  #altair-viz-da706a97541e48f2b3ffd3280ef4608a.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-da706a97541e48f2b3ffd3280ef4608a"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-da706a97541e48f2b3ffd3280ef4608a") {
      outputDiv = document.getElementById("altair-viz-da706a97541e48f2b3ffd3280ef4608a");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0"}, {"name": "data_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "data_1", "values": [{"wheat": 32.0, "year": 1705}, {"wheat": 44.0, "year": 1710}, {"wheat": 33.0, "year": 1715}, {"wheat": 29.0, "year": 1720}, {"wheat": 39.0, "year": 1725}, {"wheat": 26.0, "year": 1730}, {"wheat": 32.0, "year": 1735}, {"wheat": 27.0, "year": 1740}, {"wheat": 27.5, "year": 1745}, {"wheat": 31.0, "year": 1750}, {"wheat": 35.5, "year": 1755}, {"wheat": 31.0, "year": 1760}, {"wheat": 43.0, "year": 1765}, {"wheat": 47.0, "year": 1770}, {"wheat": 44.0, "year": 1775}, {"wheat": 46.0, "year": 1780}, {"wheat": 42.0, "year": 1785}, {"wheat": 47.5, "year": 1790}, {"wheat": 76.0, "year": 1795}, {"wheat": 79.0, "year": 1800}, {"wheat": 81.0, "year": 1805}, {"wheat": 99.0, "year": 1810}, {"wheat": 78.0, "year": 1815}, {"wheat": 54.0, "year": 1820}]}, {"name": "data_0_x_domain_year_0", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "data_1_x_domain_year_1", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "data_0_color_domain_highlight", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "layer_0_marks", "from": {"data": "data_0"}, "encode": {"update": {"fill": {"field": "highlight", "scale": "color"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "y": {"field": "wheat_end", "scale": "y"}, "y2": {"field": "wheat_start", "scale": "y"}, "x": {"field": "year", "scale": "x"}}}, "style": ["bar"]}, {"type": "text", "name": "layer_1_marks", "from": {"data": "data_1"}, "encode": {"update": {"x": {"field": "year", "scale": "x", "band": 0.5}, "y": {"field": "wheat", "scale": "y"}, "text": {"signal": "format(datum[\"wheat\"], \"\")"}, "align": {"value": "center"}, "fill": {"value": "black"}, "baseline": {"value": "middle"}, "dy": {"value": -5}}}, "style": ["text"]}], "scales": [{"name": "x", "type": "band", "domain": {"fields": [{"data": "data_0_x_domain_year_0", "field": "year"}, {"data": "data_1_x_domain_year_1", "field": "year"}], "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "data_0", "field": "wheat_start"}, {"data": "data_0", "field": "wheat_end"}, {"data": "data_1", "field": "wheat"}]}, "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "data_0_color_domain_highlight", "field": "highlight", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "grid": false, "zindex": 0, "orient": "bottom", "title": "year", "labelAngle": 270, "labelBaseline": "middle", "labelAlign": "right"}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "grid": false, "labelOverlap": true, "zindex": 0, "orient": "left", "title": "wheat"}], "config": {"style": {"cell": {"stroke": null}}}, "background": "white", "padding": 5, "style": "cell", "height": 300}, {"mode": "vega"});
</script></div></div>
</div>
<p>We can highlight only the year
by filtering the data frame.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bars</span> <span class="o">+</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">wheat</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year == 1810&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dy</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;wheat&quot;</span><span class="p">,</span>
    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;wheat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-7b979ea133ca489ca2075799631b6041.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-7b979ea133ca489ca2075799631b6041.vega-embed details,
  #altair-viz-7b979ea133ca489ca2075799631b6041.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-7b979ea133ca489ca2075799631b6041"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-7b979ea133ca489ca2075799631b6041") {
      outputDiv = document.getElementById("altair-viz-7b979ea133ca489ca2075799631b6041");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "source_1", "values": [{"wheat": 99.0, "year": 1810}]}, {"name": "source_0_x_domain_year_0", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "source_1_x_domain_year_1", "values": [{"year": 1810}]}, {"name": "source_0_color_domain_highlight", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "layer_0_marks", "from": {"data": "source_0"}, "encode": {"update": {"fill": {"field": "highlight", "scale": "color"}, "x": {"field": "year", "scale": "x"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "y": {"field": "wheat_end", "scale": "y"}, "y2": {"field": "wheat_start", "scale": "y"}}}, "style": ["bar"]}, {"type": "text", "name": "layer_1_marks", "from": {"data": "source_1"}, "encode": {"update": {"dy": {"value": -5}, "align": {"value": "center"}, "fill": {"value": "black"}, "text": {"signal": "format(datum[\"wheat\"], \"\")"}, "x": {"field": "year", "scale": "x", "band": 0.5}, "y": {"field": "wheat", "scale": "y"}, "baseline": {"value": "middle"}}}, "style": ["text"]}], "scales": [{"name": "x", "type": "band", "domain": {"fields": [{"data": "source_0_x_domain_year_0", "field": "year"}, {"data": "source_1_x_domain_year_1", "field": "year"}], "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "source_0", "field": "wheat_start"}, {"data": "source_0", "field": "wheat_end"}, {"data": "source_1", "field": "wheat"}]}, "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_highlight", "field": "highlight", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "labelAngle": 270, "orient": "bottom", "labelAlign": "right", "labelBaseline": "middle", "zindex": 0, "title": "year", "grid": false}, {"scale": "y", "tickCount": {"signal": "ceil(height/40)"}, "labelOverlap": true, "orient": "left", "zindex": 0, "grid": false, "title": "wheat"}], "height": 300, "padding": 5, "style": "cell", "background": "white"}, {"mode": "vega"});
</script></div></div>
</div>
<p>To set a custom text,
we can use <code class="docutils literal notranslate"><span class="pre">alt.value</span></code> again.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bars</span> <span class="o">+</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">wheat</span><span class="o">.</span><span class="n">query</span><span class="p">(</span><span class="s1">&#39;year == 1810&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dy</span><span class="o">=-</span><span class="mi">5</span><span class="p">,</span> <span class="n">dx</span><span class="o">=-</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;wheat&quot;</span><span class="p">,</span>
    <span class="n">text</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">value</span><span class="p">(</span><span class="s1">&#39;The record year&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-72195acc7b754daaa86f01d704432abe.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-72195acc7b754daaa86f01d704432abe.vega-embed details,
  #altair-viz-72195acc7b754daaa86f01d704432abe.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-72195acc7b754daaa86f01d704432abe"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-72195acc7b754daaa86f01d704432abe") {
      outputDiv = document.getElementById("altair-viz-72195acc7b754daaa86f01d704432abe");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "source_1", "values": [{"wheat": 99.0, "year": 1810}]}, {"name": "source_0_x_domain_year_0", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "source_1_x_domain_year_1", "values": [{"year": 1810}]}, {"name": "source_0_color_domain_highlight", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "layer_0_marks", "from": {"data": "source_0"}, "encode": {"update": {"y2": {"field": "wheat_start", "scale": "y"}, "fill": {"field": "highlight", "scale": "color"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "x": {"field": "year", "scale": "x"}, "y": {"field": "wheat_end", "scale": "y"}}}, "style": ["bar"]}, {"type": "text", "name": "layer_1_marks", "from": {"data": "source_1"}, "encode": {"update": {"align": {"value": "center"}, "y": {"field": "wheat", "scale": "y"}, "baseline": {"value": "middle"}, "fill": {"value": "black"}, "dy": {"value": -5}, "text": {"value": "The record year"}, "x": {"field": "year", "scale": "x", "band": 0.5}, "dx": {"value": -30}}}, "style": ["text"]}], "scales": [{"name": "x", "type": "band", "domain": {"fields": [{"data": "source_0_x_domain_year_0", "field": "year"}, {"data": "source_1_x_domain_year_1", "field": "year"}], "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "source_0", "field": "wheat_start"}, {"data": "source_0", "field": "wheat_end"}, {"data": "source_1", "field": "wheat"}]}, "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_highlight", "field": "highlight", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "labelAlign": "right", "orient": "bottom", "labelAngle": 270, "grid": false, "labelBaseline": "middle", "zindex": 0, "title": "year"}, {"scale": "y", "orient": "left", "grid": false, "title": "wheat", "labelOverlap": true, "tickCount": {"signal": "ceil(height/40)"}, "zindex": 0}], "style": "cell", "background": "white", "padding": 5, "height": 300}, {"mode": "vega"});
</script></div></div>
</div>
<p>To set multiple values,
we could either add an annotation column to our existing data frame,
or create a new datframe as below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>

<span class="n">annot_wheat</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;year&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1730</span><span class="p">,</span> <span class="mi">1810</span><span class="p">],</span> <span class="s1">&#39;wheat&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">26</span><span class="p">,</span> <span class="mi">99</span><span class="p">],</span> <span class="s1">&#39;text&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;The lowest year&#39;</span><span class="p">,</span> <span class="s1">&#39;The record year&#39;</span><span class="p">]})</span>
<span class="n">annot_wheat</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>year</th>
      <th>wheat</th>
      <th>text</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1730</td>
      <td>26</td>
      <td>The lowest year</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1810</td>
      <td>99</td>
      <td>The record year</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bars</span> <span class="o">+</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">annot_wheat</span><span class="p">)</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dy</span><span class="o">=-</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;year:O&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s2">&quot;wheat&quot;</span><span class="p">,</span>
    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;text&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-84c0313c977f458f9f8b8e39b9d65166.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-84c0313c977f458f9f8b8e39b9d65166.vega-embed details,
  #altair-viz-84c0313c977f458f9f8b8e39b9d65166.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-84c0313c977f458f9f8b8e39b9d65166"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-84c0313c977f458f9f8b8e39b9d65166") {
      outputDiv = document.getElementById("altair-viz-84c0313c977f458f9f8b8e39b9d65166");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1705}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1710}, {"highlight": false, "wheat_end": 33.0, "wheat_start": 0.0, "year": 1715}, {"highlight": false, "wheat_end": 29.0, "wheat_start": 0.0, "year": 1720}, {"highlight": false, "wheat_end": 39.0, "wheat_start": 0.0, "year": 1725}, {"highlight": false, "wheat_end": 26.0, "wheat_start": 0.0, "year": 1730}, {"highlight": false, "wheat_end": 32.0, "wheat_start": 0.0, "year": 1735}, {"highlight": false, "wheat_end": 27.0, "wheat_start": 0.0, "year": 1740}, {"highlight": false, "wheat_end": 27.5, "wheat_start": 0.0, "year": 1745}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1750}, {"highlight": false, "wheat_end": 35.5, "wheat_start": 0.0, "year": 1755}, {"highlight": false, "wheat_end": 31.0, "wheat_start": 0.0, "year": 1760}, {"highlight": false, "wheat_end": 43.0, "wheat_start": 0.0, "year": 1765}, {"highlight": false, "wheat_end": 47.0, "wheat_start": 0.0, "year": 1770}, {"highlight": false, "wheat_end": 44.0, "wheat_start": 0.0, "year": 1775}, {"highlight": false, "wheat_end": 46.0, "wheat_start": 0.0, "year": 1780}, {"highlight": false, "wheat_end": 42.0, "wheat_start": 0.0, "year": 1785}, {"highlight": false, "wheat_end": 47.5, "wheat_start": 0.0, "year": 1790}, {"highlight": false, "wheat_end": 76.0, "wheat_start": 0.0, "year": 1795}, {"highlight": false, "wheat_end": 79.0, "wheat_start": 0.0, "year": 1800}, {"highlight": false, "wheat_end": 81.0, "wheat_start": 0.0, "year": 1805}, {"highlight": true, "wheat_end": 99.0, "wheat_start": 0.0, "year": 1810}, {"highlight": false, "wheat_end": 78.0, "wheat_start": 0.0, "year": 1815}, {"highlight": false, "wheat_end": 54.0, "wheat_start": 0.0, "year": 1820}]}, {"name": "source_1", "values": [{"text": "The lowest year", "wheat": 26, "year": 1730}, {"text": "The record year", "wheat": 99, "year": 1810}]}, {"name": "source_0_x_domain_year_0", "values": [{"year": 1705}, {"year": 1710}, {"year": 1715}, {"year": 1720}, {"year": 1725}, {"year": 1730}, {"year": 1735}, {"year": 1740}, {"year": 1745}, {"year": 1750}, {"year": 1755}, {"year": 1760}, {"year": 1765}, {"year": 1770}, {"year": 1775}, {"year": 1780}, {"year": 1785}, {"year": 1790}, {"year": 1795}, {"year": 1800}, {"year": 1805}, {"year": 1810}, {"year": 1815}, {"year": 1820}]}, {"name": "source_1_x_domain_year_1", "values": [{"year": 1730}, {"year": 1810}]}, {"name": "source_0_color_domain_highlight", "values": [{"highlight": false}, {"highlight": true}]}], "signals": [{"name": "x_step", "value": 20}, {"name": "width", "update": "bandspace(domain('x').length, 0.1, 0.05) * x_step"}], "marks": [{"type": "rect", "name": "layer_0_marks", "from": {"data": "source_0"}, "encode": {"update": {"fill": {"field": "highlight", "scale": "color"}, "x": {"field": "year", "scale": "x"}, "y": {"field": "wheat_end", "scale": "y"}, "width": {"signal": "max(0.25, bandwidth('x'))"}, "y2": {"field": "wheat_start", "scale": "y"}}}, "style": ["bar"]}, {"type": "text", "name": "layer_1_marks", "from": {"data": "source_1"}, "encode": {"update": {"x": {"field": "year", "scale": "x", "band": 0.5}, "fill": {"value": "black"}, "y": {"field": "wheat", "scale": "y"}, "text": {"signal": "isValid(datum[\"text\"]) ? datum[\"text\"] : \"\"+datum[\"text\"]"}, "align": {"value": "center"}, "dy": {"value": -5}, "baseline": {"value": "middle"}}}, "style": ["text"]}], "scales": [{"name": "x", "type": "band", "domain": {"fields": [{"data": "source_0_x_domain_year_0", "field": "year"}, {"data": "source_1_x_domain_year_1", "field": "year"}], "sort": true}, "range": {"step": {"signal": "x_step"}}, "paddingInner": 0.1, "paddingOuter": 0.05}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "source_0", "field": "wheat_start"}, {"data": "source_0", "field": "wheat_end"}, {"data": "source_1", "field": "wheat"}]}, "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_highlight", "field": "highlight", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "labelAngle": 270, "orient": "bottom", "labelAlign": "right", "labelBaseline": "middle", "grid": false, "title": "year", "zindex": 0}, {"scale": "y", "title": "wheat", "grid": false, "tickCount": {"signal": "ceil(height/40)"}, "zindex": 0, "orient": "left", "labelOverlap": true}], "style": "cell", "padding": 5, "height": 300, "background": "white"}, {"mode": "vega"});
</script></div></div>
</div>
<p>To avoid the overlap of the new annotation and the blue bars,
we would have to create the annotations in two separate steps
and change their text position or color accordingly.
If using two separate steps,
we can also use the <code class="docutils literal notranslate"><span class="pre">alt.value()</span></code> technique,
which avoids us having to create the new data frame.</p>
</section>
<section id="id5">
<h3><span class="section-number">6.3.2. </span>R<a class="headerlink" href="#id5" title="Link to this heading">#</a></h3>
<p>Using the dataframe with the highlight column,
we can set the fill accordingly.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> -i wheat
ggplot(wheat) +
    aes(x = year,
        y = wheat,
        fill = highlight) +
    geom_bar(stat = &#39;identity&#39;, color = &#39;white&#39;) +
    ggthemes::scale_fill_tableau()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/a39872eb21acaaf11ec383a149d0d5df6e41270f51b2080507b7a758708525e0.png" src="../_images/a39872eb21acaaf11ec383a149d0d5df6e41270f51b2080507b7a758708525e0.png" />
</div>
</div>
<p>And remove the legend.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> 
ggplot(wheat) +
    aes(x = year,
        y = wheat,
        fill = highlight) +
    geom_bar(stat = &#39;identity&#39;, color = &#39;white&#39;) + 
    ggthemes::scale_fill_tableau() +
    theme(legend.position = &#39;none&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/287a4bdb82831a8dfa39cd5529d6826aacf45d228a91336112ff5086f1ed7ce8.png" src="../_images/287a4bdb82831a8dfa39cd5529d6826aacf45d228a91336112ff5086f1ed7ce8.png" />
</div>
</div>
<p>To add annotations,
we can use <code class="docutils literal notranslate"><span class="pre">geom_text</span></code>
with the <code class="docutils literal notranslate"><span class="pre">label</span></code> aesthetic.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> 
ggplot(wheat) +
    aes(x = year,
        y = wheat,
        fill = highlight,
        label = wheat) +
    geom_bar(stat = &#39;identity&#39;, color = &#39;white&#39;) + 
    geom_text(vjust=-0.3) +
    ggthemes::scale_fill_tableau() +
    theme(legend.position = &#39;none&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/d8d8466ec6db7227fca41964d9656f1b37743954ad5795c0d2a96719778901aa.png" src="../_images/d8d8466ec6db7227fca41964d9656f1b37743954ad5795c0d2a96719778901aa.png" />
</div>
</div>
<p>To get these to be the same colors as the bars,
we can set the <code class="docutils literal notranslate"><span class="pre">color</span></code> aestethic,
and add the corresponding color scale.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(wheat) +
    aes(x = year,
        y = wheat,
        fill = highlight,
        label = wheat,
        color = highlight) +
    geom_bar(stat = &#39;identity&#39;, color = &#39;white&#39;) + 
    geom_text(vjust=-0.3) +
    ggthemes::scale_fill_tableau() +
    ggthemes::scale_color_tableau() +
    theme(legend.position = &#39;none&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/b34fb822ee24590a74418a7a8ba3d2de1170771197a7ed17db2970cab64c6a2a.png" src="../_images/b34fb822ee24590a74418a7a8ba3d2de1170771197a7ed17db2970cab64c6a2a.png" />
</div>
</div>
<p>Now we can remove the gridlines.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(wheat) +
    aes(x = year,
        y = wheat,
        fill = highlight,
        label = wheat,
        color = highlight) +
    geom_bar(stat = &#39;identity&#39;, color = &#39;white&#39;) + 
    geom_text(vjust=-0.3) +
    ggthemes::scale_fill_tableau() +
    ggthemes::scale_color_tableau() +
    theme(legend.position = &#39;none&#39;,
          panel.grid.major = element_blank(),
          panel.grid.minor = element_blank())
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/648be15deb2e98a6aefb365e58c6750d1f76763fe0e8aa3d3a6f72c1cc88f772.png" src="../_images/648be15deb2e98a6aefb365e58c6750d1f76763fe0e8aa3d3a6f72c1cc88f772.png" />
</div>
</div>
<p>If you want your label to represent the count
(which we normally calculate in the geom for ggplot),
you can set it to <code class="docutils literal notranslate"><span class="pre">label</span> <span class="pre">=</span> <span class="pre">stat(count)</span></code>.</p>
<p>To set a specific annotation text,
we could either use the same approach as in Altair
of adding a new column to our data frame,
or we could use the <code class="docutils literal notranslate"><span class="pre">annotate</span></code> function.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(wheat) +
    aes(x = year,
        y = wheat,
        fill = highlight) +
    geom_bar(stat = &#39;identity&#39;, color = &#39;white&#39;) + 
    annotate(&#39;text&#39;, label = &#39;The record year&#39;, x = 1800, y = 102) +
    ggthemes::scale_fill_tableau() +
    theme(legend.position = &#39;none&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1e5d11137543591611c705951a05522c1b917b3f1e863413a6e2ab555040a762.png" src="../_images/1e5d11137543591611c705951a05522c1b917b3f1e863413a6e2ab555040a762.png" />
</div>
</div>
</section>
</section>
<section id="direct-labeling-instead-of-using-a-legend">
<h2><span class="section-number">6.4. </span>Direct labeling instead of using a legend<a class="headerlink" href="#direct-labeling-instead-of-using-a-legend" title="Link to this heading">#</a></h2>
<section id="id6">
<h3><span class="section-number">6.4.1. </span>Py<a class="headerlink" href="#id6" title="Link to this heading">#</a></h3>
<p>In the example below,
the legend is not in the same order as where the lines end,
which can make it a bit less intuitive to read.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stocks</span> <span class="o">=</span> <span class="n">data</span><span class="o">.</span><span class="n">stocks</span><span class="p">()</span>

<span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">stocks</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;symbol&#39;</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-d014f6395e9c4da5bdd7df66aeaaf6f1.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-d014f6395e9c4da5bdd7df66aeaaf6f1.vega-embed details,
  #altair-viz-d014f6395e9c4da5bdd7df66aeaaf6f1.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-d014f6395e9c4da5bdd7df66aeaaf6f1"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-d014f6395e9c4da5bdd7df66aeaaf6f1") {
      outputDiv = document.getElementById("altair-viz-d014f6395e9c4da5bdd7df66aeaaf6f1");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"symbol": "MSFT", "date": "2000-01-01T00:00:00.000", "price": 39.81}, {"symbol": "MSFT", "date": "2000-02-01T00:00:00.000", "price": 36.35}, {"symbol": "MSFT", "date": "2000-03-01T00:00:00.000", "price": 43.22}, {"symbol": "MSFT", "date": "2000-04-01T00:00:00.000", "price": 28.37}, {"symbol": "MSFT", "date": "2000-05-01T00:00:00.000", "price": 25.45}, {"symbol": "MSFT", "date": "2000-06-01T00:00:00.000", "price": 32.54}, {"symbol": "MSFT", "date": "2000-07-01T00:00:00.000", "price": 28.4}, {"symbol": "MSFT", "date": "2000-08-01T00:00:00.000", "price": 28.4}, {"symbol": "MSFT", "date": "2000-09-01T00:00:00.000", "price": 24.53}, {"symbol": "MSFT", "date": "2000-10-01T00:00:00.000", "price": 28.02}, {"symbol": "MSFT", "date": "2000-11-01T00:00:00.000", "price": 23.34}, {"symbol": "MSFT", "date": "2000-12-01T00:00:00.000", "price": 17.65}, {"symbol": "MSFT", "date": "2001-01-01T00:00:00.000", "price": 24.84}, {"symbol": "MSFT", "date": "2001-02-01T00:00:00.000", "price": 24.0}, {"symbol": "MSFT", "date": "2001-03-01T00:00:00.000", "price": 22.25}, {"symbol": "MSFT", "date": "2001-04-01T00:00:00.000", "price": 27.56}, {"symbol": "MSFT", "date": "2001-05-01T00:00:00.000", "price": 28.14}, {"symbol": "MSFT", "date": "2001-06-01T00:00:00.000", "price": 29.7}, {"symbol": "MSFT", "date": "2001-07-01T00:00:00.000", "price": 26.93}, {"symbol": "MSFT", "date": "2001-08-01T00:00:00.000", "price": 23.21}, {"symbol": "MSFT", "date": "2001-09-01T00:00:00.000", "price": 20.82}, {"symbol": "MSFT", "date": "2001-10-01T00:00:00.000", "price": 23.65}, {"symbol": "MSFT", "date": "2001-11-01T00:00:00.000", "price": 26.12}, {"symbol": "MSFT", "date": "2001-12-01T00:00:00.000", "price": 26.95}, {"symbol": "MSFT", "date": "2002-01-01T00:00:00.000", "price": 25.92}, {"symbol": "MSFT", "date": "2002-02-01T00:00:00.000", "price": 23.73}, {"symbol": "MSFT", "date": "2002-03-01T00:00:00.000", "price": 24.53}, {"symbol": "MSFT", "date": "2002-04-01T00:00:00.000", "price": 21.26}, {"symbol": "MSFT", "date": "2002-05-01T00:00:00.000", "price": 20.71}, {"symbol": "MSFT", "date": "2002-06-01T00:00:00.000", "price": 22.25}, {"symbol": "MSFT", "date": "2002-07-01T00:00:00.000", "price": 19.52}, {"symbol": "MSFT", "date": "2002-08-01T00:00:00.000", "price": 19.97}, {"symbol": "MSFT", "date": "2002-09-01T00:00:00.000", "price": 17.79}, {"symbol": "MSFT", "date": "2002-10-01T00:00:00.000", "price": 21.75}, {"symbol": "MSFT", "date": "2002-11-01T00:00:00.000", "price": 23.46}, {"symbol": "MSFT", "date": "2002-12-01T00:00:00.000", "price": 21.03}, {"symbol": "MSFT", "date": "2003-01-01T00:00:00.000", "price": 19.31}, {"symbol": "MSFT", "date": "2003-02-01T00:00:00.000", "price": 19.34}, {"symbol": "MSFT", "date": "2003-03-01T00:00:00.000", "price": 19.76}, {"symbol": "MSFT", "date": "2003-04-01T00:00:00.000", "price": 20.87}, {"symbol": "MSFT", "date": "2003-05-01T00:00:00.000", "price": 20.09}, {"symbol": "MSFT", "date": "2003-06-01T00:00:00.000", "price": 20.93}, {"symbol": "MSFT", "date": "2003-07-01T00:00:00.000", "price": 21.56}, {"symbol": "MSFT", "date": "2003-08-01T00:00:00.000", "price": 21.65}, {"symbol": "MSFT", "date": "2003-09-01T00:00:00.000", "price": 22.69}, {"symbol": "MSFT", "date": "2003-10-01T00:00:00.000", "price": 21.45}, {"symbol": "MSFT", "date": "2003-11-01T00:00:00.000", "price": 21.1}, {"symbol": "MSFT", "date": "2003-12-01T00:00:00.000", "price": 22.46}, {"symbol": "MSFT", "date": "2004-01-01T00:00:00.000", "price": 22.69}, {"symbol": "MSFT", "date": "2004-02-01T00:00:00.000", "price": 21.77}, {"symbol": "MSFT", "date": "2004-03-01T00:00:00.000", "price": 20.46}, {"symbol": "MSFT", "date": "2004-04-01T00:00:00.000", "price": 21.45}, {"symbol": "MSFT", "date": "2004-05-01T00:00:00.000", "price": 21.53}, {"symbol": "MSFT", "date": "2004-06-01T00:00:00.000", "price": 23.44}, {"symbol": "MSFT", "date": "2004-07-01T00:00:00.000", "price": 23.38}, {"symbol": "MSFT", "date": "2004-08-01T00:00:00.000", "price": 22.47}, {"symbol": "MSFT", "date": "2004-09-01T00:00:00.000", "price": 22.76}, {"symbol": "MSFT", "date": "2004-10-01T00:00:00.000", "price": 23.02}, {"symbol": "MSFT", "date": "2004-11-01T00:00:00.000", "price": 24.6}, {"symbol": "MSFT", "date": "2004-12-01T00:00:00.000", "price": 24.52}, {"symbol": "MSFT", "date": "2005-01-01T00:00:00.000", "price": 24.11}, {"symbol": "MSFT", "date": "2005-02-01T00:00:00.000", "price": 23.15}, {"symbol": "MSFT", "date": "2005-03-01T00:00:00.000", "price": 22.24}, {"symbol": "MSFT", "date": "2005-04-01T00:00:00.000", "price": 23.28}, {"symbol": "MSFT", "date": "2005-05-01T00:00:00.000", "price": 23.82}, {"symbol": "MSFT", "date": "2005-06-01T00:00:00.000", "price": 22.93}, {"symbol": "MSFT", "date": "2005-07-01T00:00:00.000", "price": 23.64}, {"symbol": "MSFT", "date": "2005-08-01T00:00:00.000", "price": 25.35}, {"symbol": "MSFT", "date": "2005-09-01T00:00:00.000", "price": 23.83}, {"symbol": "MSFT", "date": "2005-10-01T00:00:00.000", "price": 23.8}, {"symbol": "MSFT", "date": "2005-11-01T00:00:00.000", "price": 25.71}, {"symbol": "MSFT", "date": "2005-12-01T00:00:00.000", "price": 24.29}, {"symbol": "MSFT", "date": "2006-01-01T00:00:00.000", "price": 26.14}, {"symbol": "MSFT", "date": "2006-02-01T00:00:00.000", "price": 25.04}, {"symbol": "MSFT", "date": "2006-03-01T00:00:00.000", "price": 25.36}, {"symbol": "MSFT", "date": "2006-04-01T00:00:00.000", "price": 22.5}, {"symbol": "MSFT", "date": "2006-05-01T00:00:00.000", "price": 21.19}, {"symbol": "MSFT", "date": "2006-06-01T00:00:00.000", "price": 21.8}, {"symbol": "MSFT", "date": "2006-07-01T00:00:00.000", "price": 22.51}, {"symbol": "MSFT", "date": "2006-08-01T00:00:00.000", "price": 24.13}, {"symbol": "MSFT", "date": "2006-09-01T00:00:00.000", "price": 25.68}, {"symbol": "MSFT", "date": "2006-10-01T00:00:00.000", "price": 26.96}, {"symbol": "MSFT", "date": "2006-11-01T00:00:00.000", "price": 27.66}, {"symbol": "MSFT", "date": "2006-12-01T00:00:00.000", "price": 28.13}, {"symbol": "MSFT", "date": "2007-01-01T00:00:00.000", "price": 29.07}, {"symbol": "MSFT", "date": "2007-02-01T00:00:00.000", "price": 26.63}, {"symbol": "MSFT", "date": "2007-03-01T00:00:00.000", "price": 26.35}, {"symbol": "MSFT", "date": "2007-04-01T00:00:00.000", "price": 28.3}, {"symbol": "MSFT", "date": "2007-05-01T00:00:00.000", "price": 29.11}, {"symbol": "MSFT", "date": "2007-06-01T00:00:00.000", "price": 27.95}, {"symbol": "MSFT", "date": "2007-07-01T00:00:00.000", "price": 27.5}, {"symbol": "MSFT", "date": "2007-08-01T00:00:00.000", "price": 27.34}, {"symbol": "MSFT", "date": "2007-09-01T00:00:00.000", "price": 28.04}, {"symbol": "MSFT", "date": "2007-10-01T00:00:00.000", "price": 35.03}, {"symbol": "MSFT", "date": "2007-11-01T00:00:00.000", "price": 32.09}, {"symbol": "MSFT", "date": "2007-12-01T00:00:00.000", "price": 34.0}, {"symbol": "MSFT", "date": "2008-01-01T00:00:00.000", "price": 31.13}, {"symbol": "MSFT", "date": "2008-02-01T00:00:00.000", "price": 26.07}, {"symbol": "MSFT", "date": "2008-03-01T00:00:00.000", "price": 27.21}, {"symbol": "MSFT", "date": "2008-04-01T00:00:00.000", "price": 27.34}, {"symbol": "MSFT", "date": "2008-05-01T00:00:00.000", "price": 27.25}, {"symbol": "MSFT", "date": "2008-06-01T00:00:00.000", "price": 26.47}, {"symbol": "MSFT", "date": "2008-07-01T00:00:00.000", "price": 24.75}, {"symbol": "MSFT", "date": "2008-08-01T00:00:00.000", "price": 26.36}, {"symbol": "MSFT", "date": "2008-09-01T00:00:00.000", "price": 25.78}, {"symbol": "MSFT", "date": "2008-10-01T00:00:00.000", "price": 21.57}, {"symbol": "MSFT", "date": "2008-11-01T00:00:00.000", "price": 19.66}, {"symbol": "MSFT", "date": "2008-12-01T00:00:00.000", "price": 18.91}, {"symbol": "MSFT", "date": "2009-01-01T00:00:00.000", "price": 16.63}, {"symbol": "MSFT", "date": "2009-02-01T00:00:00.000", "price": 15.81}, {"symbol": "MSFT", "date": "2009-03-01T00:00:00.000", "price": 17.99}, {"symbol": "MSFT", "date": "2009-04-01T00:00:00.000", "price": 19.84}, {"symbol": "MSFT", "date": "2009-05-01T00:00:00.000", "price": 20.59}, {"symbol": "MSFT", "date": "2009-06-01T00:00:00.000", "price": 23.42}, {"symbol": "MSFT", "date": "2009-07-01T00:00:00.000", "price": 23.18}, {"symbol": "MSFT", "date": "2009-08-01T00:00:00.000", "price": 24.43}, {"symbol": "MSFT", "date": "2009-09-01T00:00:00.000", "price": 25.49}, {"symbol": "MSFT", "date": "2009-10-01T00:00:00.000", "price": 27.48}, {"symbol": "MSFT", "date": "2009-11-01T00:00:00.000", "price": 29.27}, {"symbol": "MSFT", "date": "2009-12-01T00:00:00.000", "price": 30.34}, {"symbol": "MSFT", "date": "2010-01-01T00:00:00.000", "price": 28.05}, {"symbol": "MSFT", "date": "2010-02-01T00:00:00.000", "price": 28.67}, {"symbol": "MSFT", "date": "2010-03-01T00:00:00.000", "price": 28.8}, {"symbol": "AMZN", "date": "2000-01-01T00:00:00.000", "price": 64.56}, {"symbol": "AMZN", "date": "2000-02-01T00:00:00.000", "price": 68.87}, {"symbol": "AMZN", "date": "2000-03-01T00:00:00.000", "price": 67.0}, {"symbol": "AMZN", "date": "2000-04-01T00:00:00.000", "price": 55.19}, {"symbol": "AMZN", "date": "2000-05-01T00:00:00.000", "price": 48.31}, {"symbol": "AMZN", "date": "2000-06-01T00:00:00.000", "price": 36.31}, {"symbol": "AMZN", "date": "2000-07-01T00:00:00.000", "price": 30.12}, {"symbol": "AMZN", "date": "2000-08-01T00:00:00.000", "price": 41.5}, {"symbol": "AMZN", "date": "2000-09-01T00:00:00.000", "price": 38.44}, {"symbol": "AMZN", "date": "2000-10-01T00:00:00.000", "price": 36.62}, {"symbol": "AMZN", "date": "2000-11-01T00:00:00.000", "price": 24.69}, {"symbol": "AMZN", "date": "2000-12-01T00:00:00.000", "price": 15.56}, {"symbol": "AMZN", "date": "2001-01-01T00:00:00.000", "price": 17.31}, {"symbol": "AMZN", "date": "2001-02-01T00:00:00.000", "price": 10.19}, {"symbol": "AMZN", "date": "2001-03-01T00:00:00.000", "price": 10.23}, {"symbol": "AMZN", "date": "2001-04-01T00:00:00.000", "price": 15.78}, {"symbol": "AMZN", "date": "2001-05-01T00:00:00.000", "price": 16.69}, {"symbol": "AMZN", "date": "2001-06-01T00:00:00.000", "price": 14.15}, {"symbol": "AMZN", "date": "2001-07-01T00:00:00.000", "price": 12.49}, {"symbol": "AMZN", "date": "2001-08-01T00:00:00.000", "price": 8.94}, {"symbol": "AMZN", "date": "2001-09-01T00:00:00.000", "price": 5.97}, {"symbol": "AMZN", "date": "2001-10-01T00:00:00.000", "price": 6.98}, {"symbol": "AMZN", "date": "2001-11-01T00:00:00.000", "price": 11.32}, {"symbol": "AMZN", "date": "2001-12-01T00:00:00.000", "price": 10.82}, {"symbol": "AMZN", "date": "2002-01-01T00:00:00.000", "price": 14.19}, {"symbol": "AMZN", "date": "2002-02-01T00:00:00.000", "price": 14.1}, {"symbol": "AMZN", "date": "2002-03-01T00:00:00.000", "price": 14.3}, {"symbol": "AMZN", "date": "2002-04-01T00:00:00.000", "price": 16.69}, {"symbol": "AMZN", "date": "2002-05-01T00:00:00.000", "price": 18.23}, {"symbol": "AMZN", "date": "2002-06-01T00:00:00.000", "price": 16.25}, {"symbol": "AMZN", "date": "2002-07-01T00:00:00.000", "price": 14.45}, {"symbol": "AMZN", "date": "2002-08-01T00:00:00.000", "price": 14.94}, {"symbol": "AMZN", "date": "2002-09-01T00:00:00.000", "price": 15.93}, {"symbol": "AMZN", "date": "2002-10-01T00:00:00.000", "price": 19.36}, {"symbol": "AMZN", "date": "2002-11-01T00:00:00.000", "price": 23.35}, {"symbol": "AMZN", "date": "2002-12-01T00:00:00.000", "price": 18.89}, {"symbol": "AMZN", "date": "2003-01-01T00:00:00.000", "price": 21.85}, {"symbol": "AMZN", "date": "2003-02-01T00:00:00.000", "price": 22.01}, {"symbol": "AMZN", "date": "2003-03-01T00:00:00.000", "price": 26.03}, {"symbol": "AMZN", "date": "2003-04-01T00:00:00.000", "price": 28.69}, {"symbol": "AMZN", "date": "2003-05-01T00:00:00.000", "price": 35.89}, {"symbol": "AMZN", "date": "2003-06-01T00:00:00.000", "price": 36.32}, {"symbol": "AMZN", "date": "2003-07-01T00:00:00.000", "price": 41.64}, {"symbol": "AMZN", "date": "2003-08-01T00:00:00.000", "price": 46.32}, {"symbol": "AMZN", "date": "2003-09-01T00:00:00.000", "price": 48.43}, {"symbol": "AMZN", "date": "2003-10-01T00:00:00.000", "price": 54.43}, {"symbol": "AMZN", "date": "2003-11-01T00:00:00.000", "price": 53.97}, {"symbol": "AMZN", "date": "2003-12-01T00:00:00.000", "price": 52.62}, {"symbol": "AMZN", "date": "2004-01-01T00:00:00.000", "price": 50.4}, {"symbol": "AMZN", "date": "2004-02-01T00:00:00.000", "price": 43.01}, {"symbol": "AMZN", "date": "2004-03-01T00:00:00.000", "price": 43.28}, {"symbol": "AMZN", "date": "2004-04-01T00:00:00.000", "price": 43.6}, {"symbol": "AMZN", "date": "2004-05-01T00:00:00.000", "price": 48.5}, {"symbol": "AMZN", "date": "2004-06-01T00:00:00.000", "price": 54.4}, {"symbol": "AMZN", "date": "2004-07-01T00:00:00.000", "price": 38.92}, {"symbol": "AMZN", "date": "2004-08-01T00:00:00.000", "price": 38.14}, {"symbol": "AMZN", "date": "2004-09-01T00:00:00.000", "price": 40.86}, {"symbol": "AMZN", "date": "2004-10-01T00:00:00.000", "price": 34.13}, {"symbol": "AMZN", "date": "2004-11-01T00:00:00.000", "price": 39.68}, {"symbol": "AMZN", "date": "2004-12-01T00:00:00.000", "price": 44.29}, {"symbol": "AMZN", "date": "2005-01-01T00:00:00.000", "price": 43.22}, {"symbol": "AMZN", "date": "2005-02-01T00:00:00.000", "price": 35.18}, {"symbol": "AMZN", "date": "2005-03-01T00:00:00.000", "price": 34.27}, {"symbol": "AMZN", "date": "2005-04-01T00:00:00.000", "price": 32.36}, {"symbol": "AMZN", "date": "2005-05-01T00:00:00.000", "price": 35.51}, {"symbol": "AMZN", "date": "2005-06-01T00:00:00.000", "price": 33.09}, {"symbol": "AMZN", "date": "2005-07-01T00:00:00.000", "price": 45.15}, {"symbol": "AMZN", "date": "2005-08-01T00:00:00.000", "price": 42.7}, {"symbol": "AMZN", "date": "2005-09-01T00:00:00.000", "price": 45.3}, {"symbol": "AMZN", "date": "2005-10-01T00:00:00.000", "price": 39.86}, {"symbol": "AMZN", "date": "2005-11-01T00:00:00.000", "price": 48.46}, {"symbol": "AMZN", "date": "2005-12-01T00:00:00.000", "price": 47.15}, {"symbol": "AMZN", "date": "2006-01-01T00:00:00.000", "price": 44.82}, {"symbol": "AMZN", "date": "2006-02-01T00:00:00.000", "price": 37.44}, {"symbol": "AMZN", "date": "2006-03-01T00:00:00.000", "price": 36.53}, {"symbol": "AMZN", "date": "2006-04-01T00:00:00.000", "price": 35.21}, {"symbol": "AMZN", "date": "2006-05-01T00:00:00.000", "price": 34.61}, {"symbol": "AMZN", "date": "2006-06-01T00:00:00.000", "price": 38.68}, {"symbol": "AMZN", "date": "2006-07-01T00:00:00.000", "price": 26.89}, {"symbol": "AMZN", "date": "2006-08-01T00:00:00.000", "price": 30.83}, {"symbol": "AMZN", "date": "2006-09-01T00:00:00.000", "price": 32.12}, {"symbol": "AMZN", "date": "2006-10-01T00:00:00.000", "price": 38.09}, {"symbol": "AMZN", "date": "2006-11-01T00:00:00.000", "price": 40.34}, {"symbol": "AMZN", "date": "2006-12-01T00:00:00.000", "price": 39.46}, {"symbol": "AMZN", "date": "2007-01-01T00:00:00.000", "price": 37.67}, {"symbol": "AMZN", "date": "2007-02-01T00:00:00.000", "price": 39.14}, {"symbol": "AMZN", "date": "2007-03-01T00:00:00.000", "price": 39.79}, {"symbol": "AMZN", "date": "2007-04-01T00:00:00.000", "price": 61.33}, {"symbol": "AMZN", "date": "2007-05-01T00:00:00.000", "price": 69.14}, {"symbol": "AMZN", "date": "2007-06-01T00:00:00.000", "price": 68.41}, {"symbol": "AMZN", "date": "2007-07-01T00:00:00.000", "price": 78.54}, {"symbol": "AMZN", "date": "2007-08-01T00:00:00.000", "price": 79.91}, {"symbol": "AMZN", "date": "2007-09-01T00:00:00.000", "price": 93.15}, {"symbol": "AMZN", "date": "2007-10-01T00:00:00.000", "price": 89.15}, {"symbol": "AMZN", "date": "2007-11-01T00:00:00.000", "price": 90.56}, {"symbol": "AMZN", "date": "2007-12-01T00:00:00.000", "price": 92.64}, {"symbol": "AMZN", "date": "2008-01-01T00:00:00.000", "price": 77.7}, {"symbol": "AMZN", "date": "2008-02-01T00:00:00.000", "price": 64.47}, {"symbol": "AMZN", "date": "2008-03-01T00:00:00.000", "price": 71.3}, {"symbol": "AMZN", "date": "2008-04-01T00:00:00.000", "price": 78.63}, {"symbol": "AMZN", "date": "2008-05-01T00:00:00.000", "price": 81.62}, {"symbol": "AMZN", "date": "2008-06-01T00:00:00.000", "price": 73.33}, {"symbol": "AMZN", "date": "2008-07-01T00:00:00.000", "price": 76.34}, {"symbol": "AMZN", "date": "2008-08-01T00:00:00.000", "price": 80.81}, {"symbol": "AMZN", "date": "2008-09-01T00:00:00.000", "price": 72.76}, {"symbol": "AMZN", "date": "2008-10-01T00:00:00.000", "price": 57.24}, {"symbol": "AMZN", "date": "2008-11-01T00:00:00.000", "price": 42.7}, {"symbol": "AMZN", "date": "2008-12-01T00:00:00.000", "price": 51.28}, {"symbol": "AMZN", "date": "2009-01-01T00:00:00.000", "price": 58.82}, {"symbol": "AMZN", "date": "2009-02-01T00:00:00.000", "price": 64.79}, {"symbol": "AMZN", "date": "2009-03-01T00:00:00.000", "price": 73.44}, {"symbol": "AMZN", "date": "2009-04-01T00:00:00.000", "price": 80.52}, {"symbol": "AMZN", "date": "2009-05-01T00:00:00.000", "price": 77.99}, {"symbol": "AMZN", "date": "2009-06-01T00:00:00.000", "price": 83.66}, {"symbol": "AMZN", "date": "2009-07-01T00:00:00.000", "price": 85.76}, {"symbol": "AMZN", "date": "2009-08-01T00:00:00.000", "price": 81.19}, {"symbol": "AMZN", "date": "2009-09-01T00:00:00.000", "price": 93.36}, {"symbol": "AMZN", "date": "2009-10-01T00:00:00.000", "price": 118.81}, {"symbol": "AMZN", "date": "2009-11-01T00:00:00.000", "price": 135.91}, {"symbol": "AMZN", "date": "2009-12-01T00:00:00.000", "price": 134.52}, {"symbol": "AMZN", "date": "2010-01-01T00:00:00.000", "price": 125.41}, {"symbol": "AMZN", "date": "2010-02-01T00:00:00.000", "price": 118.4}, {"symbol": "AMZN", "date": "2010-03-01T00:00:00.000", "price": 128.82}, {"symbol": "IBM", "date": "2000-01-01T00:00:00.000", "price": 100.52}, {"symbol": "IBM", "date": "2000-02-01T00:00:00.000", "price": 92.11}, {"symbol": "IBM", "date": "2000-03-01T00:00:00.000", "price": 106.11}, {"symbol": "IBM", "date": "2000-04-01T00:00:00.000", "price": 99.95}, {"symbol": "IBM", "date": "2000-05-01T00:00:00.000", "price": 96.31}, {"symbol": "IBM", "date": "2000-06-01T00:00:00.000", "price": 98.33}, {"symbol": "IBM", "date": "2000-07-01T00:00:00.000", "price": 100.74}, {"symbol": "IBM", "date": "2000-08-01T00:00:00.000", "price": 118.62}, {"symbol": "IBM", "date": "2000-09-01T00:00:00.000", "price": 101.19}, {"symbol": "IBM", "date": "2000-10-01T00:00:00.000", "price": 88.5}, {"symbol": "IBM", "date": "2000-11-01T00:00:00.000", "price": 84.12}, {"symbol": "IBM", "date": "2000-12-01T00:00:00.000", "price": 76.47}, {"symbol": "IBM", "date": "2001-01-01T00:00:00.000", "price": 100.76}, {"symbol": "IBM", "date": "2001-02-01T00:00:00.000", "price": 89.98}, {"symbol": "IBM", "date": "2001-03-01T00:00:00.000", "price": 86.63}, {"symbol": "IBM", "date": "2001-04-01T00:00:00.000", "price": 103.7}, {"symbol": "IBM", "date": "2001-05-01T00:00:00.000", "price": 100.82}, {"symbol": "IBM", "date": "2001-06-01T00:00:00.000", "price": 102.35}, {"symbol": "IBM", "date": "2001-07-01T00:00:00.000", "price": 94.87}, {"symbol": "IBM", "date": "2001-08-01T00:00:00.000", "price": 90.25}, {"symbol": "IBM", "date": "2001-09-01T00:00:00.000", "price": 82.82}, {"symbol": "IBM", "date": "2001-10-01T00:00:00.000", "price": 97.58}, {"symbol": "IBM", "date": "2001-11-01T00:00:00.000", "price": 104.5}, {"symbol": "IBM", "date": "2001-12-01T00:00:00.000", "price": 109.36}, {"symbol": "IBM", "date": "2002-01-01T00:00:00.000", "price": 97.54}, {"symbol": "IBM", "date": "2002-02-01T00:00:00.000", "price": 88.82}, {"symbol": "IBM", "date": "2002-03-01T00:00:00.000", "price": 94.15}, {"symbol": "IBM", "date": "2002-04-01T00:00:00.000", "price": 75.82}, {"symbol": "IBM", "date": "2002-05-01T00:00:00.000", "price": 72.97}, {"symbol": "IBM", "date": "2002-06-01T00:00:00.000", "price": 65.31}, {"symbol": "IBM", "date": "2002-07-01T00:00:00.000", "price": 63.86}, {"symbol": "IBM", "date": "2002-08-01T00:00:00.000", "price": 68.52}, {"symbol": "IBM", "date": "2002-09-01T00:00:00.000", "price": 53.01}, {"symbol": "IBM", "date": "2002-10-01T00:00:00.000", "price": 71.76}, {"symbol": "IBM", "date": "2002-11-01T00:00:00.000", "price": 79.16}, {"symbol": "IBM", "date": "2002-12-01T00:00:00.000", "price": 70.58}, {"symbol": "IBM", "date": "2003-01-01T00:00:00.000", "price": 71.22}, {"symbol": "IBM", "date": "2003-02-01T00:00:00.000", "price": 71.13}, {"symbol": "IBM", "date": "2003-03-01T00:00:00.000", "price": 71.57}, {"symbol": "IBM", "date": "2003-04-01T00:00:00.000", "price": 77.47}, {"symbol": "IBM", "date": "2003-05-01T00:00:00.000", "price": 80.48}, {"symbol": "IBM", "date": "2003-06-01T00:00:00.000", "price": 75.42}, {"symbol": "IBM", "date": "2003-07-01T00:00:00.000", "price": 74.28}, {"symbol": "IBM", "date": "2003-08-01T00:00:00.000", "price": 75.12}, {"symbol": "IBM", "date": "2003-09-01T00:00:00.000", "price": 80.91}, {"symbol": "IBM", "date": "2003-10-01T00:00:00.000", "price": 81.96}, {"symbol": "IBM", "date": "2003-11-01T00:00:00.000", "price": 83.08}, {"symbol": "IBM", "date": "2003-12-01T00:00:00.000", "price": 85.05}, {"symbol": "IBM", "date": "2004-01-01T00:00:00.000", "price": 91.06}, {"symbol": "IBM", "date": "2004-02-01T00:00:00.000", "price": 88.7}, {"symbol": "IBM", "date": "2004-03-01T00:00:00.000", "price": 84.41}, {"symbol": "IBM", "date": "2004-04-01T00:00:00.000", "price": 81.04}, {"symbol": "IBM", "date": "2004-05-01T00:00:00.000", "price": 81.59}, {"symbol": "IBM", "date": "2004-06-01T00:00:00.000", "price": 81.19}, {"symbol": "IBM", "date": "2004-07-01T00:00:00.000", "price": 80.19}, {"symbol": "IBM", "date": "2004-08-01T00:00:00.000", "price": 78.17}, {"symbol": "IBM", "date": "2004-09-01T00:00:00.000", "price": 79.13}, {"symbol": "IBM", "date": "2004-10-01T00:00:00.000", "price": 82.84}, {"symbol": "IBM", "date": "2004-11-01T00:00:00.000", "price": 87.15}, {"symbol": "IBM", "date": "2004-12-01T00:00:00.000", "price": 91.16}, {"symbol": "IBM", "date": "2005-01-01T00:00:00.000", "price": 86.39}, {"symbol": "IBM", "date": "2005-02-01T00:00:00.000", "price": 85.78}, {"symbol": "IBM", "date": "2005-03-01T00:00:00.000", "price": 84.66}, {"symbol": "IBM", "date": "2005-04-01T00:00:00.000", "price": 70.77}, {"symbol": "IBM", "date": "2005-05-01T00:00:00.000", "price": 70.18}, {"symbol": "IBM", "date": "2005-06-01T00:00:00.000", "price": 68.93}, {"symbol": "IBM", "date": "2005-07-01T00:00:00.000", "price": 77.53}, {"symbol": "IBM", "date": "2005-08-01T00:00:00.000", "price": 75.07}, {"symbol": "IBM", "date": "2005-09-01T00:00:00.000", "price": 74.7}, {"symbol": "IBM", "date": "2005-10-01T00:00:00.000", "price": 76.25}, {"symbol": "IBM", "date": "2005-11-01T00:00:00.000", "price": 82.98}, {"symbol": "IBM", "date": "2005-12-01T00:00:00.000", "price": 76.73}, {"symbol": "IBM", "date": "2006-01-01T00:00:00.000", "price": 75.89}, {"symbol": "IBM", "date": "2006-02-01T00:00:00.000", "price": 75.09}, {"symbol": "IBM", "date": "2006-03-01T00:00:00.000", "price": 77.17}, {"symbol": "IBM", "date": "2006-04-01T00:00:00.000", "price": 77.05}, {"symbol": "IBM", "date": "2006-05-01T00:00:00.000", "price": 75.04}, {"symbol": "IBM", "date": "2006-06-01T00:00:00.000", "price": 72.15}, {"symbol": "IBM", "date": "2006-07-01T00:00:00.000", "price": 72.7}, {"symbol": "IBM", "date": "2006-08-01T00:00:00.000", "price": 76.35}, {"symbol": "IBM", "date": "2006-09-01T00:00:00.000", "price": 77.26}, {"symbol": "IBM", "date": "2006-10-01T00:00:00.000", "price": 87.06}, {"symbol": "IBM", "date": "2006-11-01T00:00:00.000", "price": 86.95}, {"symbol": "IBM", "date": "2006-12-01T00:00:00.000", "price": 91.9}, {"symbol": "IBM", "date": "2007-01-01T00:00:00.000", "price": 93.79}, {"symbol": "IBM", "date": "2007-02-01T00:00:00.000", "price": 88.18}, {"symbol": "IBM", "date": "2007-03-01T00:00:00.000", "price": 89.44}, {"symbol": "IBM", "date": "2007-04-01T00:00:00.000", "price": 96.98}, {"symbol": "IBM", "date": "2007-05-01T00:00:00.000", "price": 101.54}, {"symbol": "IBM", "date": "2007-06-01T00:00:00.000", "price": 100.25}, {"symbol": "IBM", "date": "2007-07-01T00:00:00.000", "price": 105.4}, {"symbol": "IBM", "date": "2007-08-01T00:00:00.000", "price": 111.54}, {"symbol": "IBM", "date": "2007-09-01T00:00:00.000", "price": 112.6}, {"symbol": "IBM", "date": "2007-10-01T00:00:00.000", "price": 111.0}, {"symbol": "IBM", "date": "2007-11-01T00:00:00.000", "price": 100.9}, {"symbol": "IBM", "date": "2007-12-01T00:00:00.000", "price": 103.7}, {"symbol": "IBM", "date": "2008-01-01T00:00:00.000", "price": 102.75}, {"symbol": "IBM", "date": "2008-02-01T00:00:00.000", "price": 109.64}, {"symbol": "IBM", "date": "2008-03-01T00:00:00.000", "price": 110.87}, {"symbol": "IBM", "date": "2008-04-01T00:00:00.000", "price": 116.23}, {"symbol": "IBM", "date": "2008-05-01T00:00:00.000", "price": 125.14}, {"symbol": "IBM", "date": "2008-06-01T00:00:00.000", "price": 114.6}, {"symbol": "IBM", "date": "2008-07-01T00:00:00.000", "price": 123.74}, {"symbol": "IBM", "date": "2008-08-01T00:00:00.000", "price": 118.16}, {"symbol": "IBM", "date": "2008-09-01T00:00:00.000", "price": 113.53}, {"symbol": "IBM", "date": "2008-10-01T00:00:00.000", "price": 90.24}, {"symbol": "IBM", "date": "2008-11-01T00:00:00.000", "price": 79.65}, {"symbol": "IBM", "date": "2008-12-01T00:00:00.000", "price": 82.15}, {"symbol": "IBM", "date": "2009-01-01T00:00:00.000", "price": 89.46}, {"symbol": "IBM", "date": "2009-02-01T00:00:00.000", "price": 90.32}, {"symbol": "IBM", "date": "2009-03-01T00:00:00.000", "price": 95.09}, {"symbol": "IBM", "date": "2009-04-01T00:00:00.000", "price": 101.29}, {"symbol": "IBM", "date": "2009-05-01T00:00:00.000", "price": 104.85}, {"symbol": "IBM", "date": "2009-06-01T00:00:00.000", "price": 103.01}, {"symbol": "IBM", "date": "2009-07-01T00:00:00.000", "price": 116.34}, {"symbol": "IBM", "date": "2009-08-01T00:00:00.000", "price": 117.0}, {"symbol": "IBM", "date": "2009-09-01T00:00:00.000", "price": 118.55}, {"symbol": "IBM", "date": "2009-10-01T00:00:00.000", "price": 119.54}, {"symbol": "IBM", "date": "2009-11-01T00:00:00.000", "price": 125.79}, {"symbol": "IBM", "date": "2009-12-01T00:00:00.000", "price": 130.32}, {"symbol": "IBM", "date": "2010-01-01T00:00:00.000", "price": 121.85}, {"symbol": "IBM", "date": "2010-02-01T00:00:00.000", "price": 127.16}, {"symbol": "IBM", "date": "2010-03-01T00:00:00.000", "price": 125.55}, {"symbol": "GOOG", "date": "2004-08-01T00:00:00.000", "price": 102.37}, {"symbol": "GOOG", "date": "2004-09-01T00:00:00.000", "price": 129.6}, {"symbol": "GOOG", "date": "2004-10-01T00:00:00.000", "price": 190.64}, {"symbol": "GOOG", "date": "2004-11-01T00:00:00.000", "price": 181.98}, {"symbol": "GOOG", "date": "2004-12-01T00:00:00.000", "price": 192.79}, {"symbol": "GOOG", "date": "2005-01-01T00:00:00.000", "price": 195.62}, {"symbol": "GOOG", "date": "2005-02-01T00:00:00.000", "price": 187.99}, {"symbol": "GOOG", "date": "2005-03-01T00:00:00.000", "price": 180.51}, {"symbol": "GOOG", "date": "2005-04-01T00:00:00.000", "price": 220.0}, {"symbol": "GOOG", "date": "2005-05-01T00:00:00.000", "price": 277.27}, {"symbol": "GOOG", "date": "2005-06-01T00:00:00.000", "price": 294.15}, {"symbol": "GOOG", "date": "2005-07-01T00:00:00.000", "price": 287.76}, {"symbol": "GOOG", "date": "2005-08-01T00:00:00.000", "price": 286.0}, {"symbol": "GOOG", "date": "2005-09-01T00:00:00.000", "price": 316.46}, {"symbol": "GOOG", "date": "2005-10-01T00:00:00.000", "price": 372.14}, {"symbol": "GOOG", "date": "2005-11-01T00:00:00.000", "price": 404.91}, {"symbol": "GOOG", "date": "2005-12-01T00:00:00.000", "price": 414.86}, {"symbol": "GOOG", "date": "2006-01-01T00:00:00.000", "price": 432.66}, {"symbol": "GOOG", "date": "2006-02-01T00:00:00.000", "price": 362.62}, {"symbol": "GOOG", "date": "2006-03-01T00:00:00.000", "price": 390.0}, {"symbol": "GOOG", "date": "2006-04-01T00:00:00.000", "price": 417.94}, {"symbol": "GOOG", "date": "2006-05-01T00:00:00.000", "price": 371.82}, {"symbol": "GOOG", "date": "2006-06-01T00:00:00.000", "price": 419.33}, {"symbol": "GOOG", "date": "2006-07-01T00:00:00.000", "price": 386.6}, {"symbol": "GOOG", "date": "2006-08-01T00:00:00.000", "price": 378.53}, {"symbol": "GOOG", "date": "2006-09-01T00:00:00.000", "price": 401.9}, {"symbol": "GOOG", "date": "2006-10-01T00:00:00.000", "price": 476.39}, {"symbol": "GOOG", "date": "2006-11-01T00:00:00.000", "price": 484.81}, {"symbol": "GOOG", "date": "2006-12-01T00:00:00.000", "price": 460.48}, {"symbol": "GOOG", "date": "2007-01-01T00:00:00.000", "price": 501.5}, {"symbol": "GOOG", "date": "2007-02-01T00:00:00.000", "price": 449.45}, {"symbol": "GOOG", "date": "2007-03-01T00:00:00.000", "price": 458.16}, {"symbol": "GOOG", "date": "2007-04-01T00:00:00.000", "price": 471.38}, {"symbol": "GOOG", "date": "2007-05-01T00:00:00.000", "price": 497.91}, {"symbol": "GOOG", "date": "2007-06-01T00:00:00.000", "price": 522.7}, {"symbol": "GOOG", "date": "2007-07-01T00:00:00.000", "price": 510.0}, {"symbol": "GOOG", "date": "2007-08-01T00:00:00.000", "price": 515.25}, {"symbol": "GOOG", "date": "2007-09-01T00:00:00.000", "price": 567.27}, {"symbol": "GOOG", "date": "2007-10-01T00:00:00.000", "price": 707.0}, {"symbol": "GOOG", "date": "2007-11-01T00:00:00.000", "price": 693.0}, {"symbol": "GOOG", "date": "2007-12-01T00:00:00.000", "price": 691.48}, {"symbol": "GOOG", "date": "2008-01-01T00:00:00.000", "price": 564.3}, {"symbol": "GOOG", "date": "2008-02-01T00:00:00.000", "price": 471.18}, {"symbol": "GOOG", "date": "2008-03-01T00:00:00.000", "price": 440.47}, {"symbol": "GOOG", "date": "2008-04-01T00:00:00.000", "price": 574.29}, {"symbol": "GOOG", "date": "2008-05-01T00:00:00.000", "price": 585.8}, {"symbol": "GOOG", "date": "2008-06-01T00:00:00.000", "price": 526.42}, {"symbol": "GOOG", "date": "2008-07-01T00:00:00.000", "price": 473.75}, {"symbol": "GOOG", "date": "2008-08-01T00:00:00.000", "price": 463.29}, {"symbol": "GOOG", "date": "2008-09-01T00:00:00.000", "price": 400.52}, {"symbol": "GOOG", "date": "2008-10-01T00:00:00.000", "price": 359.36}, {"symbol": "GOOG", "date": "2008-11-01T00:00:00.000", "price": 292.96}, {"symbol": "GOOG", "date": "2008-12-01T00:00:00.000", "price": 307.65}, {"symbol": "GOOG", "date": "2009-01-01T00:00:00.000", "price": 338.53}, {"symbol": "GOOG", "date": "2009-02-01T00:00:00.000", "price": 337.99}, {"symbol": "GOOG", "date": "2009-03-01T00:00:00.000", "price": 348.06}, {"symbol": "GOOG", "date": "2009-04-01T00:00:00.000", "price": 395.97}, {"symbol": "GOOG", "date": "2009-05-01T00:00:00.000", "price": 417.23}, {"symbol": "GOOG", "date": "2009-06-01T00:00:00.000", "price": 421.59}, {"symbol": "GOOG", "date": "2009-07-01T00:00:00.000", "price": 443.05}, {"symbol": "GOOG", "date": "2009-08-01T00:00:00.000", "price": 461.67}, {"symbol": "GOOG", "date": "2009-09-01T00:00:00.000", "price": 495.85}, {"symbol": "GOOG", "date": "2009-10-01T00:00:00.000", "price": 536.12}, {"symbol": "GOOG", "date": "2009-11-01T00:00:00.000", "price": 583.0}, {"symbol": "GOOG", "date": "2009-12-01T00:00:00.000", "price": 619.98}, {"symbol": "GOOG", "date": "2010-01-01T00:00:00.000", "price": 529.94}, {"symbol": "GOOG", "date": "2010-02-01T00:00:00.000", "price": 526.8}, {"symbol": "GOOG", "date": "2010-03-01T00:00:00.000", "price": 560.19}, {"symbol": "AAPL", "date": "2000-01-01T00:00:00.000", "price": 25.94}, {"symbol": "AAPL", "date": "2000-02-01T00:00:00.000", "price": 28.66}, {"symbol": "AAPL", "date": "2000-03-01T00:00:00.000", "price": 33.95}, {"symbol": "AAPL", "date": "2000-04-01T00:00:00.000", "price": 31.01}, {"symbol": "AAPL", "date": "2000-05-01T00:00:00.000", "price": 21.0}, {"symbol": "AAPL", "date": "2000-06-01T00:00:00.000", "price": 26.19}, {"symbol": "AAPL", "date": "2000-07-01T00:00:00.000", "price": 25.41}, {"symbol": "AAPL", "date": "2000-08-01T00:00:00.000", "price": 30.47}, {"symbol": "AAPL", "date": "2000-09-01T00:00:00.000", "price": 12.88}, {"symbol": "AAPL", "date": "2000-10-01T00:00:00.000", "price": 9.78}, {"symbol": "AAPL", "date": "2000-11-01T00:00:00.000", "price": 8.25}, {"symbol": "AAPL", "date": "2000-12-01T00:00:00.000", "price": 7.44}, {"symbol": "AAPL", "date": "2001-01-01T00:00:00.000", "price": 10.81}, {"symbol": "AAPL", "date": "2001-02-01T00:00:00.000", "price": 9.12}, {"symbol": "AAPL", "date": "2001-03-01T00:00:00.000", "price": 11.03}, {"symbol": "AAPL", "date": "2001-04-01T00:00:00.000", "price": 12.74}, {"symbol": "AAPL", "date": "2001-05-01T00:00:00.000", "price": 9.98}, {"symbol": "AAPL", "date": "2001-06-01T00:00:00.000", "price": 11.62}, {"symbol": "AAPL", "date": "2001-07-01T00:00:00.000", "price": 9.4}, {"symbol": "AAPL", "date": "2001-08-01T00:00:00.000", "price": 9.27}, {"symbol": "AAPL", "date": "2001-09-01T00:00:00.000", "price": 7.76}, {"symbol": "AAPL", "date": "2001-10-01T00:00:00.000", "price": 8.78}, {"symbol": "AAPL", "date": "2001-11-01T00:00:00.000", "price": 10.65}, {"symbol": "AAPL", "date": "2001-12-01T00:00:00.000", "price": 10.95}, {"symbol": "AAPL", "date": "2002-01-01T00:00:00.000", "price": 12.36}, {"symbol": "AAPL", "date": "2002-02-01T00:00:00.000", "price": 10.85}, {"symbol": "AAPL", "date": "2002-03-01T00:00:00.000", "price": 11.84}, {"symbol": "AAPL", "date": "2002-04-01T00:00:00.000", "price": 12.14}, {"symbol": "AAPL", "date": "2002-05-01T00:00:00.000", "price": 11.65}, {"symbol": "AAPL", "date": "2002-06-01T00:00:00.000", "price": 8.86}, {"symbol": "AAPL", "date": "2002-07-01T00:00:00.000", "price": 7.63}, {"symbol": "AAPL", "date": "2002-08-01T00:00:00.000", "price": 7.38}, {"symbol": "AAPL", "date": "2002-09-01T00:00:00.000", "price": 7.25}, {"symbol": "AAPL", "date": "2002-10-01T00:00:00.000", "price": 8.03}, {"symbol": "AAPL", "date": "2002-11-01T00:00:00.000", "price": 7.75}, {"symbol": "AAPL", "date": "2002-12-01T00:00:00.000", "price": 7.16}, {"symbol": "AAPL", "date": "2003-01-01T00:00:00.000", "price": 7.18}, {"symbol": "AAPL", "date": "2003-02-01T00:00:00.000", "price": 7.51}, {"symbol": "AAPL", "date": "2003-03-01T00:00:00.000", "price": 7.07}, {"symbol": "AAPL", "date": "2003-04-01T00:00:00.000", "price": 7.11}, {"symbol": "AAPL", "date": "2003-05-01T00:00:00.000", "price": 8.98}, {"symbol": "AAPL", "date": "2003-06-01T00:00:00.000", "price": 9.53}, {"symbol": "AAPL", "date": "2003-07-01T00:00:00.000", "price": 10.54}, {"symbol": "AAPL", "date": "2003-08-01T00:00:00.000", "price": 11.31}, {"symbol": "AAPL", "date": "2003-09-01T00:00:00.000", "price": 10.36}, {"symbol": "AAPL", "date": "2003-10-01T00:00:00.000", "price": 11.44}, {"symbol": "AAPL", "date": "2003-11-01T00:00:00.000", "price": 10.45}, {"symbol": "AAPL", "date": "2003-12-01T00:00:00.000", "price": 10.69}, {"symbol": "AAPL", "date": "2004-01-01T00:00:00.000", "price": 11.28}, {"symbol": "AAPL", "date": "2004-02-01T00:00:00.000", "price": 11.96}, {"symbol": "AAPL", "date": "2004-03-01T00:00:00.000", "price": 13.52}, {"symbol": "AAPL", "date": "2004-04-01T00:00:00.000", "price": 12.89}, {"symbol": "AAPL", "date": "2004-05-01T00:00:00.000", "price": 14.03}, {"symbol": "AAPL", "date": "2004-06-01T00:00:00.000", "price": 16.27}, {"symbol": "AAPL", "date": "2004-07-01T00:00:00.000", "price": 16.17}, {"symbol": "AAPL", "date": "2004-08-01T00:00:00.000", "price": 17.25}, {"symbol": "AAPL", "date": "2004-09-01T00:00:00.000", "price": 19.38}, {"symbol": "AAPL", "date": "2004-10-01T00:00:00.000", "price": 26.2}, {"symbol": "AAPL", "date": "2004-11-01T00:00:00.000", "price": 33.53}, {"symbol": "AAPL", "date": "2004-12-01T00:00:00.000", "price": 32.2}, {"symbol": "AAPL", "date": "2005-01-01T00:00:00.000", "price": 38.45}, {"symbol": "AAPL", "date": "2005-02-01T00:00:00.000", "price": 44.86}, {"symbol": "AAPL", "date": "2005-03-01T00:00:00.000", "price": 41.67}, {"symbol": "AAPL", "date": "2005-04-01T00:00:00.000", "price": 36.06}, {"symbol": "AAPL", "date": "2005-05-01T00:00:00.000", "price": 39.76}, {"symbol": "AAPL", "date": "2005-06-01T00:00:00.000", "price": 36.81}, {"symbol": "AAPL", "date": "2005-07-01T00:00:00.000", "price": 42.65}, {"symbol": "AAPL", "date": "2005-08-01T00:00:00.000", "price": 46.89}, {"symbol": "AAPL", "date": "2005-09-01T00:00:00.000", "price": 53.61}, {"symbol": "AAPL", "date": "2005-10-01T00:00:00.000", "price": 57.59}, {"symbol": "AAPL", "date": "2005-11-01T00:00:00.000", "price": 67.82}, {"symbol": "AAPL", "date": "2005-12-01T00:00:00.000", "price": 71.89}, {"symbol": "AAPL", "date": "2006-01-01T00:00:00.000", "price": 75.51}, {"symbol": "AAPL", "date": "2006-02-01T00:00:00.000", "price": 68.49}, {"symbol": "AAPL", "date": "2006-03-01T00:00:00.000", "price": 62.72}, {"symbol": "AAPL", "date": "2006-04-01T00:00:00.000", "price": 70.39}, {"symbol": "AAPL", "date": "2006-05-01T00:00:00.000", "price": 59.77}, {"symbol": "AAPL", "date": "2006-06-01T00:00:00.000", "price": 57.27}, {"symbol": "AAPL", "date": "2006-07-01T00:00:00.000", "price": 67.96}, {"symbol": "AAPL", "date": "2006-08-01T00:00:00.000", "price": 67.85}, {"symbol": "AAPL", "date": "2006-09-01T00:00:00.000", "price": 76.98}, {"symbol": "AAPL", "date": "2006-10-01T00:00:00.000", "price": 81.08}, {"symbol": "AAPL", "date": "2006-11-01T00:00:00.000", "price": 91.66}, {"symbol": "AAPL", "date": "2006-12-01T00:00:00.000", "price": 84.84}, {"symbol": "AAPL", "date": "2007-01-01T00:00:00.000", "price": 85.73}, {"symbol": "AAPL", "date": "2007-02-01T00:00:00.000", "price": 84.61}, {"symbol": "AAPL", "date": "2007-03-01T00:00:00.000", "price": 92.91}, {"symbol": "AAPL", "date": "2007-04-01T00:00:00.000", "price": 99.8}, {"symbol": "AAPL", "date": "2007-05-01T00:00:00.000", "price": 121.19}, {"symbol": "AAPL", "date": "2007-06-01T00:00:00.000", "price": 122.04}, {"symbol": "AAPL", "date": "2007-07-01T00:00:00.000", "price": 131.76}, {"symbol": "AAPL", "date": "2007-08-01T00:00:00.000", "price": 138.48}, {"symbol": "AAPL", "date": "2007-09-01T00:00:00.000", "price": 153.47}, {"symbol": "AAPL", "date": "2007-10-01T00:00:00.000", "price": 189.95}, {"symbol": "AAPL", "date": "2007-11-01T00:00:00.000", "price": 182.22}, {"symbol": "AAPL", "date": "2007-12-01T00:00:00.000", "price": 198.08}, {"symbol": "AAPL", "date": "2008-01-01T00:00:00.000", "price": 135.36}, {"symbol": "AAPL", "date": "2008-02-01T00:00:00.000", "price": 125.02}, {"symbol": "AAPL", "date": "2008-03-01T00:00:00.000", "price": 143.5}, {"symbol": "AAPL", "date": "2008-04-01T00:00:00.000", "price": 173.95}, {"symbol": "AAPL", "date": "2008-05-01T00:00:00.000", "price": 188.75}, {"symbol": "AAPL", "date": "2008-06-01T00:00:00.000", "price": 167.44}, {"symbol": "AAPL", "date": "2008-07-01T00:00:00.000", "price": 158.95}, {"symbol": "AAPL", "date": "2008-08-01T00:00:00.000", "price": 169.53}, {"symbol": "AAPL", "date": "2008-09-01T00:00:00.000", "price": 113.66}, {"symbol": "AAPL", "date": "2008-10-01T00:00:00.000", "price": 107.59}, {"symbol": "AAPL", "date": "2008-11-01T00:00:00.000", "price": 92.67}, {"symbol": "AAPL", "date": "2008-12-01T00:00:00.000", "price": 85.35}, {"symbol": "AAPL", "date": "2009-01-01T00:00:00.000", "price": 90.13}, {"symbol": "AAPL", "date": "2009-02-01T00:00:00.000", "price": 89.31}, {"symbol": "AAPL", "date": "2009-03-01T00:00:00.000", "price": 105.12}, {"symbol": "AAPL", "date": "2009-04-01T00:00:00.000", "price": 125.83}, {"symbol": "AAPL", "date": "2009-05-01T00:00:00.000", "price": 135.81}, {"symbol": "AAPL", "date": "2009-06-01T00:00:00.000", "price": 142.43}, {"symbol": "AAPL", "date": "2009-07-01T00:00:00.000", "price": 163.39}, {"symbol": "AAPL", "date": "2009-08-01T00:00:00.000", "price": 168.21}, {"symbol": "AAPL", "date": "2009-09-01T00:00:00.000", "price": 185.35}, {"symbol": "AAPL", "date": "2009-10-01T00:00:00.000", "price": 188.5}, {"symbol": "AAPL", "date": "2009-11-01T00:00:00.000", "price": 199.91}, {"symbol": "AAPL", "date": "2009-12-01T00:00:00.000", "price": 210.73}, {"symbol": "AAPL", "date": "2010-01-01T00:00:00.000", "price": 192.06}, {"symbol": "AAPL", "date": "2010-02-01T00:00:00.000", "price": 204.62}, {"symbol": "AAPL", "date": "2010-03-01T00:00:00.000", "price": 223.02}], "transform": [{"type": "formula", "expr": "toDate(datum['date'])", "as": "date"}]}, {"name": "source_0_y_domain_price", "values": [{"min": 5.97, "max": 707.0}]}, {"name": "source_0_color_domain_symbol", "values": [{"symbol": "MSFT"}, {"symbol": "AMZN"}, {"symbol": "IBM"}, {"symbol": "GOOG"}, {"symbol": "AAPL"}]}], "marks": [{"type": "group", "name": "pathgroup", "from": {"facet": {"data": "source_0", "name": "faceted_path_main", "groupby": ["symbol"]}}, "encode": {"update": {"width": {"field": {"signal": null, "datum": null, "group": "width", "parent": null}}, "height": {"field": {"signal": null, "datum": null, "group": "height", "parent": null}}}}, "marks": [{"type": "line", "name": "marks", "from": {"data": "faceted_path_main"}, "sort": {"field": "x"}, "encode": {"update": {"defined": {"signal": "isValid(datum[\"date\"]) && isFinite(+datum[\"date\"]) && isValid(datum[\"price\"]) && isFinite(+datum[\"price\"])"}, "x": {"field": "date", "scale": "x"}, "y": {"field": "price", "scale": "y"}, "stroke": {"field": "symbol", "scale": "color"}}}, "style": ["line"]}]}], "scales": [{"name": "x", "type": "time", "domain": {"data": "source_0", "field": "date"}, "range": [0, {"signal": "width"}]}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_price\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_price\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "nice": true, "zero": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_symbol", "field": "symbol", "sort": true}, "range": "category"}], "axes": [{"scale": "x", "aria": false, "domain": false, "zindex": 0, "ticks": false, "gridScale": "y", "maxExtent": 0, "tickCount": {"signal": "ceil(width/40)"}, "labels": false, "orient": "bottom", "grid": true, "minExtent": 0}, {"scale": "y", "gridScale": "x", "orient": "left", "aria": false, "zindex": 0, "minExtent": 0, "labels": false, "domain": false, "ticks": false, "tickCount": {"signal": "ceil(height/40)"}, "grid": true, "maxExtent": 0}, {"scale": "x", "labelOverlap": true, "tickCount": {"signal": "ceil(width/40)"}, "zindex": 0, "grid": false, "title": "date", "orient": "bottom", "labelFlush": true}, {"scale": "y", "zindex": 0, "title": "price", "grid": false, "orient": "left", "labelOverlap": true, "tickCount": {"signal": "ceil(height/40)"}}], "background": "white", "padding": 5, "height": 300, "style": "cell", "legends": [{"stroke": "color", "symbolType": "stroke", "title": "symbol"}], "width": 300}, {"mode": "vega"});
</script></div></div>
</div>
<p>We can align the ordering of these two,
by calculating the order of the lines at the maximum year
and then and then passing the labels in this order as a list to the <code class="docutils literal notranslate"><span class="pre">sort</span></code> parameter.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stock_order</span> <span class="o">=</span> <span class="p">(</span>
    <span class="n">stocks</span>
    <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">stocks</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">stocks</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()]</span>
    <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;price&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="n">stock_order</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>symbol</th>
      <th>date</th>
      <th>price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>436</th>
      <td>GOOG</td>
      <td>2010-03-01</td>
      <td>560.19</td>
    </tr>
    <tr>
      <th>559</th>
      <td>AAPL</td>
      <td>2010-03-01</td>
      <td>223.02</td>
    </tr>
    <tr>
      <th>245</th>
      <td>AMZN</td>
      <td>2010-03-01</td>
      <td>128.82</td>
    </tr>
    <tr>
      <th>368</th>
      <td>IBM</td>
      <td>2010-03-01</td>
      <td>125.55</td>
    </tr>
    <tr>
      <th>122</th>
      <td>MSFT</td>
      <td>2010-03-01</td>
      <td>28.80</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">stocks</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;symbol&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">stock_order</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-580752dc99c14dc7b8118a30729b43fc.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-580752dc99c14dc7b8118a30729b43fc.vega-embed details,
  #altair-viz-580752dc99c14dc7b8118a30729b43fc.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-580752dc99c14dc7b8118a30729b43fc"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-580752dc99c14dc7b8118a30729b43fc") {
      outputDiv = document.getElementById("altair-viz-580752dc99c14dc7b8118a30729b43fc");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"symbol": "MSFT", "date": "2000-01-01T00:00:00.000", "price": 39.81, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-02-01T00:00:00.000", "price": 36.35, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-03-01T00:00:00.000", "price": 43.22, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-04-01T00:00:00.000", "price": 28.37, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-05-01T00:00:00.000", "price": 25.45, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-06-01T00:00:00.000", "price": 32.54, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-07-01T00:00:00.000", "price": 28.4, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-08-01T00:00:00.000", "price": 28.4, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-09-01T00:00:00.000", "price": 24.53, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-10-01T00:00:00.000", "price": 28.02, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-11-01T00:00:00.000", "price": 23.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-12-01T00:00:00.000", "price": 17.65, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-01-01T00:00:00.000", "price": 24.84, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-02-01T00:00:00.000", "price": 24.0, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-03-01T00:00:00.000", "price": 22.25, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-04-01T00:00:00.000", "price": 27.56, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-05-01T00:00:00.000", "price": 28.14, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-06-01T00:00:00.000", "price": 29.7, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-07-01T00:00:00.000", "price": 26.93, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-08-01T00:00:00.000", "price": 23.21, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-09-01T00:00:00.000", "price": 20.82, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-10-01T00:00:00.000", "price": 23.65, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-11-01T00:00:00.000", "price": 26.12, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-12-01T00:00:00.000", "price": 26.95, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-01-01T00:00:00.000", "price": 25.92, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-02-01T00:00:00.000", "price": 23.73, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-03-01T00:00:00.000", "price": 24.53, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-04-01T00:00:00.000", "price": 21.26, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-05-01T00:00:00.000", "price": 20.71, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-06-01T00:00:00.000", "price": 22.25, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-07-01T00:00:00.000", "price": 19.52, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-08-01T00:00:00.000", "price": 19.97, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-09-01T00:00:00.000", "price": 17.79, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-10-01T00:00:00.000", "price": 21.75, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-11-01T00:00:00.000", "price": 23.46, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-12-01T00:00:00.000", "price": 21.03, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-01-01T00:00:00.000", "price": 19.31, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-02-01T00:00:00.000", "price": 19.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-03-01T00:00:00.000", "price": 19.76, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-04-01T00:00:00.000", "price": 20.87, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-05-01T00:00:00.000", "price": 20.09, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-06-01T00:00:00.000", "price": 20.93, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-07-01T00:00:00.000", "price": 21.56, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-08-01T00:00:00.000", "price": 21.65, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-09-01T00:00:00.000", "price": 22.69, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-10-01T00:00:00.000", "price": 21.45, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-11-01T00:00:00.000", "price": 21.1, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-12-01T00:00:00.000", "price": 22.46, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-01-01T00:00:00.000", "price": 22.69, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-02-01T00:00:00.000", "price": 21.77, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-03-01T00:00:00.000", "price": 20.46, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-04-01T00:00:00.000", "price": 21.45, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-05-01T00:00:00.000", "price": 21.53, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-06-01T00:00:00.000", "price": 23.44, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-07-01T00:00:00.000", "price": 23.38, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-08-01T00:00:00.000", "price": 22.47, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-09-01T00:00:00.000", "price": 22.76, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-10-01T00:00:00.000", "price": 23.02, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-11-01T00:00:00.000", "price": 24.6, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-12-01T00:00:00.000", "price": 24.52, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-01-01T00:00:00.000", "price": 24.11, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-02-01T00:00:00.000", "price": 23.15, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-03-01T00:00:00.000", "price": 22.24, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-04-01T00:00:00.000", "price": 23.28, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-05-01T00:00:00.000", "price": 23.82, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-06-01T00:00:00.000", "price": 22.93, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-07-01T00:00:00.000", "price": 23.64, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-08-01T00:00:00.000", "price": 25.35, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-09-01T00:00:00.000", "price": 23.83, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-10-01T00:00:00.000", "price": 23.8, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-11-01T00:00:00.000", "price": 25.71, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-12-01T00:00:00.000", "price": 24.29, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-01-01T00:00:00.000", "price": 26.14, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-02-01T00:00:00.000", "price": 25.04, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-03-01T00:00:00.000", "price": 25.36, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-04-01T00:00:00.000", "price": 22.5, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-05-01T00:00:00.000", "price": 21.19, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-06-01T00:00:00.000", "price": 21.8, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-07-01T00:00:00.000", "price": 22.51, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-08-01T00:00:00.000", "price": 24.13, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-09-01T00:00:00.000", "price": 25.68, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-10-01T00:00:00.000", "price": 26.96, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-11-01T00:00:00.000", "price": 27.66, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-12-01T00:00:00.000", "price": 28.13, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-01-01T00:00:00.000", "price": 29.07, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-02-01T00:00:00.000", "price": 26.63, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-03-01T00:00:00.000", "price": 26.35, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-04-01T00:00:00.000", "price": 28.3, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-05-01T00:00:00.000", "price": 29.11, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-06-01T00:00:00.000", "price": 27.95, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-07-01T00:00:00.000", "price": 27.5, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-08-01T00:00:00.000", "price": 27.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-09-01T00:00:00.000", "price": 28.04, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-10-01T00:00:00.000", "price": 35.03, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-11-01T00:00:00.000", "price": 32.09, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-12-01T00:00:00.000", "price": 34.0, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-01-01T00:00:00.000", "price": 31.13, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-02-01T00:00:00.000", "price": 26.07, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-03-01T00:00:00.000", "price": 27.21, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-04-01T00:00:00.000", "price": 27.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-05-01T00:00:00.000", "price": 27.25, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-06-01T00:00:00.000", "price": 26.47, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-07-01T00:00:00.000", "price": 24.75, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-08-01T00:00:00.000", "price": 26.36, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-09-01T00:00:00.000", "price": 25.78, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-10-01T00:00:00.000", "price": 21.57, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-11-01T00:00:00.000", "price": 19.66, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-12-01T00:00:00.000", "price": 18.91, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-01-01T00:00:00.000", "price": 16.63, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-02-01T00:00:00.000", "price": 15.81, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-03-01T00:00:00.000", "price": 17.99, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-04-01T00:00:00.000", "price": 19.84, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-05-01T00:00:00.000", "price": 20.59, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-06-01T00:00:00.000", "price": 23.42, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-07-01T00:00:00.000", "price": 23.18, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-08-01T00:00:00.000", "price": 24.43, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-09-01T00:00:00.000", "price": 25.49, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-10-01T00:00:00.000", "price": 27.48, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-11-01T00:00:00.000", "price": 29.27, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-12-01T00:00:00.000", "price": 30.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2010-01-01T00:00:00.000", "price": 28.05, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2010-02-01T00:00:00.000", "price": 28.67, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2010-03-01T00:00:00.000", "price": 28.8, "color_symbol_sort_index": 4.0}, {"symbol": "AMZN", "date": "2000-01-01T00:00:00.000", "price": 64.56, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-02-01T00:00:00.000", "price": 68.87, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-03-01T00:00:00.000", "price": 67.0, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-04-01T00:00:00.000", "price": 55.19, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-05-01T00:00:00.000", "price": 48.31, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-06-01T00:00:00.000", "price": 36.31, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-07-01T00:00:00.000", "price": 30.12, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-08-01T00:00:00.000", "price": 41.5, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-09-01T00:00:00.000", "price": 38.44, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-10-01T00:00:00.000", "price": 36.62, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-11-01T00:00:00.000", "price": 24.69, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-12-01T00:00:00.000", "price": 15.56, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-01-01T00:00:00.000", "price": 17.31, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-02-01T00:00:00.000", "price": 10.19, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-03-01T00:00:00.000", "price": 10.23, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-04-01T00:00:00.000", "price": 15.78, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-05-01T00:00:00.000", "price": 16.69, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-06-01T00:00:00.000", "price": 14.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-07-01T00:00:00.000", "price": 12.49, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-08-01T00:00:00.000", "price": 8.94, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-09-01T00:00:00.000", "price": 5.97, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-10-01T00:00:00.000", "price": 6.98, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-11-01T00:00:00.000", "price": 11.32, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-12-01T00:00:00.000", "price": 10.82, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-01-01T00:00:00.000", "price": 14.19, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-02-01T00:00:00.000", "price": 14.1, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-03-01T00:00:00.000", "price": 14.3, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-04-01T00:00:00.000", "price": 16.69, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-05-01T00:00:00.000", "price": 18.23, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-06-01T00:00:00.000", "price": 16.25, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-07-01T00:00:00.000", "price": 14.45, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-08-01T00:00:00.000", "price": 14.94, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-09-01T00:00:00.000", "price": 15.93, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-10-01T00:00:00.000", "price": 19.36, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-11-01T00:00:00.000", "price": 23.35, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-12-01T00:00:00.000", "price": 18.89, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-01-01T00:00:00.000", "price": 21.85, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-02-01T00:00:00.000", "price": 22.01, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-03-01T00:00:00.000", "price": 26.03, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-04-01T00:00:00.000", "price": 28.69, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-05-01T00:00:00.000", "price": 35.89, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-06-01T00:00:00.000", "price": 36.32, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-07-01T00:00:00.000", "price": 41.64, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-08-01T00:00:00.000", "price": 46.32, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-09-01T00:00:00.000", "price": 48.43, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-10-01T00:00:00.000", "price": 54.43, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-11-01T00:00:00.000", "price": 53.97, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-12-01T00:00:00.000", "price": 52.62, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-01-01T00:00:00.000", "price": 50.4, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-02-01T00:00:00.000", "price": 43.01, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-03-01T00:00:00.000", "price": 43.28, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-04-01T00:00:00.000", "price": 43.6, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-05-01T00:00:00.000", "price": 48.5, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-06-01T00:00:00.000", "price": 54.4, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-07-01T00:00:00.000", "price": 38.92, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-08-01T00:00:00.000", "price": 38.14, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-09-01T00:00:00.000", "price": 40.86, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-10-01T00:00:00.000", "price": 34.13, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-11-01T00:00:00.000", "price": 39.68, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-12-01T00:00:00.000", "price": 44.29, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-01-01T00:00:00.000", "price": 43.22, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-02-01T00:00:00.000", "price": 35.18, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-03-01T00:00:00.000", "price": 34.27, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-04-01T00:00:00.000", "price": 32.36, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-05-01T00:00:00.000", "price": 35.51, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-06-01T00:00:00.000", "price": 33.09, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-07-01T00:00:00.000", "price": 45.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-08-01T00:00:00.000", "price": 42.7, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-09-01T00:00:00.000", "price": 45.3, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-10-01T00:00:00.000", "price": 39.86, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-11-01T00:00:00.000", "price": 48.46, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-12-01T00:00:00.000", "price": 47.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-01-01T00:00:00.000", "price": 44.82, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-02-01T00:00:00.000", "price": 37.44, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-03-01T00:00:00.000", "price": 36.53, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-04-01T00:00:00.000", "price": 35.21, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-05-01T00:00:00.000", "price": 34.61, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-06-01T00:00:00.000", "price": 38.68, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-07-01T00:00:00.000", "price": 26.89, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-08-01T00:00:00.000", "price": 30.83, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-09-01T00:00:00.000", "price": 32.12, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-10-01T00:00:00.000", "price": 38.09, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-11-01T00:00:00.000", "price": 40.34, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-12-01T00:00:00.000", "price": 39.46, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-01-01T00:00:00.000", "price": 37.67, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-02-01T00:00:00.000", "price": 39.14, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-03-01T00:00:00.000", "price": 39.79, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-04-01T00:00:00.000", "price": 61.33, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-05-01T00:00:00.000", "price": 69.14, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-06-01T00:00:00.000", "price": 68.41, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-07-01T00:00:00.000", "price": 78.54, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-08-01T00:00:00.000", "price": 79.91, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-09-01T00:00:00.000", "price": 93.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-10-01T00:00:00.000", "price": 89.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-11-01T00:00:00.000", "price": 90.56, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-12-01T00:00:00.000", "price": 92.64, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-01-01T00:00:00.000", "price": 77.7, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-02-01T00:00:00.000", "price": 64.47, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-03-01T00:00:00.000", "price": 71.3, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-04-01T00:00:00.000", "price": 78.63, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-05-01T00:00:00.000", "price": 81.62, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-06-01T00:00:00.000", "price": 73.33, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-07-01T00:00:00.000", "price": 76.34, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-08-01T00:00:00.000", "price": 80.81, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-09-01T00:00:00.000", "price": 72.76, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-10-01T00:00:00.000", "price": 57.24, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-11-01T00:00:00.000", "price": 42.7, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-12-01T00:00:00.000", "price": 51.28, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-01-01T00:00:00.000", "price": 58.82, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-02-01T00:00:00.000", "price": 64.79, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-03-01T00:00:00.000", "price": 73.44, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-04-01T00:00:00.000", "price": 80.52, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-05-01T00:00:00.000", "price": 77.99, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-06-01T00:00:00.000", "price": 83.66, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-07-01T00:00:00.000", "price": 85.76, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-08-01T00:00:00.000", "price": 81.19, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-09-01T00:00:00.000", "price": 93.36, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-10-01T00:00:00.000", "price": 118.81, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-11-01T00:00:00.000", "price": 135.91, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-12-01T00:00:00.000", "price": 134.52, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2010-01-01T00:00:00.000", "price": 125.41, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2010-02-01T00:00:00.000", "price": 118.4, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2010-03-01T00:00:00.000", "price": 128.82, "color_symbol_sort_index": 2.0}, {"symbol": "IBM", "date": "2000-01-01T00:00:00.000", "price": 100.52, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-02-01T00:00:00.000", "price": 92.11, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-03-01T00:00:00.000", "price": 106.11, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-04-01T00:00:00.000", "price": 99.95, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-05-01T00:00:00.000", "price": 96.31, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-06-01T00:00:00.000", "price": 98.33, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-07-01T00:00:00.000", "price": 100.74, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-08-01T00:00:00.000", "price": 118.62, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-09-01T00:00:00.000", "price": 101.19, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-10-01T00:00:00.000", "price": 88.5, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-11-01T00:00:00.000", "price": 84.12, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-12-01T00:00:00.000", "price": 76.47, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-01-01T00:00:00.000", "price": 100.76, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-02-01T00:00:00.000", "price": 89.98, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-03-01T00:00:00.000", "price": 86.63, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-04-01T00:00:00.000", "price": 103.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-05-01T00:00:00.000", "price": 100.82, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-06-01T00:00:00.000", "price": 102.35, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-07-01T00:00:00.000", "price": 94.87, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-08-01T00:00:00.000", "price": 90.25, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-09-01T00:00:00.000", "price": 82.82, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-10-01T00:00:00.000", "price": 97.58, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-11-01T00:00:00.000", "price": 104.5, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-12-01T00:00:00.000", "price": 109.36, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-01-01T00:00:00.000", "price": 97.54, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-02-01T00:00:00.000", "price": 88.82, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-03-01T00:00:00.000", "price": 94.15, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-04-01T00:00:00.000", "price": 75.82, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-05-01T00:00:00.000", "price": 72.97, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-06-01T00:00:00.000", "price": 65.31, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-07-01T00:00:00.000", "price": 63.86, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-08-01T00:00:00.000", "price": 68.52, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-09-01T00:00:00.000", "price": 53.01, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-10-01T00:00:00.000", "price": 71.76, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-11-01T00:00:00.000", "price": 79.16, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-12-01T00:00:00.000", "price": 70.58, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-01-01T00:00:00.000", "price": 71.22, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-02-01T00:00:00.000", "price": 71.13, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-03-01T00:00:00.000", "price": 71.57, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-04-01T00:00:00.000", "price": 77.47, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-05-01T00:00:00.000", "price": 80.48, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-06-01T00:00:00.000", "price": 75.42, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-07-01T00:00:00.000", "price": 74.28, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-08-01T00:00:00.000", "price": 75.12, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-09-01T00:00:00.000", "price": 80.91, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-10-01T00:00:00.000", "price": 81.96, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-11-01T00:00:00.000", "price": 83.08, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-12-01T00:00:00.000", "price": 85.05, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-01-01T00:00:00.000", "price": 91.06, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-02-01T00:00:00.000", "price": 88.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-03-01T00:00:00.000", "price": 84.41, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-04-01T00:00:00.000", "price": 81.04, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-05-01T00:00:00.000", "price": 81.59, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-06-01T00:00:00.000", "price": 81.19, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-07-01T00:00:00.000", "price": 80.19, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-08-01T00:00:00.000", "price": 78.17, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-09-01T00:00:00.000", "price": 79.13, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-10-01T00:00:00.000", "price": 82.84, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-11-01T00:00:00.000", "price": 87.15, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-12-01T00:00:00.000", "price": 91.16, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-01-01T00:00:00.000", "price": 86.39, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-02-01T00:00:00.000", "price": 85.78, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-03-01T00:00:00.000", "price": 84.66, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-04-01T00:00:00.000", "price": 70.77, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-05-01T00:00:00.000", "price": 70.18, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-06-01T00:00:00.000", "price": 68.93, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-07-01T00:00:00.000", "price": 77.53, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-08-01T00:00:00.000", "price": 75.07, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-09-01T00:00:00.000", "price": 74.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-10-01T00:00:00.000", "price": 76.25, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-11-01T00:00:00.000", "price": 82.98, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-12-01T00:00:00.000", "price": 76.73, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-01-01T00:00:00.000", "price": 75.89, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-02-01T00:00:00.000", "price": 75.09, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-03-01T00:00:00.000", "price": 77.17, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-04-01T00:00:00.000", "price": 77.05, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-05-01T00:00:00.000", "price": 75.04, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-06-01T00:00:00.000", "price": 72.15, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-07-01T00:00:00.000", "price": 72.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-08-01T00:00:00.000", "price": 76.35, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-09-01T00:00:00.000", "price": 77.26, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-10-01T00:00:00.000", "price": 87.06, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-11-01T00:00:00.000", "price": 86.95, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-12-01T00:00:00.000", "price": 91.9, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-01-01T00:00:00.000", "price": 93.79, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-02-01T00:00:00.000", "price": 88.18, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-03-01T00:00:00.000", "price": 89.44, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-04-01T00:00:00.000", "price": 96.98, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-05-01T00:00:00.000", "price": 101.54, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-06-01T00:00:00.000", "price": 100.25, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-07-01T00:00:00.000", "price": 105.4, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-08-01T00:00:00.000", "price": 111.54, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-09-01T00:00:00.000", "price": 112.6, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-10-01T00:00:00.000", "price": 111.0, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-11-01T00:00:00.000", "price": 100.9, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-12-01T00:00:00.000", "price": 103.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-01-01T00:00:00.000", "price": 102.75, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-02-01T00:00:00.000", "price": 109.64, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-03-01T00:00:00.000", "price": 110.87, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-04-01T00:00:00.000", "price": 116.23, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-05-01T00:00:00.000", "price": 125.14, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-06-01T00:00:00.000", "price": 114.6, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-07-01T00:00:00.000", "price": 123.74, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-08-01T00:00:00.000", "price": 118.16, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-09-01T00:00:00.000", "price": 113.53, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-10-01T00:00:00.000", "price": 90.24, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-11-01T00:00:00.000", "price": 79.65, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-12-01T00:00:00.000", "price": 82.15, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-01-01T00:00:00.000", "price": 89.46, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-02-01T00:00:00.000", "price": 90.32, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-03-01T00:00:00.000", "price": 95.09, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-04-01T00:00:00.000", "price": 101.29, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-05-01T00:00:00.000", "price": 104.85, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-06-01T00:00:00.000", "price": 103.01, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-07-01T00:00:00.000", "price": 116.34, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-08-01T00:00:00.000", "price": 117.0, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-09-01T00:00:00.000", "price": 118.55, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-10-01T00:00:00.000", "price": 119.54, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-11-01T00:00:00.000", "price": 125.79, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-12-01T00:00:00.000", "price": 130.32, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2010-01-01T00:00:00.000", "price": 121.85, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2010-02-01T00:00:00.000", "price": 127.16, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2010-03-01T00:00:00.000", "price": 125.55, "color_symbol_sort_index": 3.0}, {"symbol": "GOOG", "date": "2004-08-01T00:00:00.000", "price": 102.37, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2004-09-01T00:00:00.000", "price": 129.6, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2004-10-01T00:00:00.000", "price": 190.64, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2004-11-01T00:00:00.000", "price": 181.98, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2004-12-01T00:00:00.000", "price": 192.79, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-01-01T00:00:00.000", "price": 195.62, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-02-01T00:00:00.000", "price": 187.99, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-03-01T00:00:00.000", "price": 180.51, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-04-01T00:00:00.000", "price": 220.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-05-01T00:00:00.000", "price": 277.27, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-06-01T00:00:00.000", "price": 294.15, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-07-01T00:00:00.000", "price": 287.76, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-08-01T00:00:00.000", "price": 286.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-09-01T00:00:00.000", "price": 316.46, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-10-01T00:00:00.000", "price": 372.14, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-11-01T00:00:00.000", "price": 404.91, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-12-01T00:00:00.000", "price": 414.86, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-01-01T00:00:00.000", "price": 432.66, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-02-01T00:00:00.000", "price": 362.62, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-03-01T00:00:00.000", "price": 390.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-04-01T00:00:00.000", "price": 417.94, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-05-01T00:00:00.000", "price": 371.82, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-06-01T00:00:00.000", "price": 419.33, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-07-01T00:00:00.000", "price": 386.6, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-08-01T00:00:00.000", "price": 378.53, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-09-01T00:00:00.000", "price": 401.9, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-10-01T00:00:00.000", "price": 476.39, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-11-01T00:00:00.000", "price": 484.81, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-12-01T00:00:00.000", "price": 460.48, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-01-01T00:00:00.000", "price": 501.5, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-02-01T00:00:00.000", "price": 449.45, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-03-01T00:00:00.000", "price": 458.16, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-04-01T00:00:00.000", "price": 471.38, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-05-01T00:00:00.000", "price": 497.91, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-06-01T00:00:00.000", "price": 522.7, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-07-01T00:00:00.000", "price": 510.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-08-01T00:00:00.000", "price": 515.25, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-09-01T00:00:00.000", "price": 567.27, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-10-01T00:00:00.000", "price": 707.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-11-01T00:00:00.000", "price": 693.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-12-01T00:00:00.000", "price": 691.48, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-01-01T00:00:00.000", "price": 564.3, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-02-01T00:00:00.000", "price": 471.18, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-03-01T00:00:00.000", "price": 440.47, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-04-01T00:00:00.000", "price": 574.29, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-05-01T00:00:00.000", "price": 585.8, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-06-01T00:00:00.000", "price": 526.42, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-07-01T00:00:00.000", "price": 473.75, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-08-01T00:00:00.000", "price": 463.29, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-09-01T00:00:00.000", "price": 400.52, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-10-01T00:00:00.000", "price": 359.36, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-11-01T00:00:00.000", "price": 292.96, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-12-01T00:00:00.000", "price": 307.65, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-01-01T00:00:00.000", "price": 338.53, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-02-01T00:00:00.000", "price": 337.99, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-03-01T00:00:00.000", "price": 348.06, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-04-01T00:00:00.000", "price": 395.97, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-05-01T00:00:00.000", "price": 417.23, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-06-01T00:00:00.000", "price": 421.59, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-07-01T00:00:00.000", "price": 443.05, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-08-01T00:00:00.000", "price": 461.67, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-09-01T00:00:00.000", "price": 495.85, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-10-01T00:00:00.000", "price": 536.12, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-11-01T00:00:00.000", "price": 583.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-12-01T00:00:00.000", "price": 619.98, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2010-01-01T00:00:00.000", "price": 529.94, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2010-02-01T00:00:00.000", "price": 526.8, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2010-03-01T00:00:00.000", "price": 560.19, "color_symbol_sort_index": 0.0}, {"symbol": "AAPL", "date": "2000-01-01T00:00:00.000", "price": 25.94, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-02-01T00:00:00.000", "price": 28.66, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-03-01T00:00:00.000", "price": 33.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-04-01T00:00:00.000", "price": 31.01, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-05-01T00:00:00.000", "price": 21.0, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-06-01T00:00:00.000", "price": 26.19, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-07-01T00:00:00.000", "price": 25.41, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-08-01T00:00:00.000", "price": 30.47, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-09-01T00:00:00.000", "price": 12.88, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-10-01T00:00:00.000", "price": 9.78, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-11-01T00:00:00.000", "price": 8.25, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-12-01T00:00:00.000", "price": 7.44, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-01-01T00:00:00.000", "price": 10.81, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-02-01T00:00:00.000", "price": 9.12, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-03-01T00:00:00.000", "price": 11.03, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-04-01T00:00:00.000", "price": 12.74, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-05-01T00:00:00.000", "price": 9.98, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-06-01T00:00:00.000", "price": 11.62, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-07-01T00:00:00.000", "price": 9.4, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-08-01T00:00:00.000", "price": 9.27, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-09-01T00:00:00.000", "price": 7.76, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-10-01T00:00:00.000", "price": 8.78, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-11-01T00:00:00.000", "price": 10.65, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-12-01T00:00:00.000", "price": 10.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-01-01T00:00:00.000", "price": 12.36, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-02-01T00:00:00.000", "price": 10.85, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-03-01T00:00:00.000", "price": 11.84, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-04-01T00:00:00.000", "price": 12.14, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-05-01T00:00:00.000", "price": 11.65, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-06-01T00:00:00.000", "price": 8.86, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-07-01T00:00:00.000", "price": 7.63, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-08-01T00:00:00.000", "price": 7.38, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-09-01T00:00:00.000", "price": 7.25, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-10-01T00:00:00.000", "price": 8.03, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-11-01T00:00:00.000", "price": 7.75, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-12-01T00:00:00.000", "price": 7.16, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-01-01T00:00:00.000", "price": 7.18, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-02-01T00:00:00.000", "price": 7.51, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-03-01T00:00:00.000", "price": 7.07, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-04-01T00:00:00.000", "price": 7.11, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-05-01T00:00:00.000", "price": 8.98, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-06-01T00:00:00.000", "price": 9.53, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-07-01T00:00:00.000", "price": 10.54, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-08-01T00:00:00.000", "price": 11.31, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-09-01T00:00:00.000", "price": 10.36, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-10-01T00:00:00.000", "price": 11.44, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-11-01T00:00:00.000", "price": 10.45, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-12-01T00:00:00.000", "price": 10.69, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-01-01T00:00:00.000", "price": 11.28, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-02-01T00:00:00.000", "price": 11.96, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-03-01T00:00:00.000", "price": 13.52, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-04-01T00:00:00.000", "price": 12.89, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-05-01T00:00:00.000", "price": 14.03, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-06-01T00:00:00.000", "price": 16.27, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-07-01T00:00:00.000", "price": 16.17, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-08-01T00:00:00.000", "price": 17.25, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-09-01T00:00:00.000", "price": 19.38, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-10-01T00:00:00.000", "price": 26.2, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-11-01T00:00:00.000", "price": 33.53, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-12-01T00:00:00.000", "price": 32.2, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-01-01T00:00:00.000", "price": 38.45, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-02-01T00:00:00.000", "price": 44.86, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-03-01T00:00:00.000", "price": 41.67, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-04-01T00:00:00.000", "price": 36.06, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-05-01T00:00:00.000", "price": 39.76, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-06-01T00:00:00.000", "price": 36.81, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-07-01T00:00:00.000", "price": 42.65, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-08-01T00:00:00.000", "price": 46.89, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-09-01T00:00:00.000", "price": 53.61, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-10-01T00:00:00.000", "price": 57.59, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-11-01T00:00:00.000", "price": 67.82, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-12-01T00:00:00.000", "price": 71.89, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-01-01T00:00:00.000", "price": 75.51, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-02-01T00:00:00.000", "price": 68.49, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-03-01T00:00:00.000", "price": 62.72, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-04-01T00:00:00.000", "price": 70.39, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-05-01T00:00:00.000", "price": 59.77, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-06-01T00:00:00.000", "price": 57.27, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-07-01T00:00:00.000", "price": 67.96, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-08-01T00:00:00.000", "price": 67.85, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-09-01T00:00:00.000", "price": 76.98, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-10-01T00:00:00.000", "price": 81.08, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-11-01T00:00:00.000", "price": 91.66, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-12-01T00:00:00.000", "price": 84.84, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-01-01T00:00:00.000", "price": 85.73, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-02-01T00:00:00.000", "price": 84.61, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-03-01T00:00:00.000", "price": 92.91, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-04-01T00:00:00.000", "price": 99.8, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-05-01T00:00:00.000", "price": 121.19, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-06-01T00:00:00.000", "price": 122.04, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-07-01T00:00:00.000", "price": 131.76, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-08-01T00:00:00.000", "price": 138.48, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-09-01T00:00:00.000", "price": 153.47, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-10-01T00:00:00.000", "price": 189.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-11-01T00:00:00.000", "price": 182.22, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-12-01T00:00:00.000", "price": 198.08, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-01-01T00:00:00.000", "price": 135.36, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-02-01T00:00:00.000", "price": 125.02, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-03-01T00:00:00.000", "price": 143.5, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-04-01T00:00:00.000", "price": 173.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-05-01T00:00:00.000", "price": 188.75, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-06-01T00:00:00.000", "price": 167.44, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-07-01T00:00:00.000", "price": 158.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-08-01T00:00:00.000", "price": 169.53, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-09-01T00:00:00.000", "price": 113.66, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-10-01T00:00:00.000", "price": 107.59, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-11-01T00:00:00.000", "price": 92.67, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-12-01T00:00:00.000", "price": 85.35, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-01-01T00:00:00.000", "price": 90.13, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-02-01T00:00:00.000", "price": 89.31, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-03-01T00:00:00.000", "price": 105.12, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-04-01T00:00:00.000", "price": 125.83, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-05-01T00:00:00.000", "price": 135.81, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-06-01T00:00:00.000", "price": 142.43, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-07-01T00:00:00.000", "price": 163.39, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-08-01T00:00:00.000", "price": 168.21, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-09-01T00:00:00.000", "price": 185.35, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-10-01T00:00:00.000", "price": 188.5, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-11-01T00:00:00.000", "price": 199.91, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-12-01T00:00:00.000", "price": 210.73, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2010-01-01T00:00:00.000", "price": 192.06, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2010-02-01T00:00:00.000", "price": 204.62, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2010-03-01T00:00:00.000", "price": 223.02, "color_symbol_sort_index": 1.0}], "transform": [{"type": "formula", "expr": "toDate(datum['date'])", "as": "date"}]}, {"name": "source_0_y_domain_price", "values": [{"min": 5.97, "max": 707.0}]}, {"name": "source_0_color_domain_symbol", "values": [{"sort_field": 4.0, "symbol": "MSFT"}, {"sort_field": 2.0, "symbol": "AMZN"}, {"sort_field": 3.0, "symbol": "IBM"}, {"sort_field": 0.0, "symbol": "GOOG"}, {"sort_field": 1.0, "symbol": "AAPL"}]}], "marks": [{"type": "group", "name": "pathgroup", "from": {"facet": {"data": "source_0", "name": "faceted_path_main", "groupby": ["symbol"]}}, "encode": {"update": {"width": {"field": {"signal": null, "datum": null, "group": "width", "parent": null}}, "height": {"field": {"signal": null, "datum": null, "group": "height", "parent": null}}}}, "marks": [{"type": "line", "name": "marks", "from": {"data": "faceted_path_main"}, "sort": {"field": "x"}, "encode": {"update": {"stroke": {"field": "symbol", "scale": "color"}, "x": {"field": "date", "scale": "x"}, "defined": {"signal": "isValid(datum[\"date\"]) && isFinite(+datum[\"date\"]) && isValid(datum[\"price\"]) && isFinite(+datum[\"price\"])"}, "y": {"field": "price", "scale": "y"}}}, "style": ["line"]}]}], "scales": [{"name": "x", "type": "time", "domain": {"data": "source_0", "field": "date"}, "range": [0, {"signal": "width"}]}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_price\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_price\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_symbol", "field": "symbol", "sort": {"op": "max", "field": "sort_field"}}, "range": "category"}], "axes": [{"scale": "x", "zindex": 0, "grid": true, "domain": false, "ticks": false, "minExtent": 0, "tickCount": {"signal": "ceil(width/40)"}, "labels": false, "gridScale": "y", "orient": "bottom", "maxExtent": 0, "aria": false}, {"scale": "y", "orient": "left", "grid": true, "aria": false, "maxExtent": 0, "minExtent": 0, "ticks": false, "labels": false, "gridScale": "x", "zindex": 0, "domain": false, "tickCount": {"signal": "ceil(height/40)"}}, {"scale": "x", "orient": "bottom", "labelOverlap": true, "labelFlush": true, "zindex": 0, "grid": false, "tickCount": {"signal": "ceil(width/40)"}, "title": "date"}, {"scale": "y", "grid": false, "title": "price", "tickCount": {"signal": "ceil(height/40)"}, "orient": "left", "labelOverlap": true, "zindex": 0}], "background": "white", "width": 300, "height": 300, "style": "cell", "legends": [{"stroke": "color", "symbolType": "stroke", "title": "symbol"}], "padding": 5}, {"mode": "vega"});
</script></div></div>
</div>
<p>The title for categorical axes or legends are often not that informative,
and in many cases we can remove it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">stocks</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;symbol&#39;</span><span class="p">)</span>
        <span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">stock_order</span><span class="p">[</span><span class="s1">&#39;symbol&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
        <span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-44f4270e318e4f0d9514c6c20d0babc5.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-44f4270e318e4f0d9514c6c20d0babc5.vega-embed details,
  #altair-viz-44f4270e318e4f0d9514c6c20d0babc5.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-44f4270e318e4f0d9514c6c20d0babc5"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-44f4270e318e4f0d9514c6c20d0babc5") {
      outputDiv = document.getElementById("altair-viz-44f4270e318e4f0d9514c6c20d0babc5");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"symbol": "MSFT", "date": "2000-01-01T00:00:00.000", "price": 39.81, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-02-01T00:00:00.000", "price": 36.35, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-03-01T00:00:00.000", "price": 43.22, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-04-01T00:00:00.000", "price": 28.37, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-05-01T00:00:00.000", "price": 25.45, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-06-01T00:00:00.000", "price": 32.54, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-07-01T00:00:00.000", "price": 28.4, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-08-01T00:00:00.000", "price": 28.4, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-09-01T00:00:00.000", "price": 24.53, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-10-01T00:00:00.000", "price": 28.02, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-11-01T00:00:00.000", "price": 23.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2000-12-01T00:00:00.000", "price": 17.65, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-01-01T00:00:00.000", "price": 24.84, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-02-01T00:00:00.000", "price": 24.0, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-03-01T00:00:00.000", "price": 22.25, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-04-01T00:00:00.000", "price": 27.56, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-05-01T00:00:00.000", "price": 28.14, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-06-01T00:00:00.000", "price": 29.7, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-07-01T00:00:00.000", "price": 26.93, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-08-01T00:00:00.000", "price": 23.21, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-09-01T00:00:00.000", "price": 20.82, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-10-01T00:00:00.000", "price": 23.65, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-11-01T00:00:00.000", "price": 26.12, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2001-12-01T00:00:00.000", "price": 26.95, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-01-01T00:00:00.000", "price": 25.92, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-02-01T00:00:00.000", "price": 23.73, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-03-01T00:00:00.000", "price": 24.53, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-04-01T00:00:00.000", "price": 21.26, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-05-01T00:00:00.000", "price": 20.71, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-06-01T00:00:00.000", "price": 22.25, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-07-01T00:00:00.000", "price": 19.52, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-08-01T00:00:00.000", "price": 19.97, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-09-01T00:00:00.000", "price": 17.79, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-10-01T00:00:00.000", "price": 21.75, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-11-01T00:00:00.000", "price": 23.46, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2002-12-01T00:00:00.000", "price": 21.03, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-01-01T00:00:00.000", "price": 19.31, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-02-01T00:00:00.000", "price": 19.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-03-01T00:00:00.000", "price": 19.76, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-04-01T00:00:00.000", "price": 20.87, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-05-01T00:00:00.000", "price": 20.09, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-06-01T00:00:00.000", "price": 20.93, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-07-01T00:00:00.000", "price": 21.56, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-08-01T00:00:00.000", "price": 21.65, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-09-01T00:00:00.000", "price": 22.69, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-10-01T00:00:00.000", "price": 21.45, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-11-01T00:00:00.000", "price": 21.1, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2003-12-01T00:00:00.000", "price": 22.46, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-01-01T00:00:00.000", "price": 22.69, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-02-01T00:00:00.000", "price": 21.77, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-03-01T00:00:00.000", "price": 20.46, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-04-01T00:00:00.000", "price": 21.45, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-05-01T00:00:00.000", "price": 21.53, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-06-01T00:00:00.000", "price": 23.44, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-07-01T00:00:00.000", "price": 23.38, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-08-01T00:00:00.000", "price": 22.47, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-09-01T00:00:00.000", "price": 22.76, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-10-01T00:00:00.000", "price": 23.02, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-11-01T00:00:00.000", "price": 24.6, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2004-12-01T00:00:00.000", "price": 24.52, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-01-01T00:00:00.000", "price": 24.11, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-02-01T00:00:00.000", "price": 23.15, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-03-01T00:00:00.000", "price": 22.24, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-04-01T00:00:00.000", "price": 23.28, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-05-01T00:00:00.000", "price": 23.82, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-06-01T00:00:00.000", "price": 22.93, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-07-01T00:00:00.000", "price": 23.64, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-08-01T00:00:00.000", "price": 25.35, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-09-01T00:00:00.000", "price": 23.83, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-10-01T00:00:00.000", "price": 23.8, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-11-01T00:00:00.000", "price": 25.71, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2005-12-01T00:00:00.000", "price": 24.29, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-01-01T00:00:00.000", "price": 26.14, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-02-01T00:00:00.000", "price": 25.04, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-03-01T00:00:00.000", "price": 25.36, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-04-01T00:00:00.000", "price": 22.5, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-05-01T00:00:00.000", "price": 21.19, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-06-01T00:00:00.000", "price": 21.8, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-07-01T00:00:00.000", "price": 22.51, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-08-01T00:00:00.000", "price": 24.13, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-09-01T00:00:00.000", "price": 25.68, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-10-01T00:00:00.000", "price": 26.96, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-11-01T00:00:00.000", "price": 27.66, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2006-12-01T00:00:00.000", "price": 28.13, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-01-01T00:00:00.000", "price": 29.07, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-02-01T00:00:00.000", "price": 26.63, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-03-01T00:00:00.000", "price": 26.35, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-04-01T00:00:00.000", "price": 28.3, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-05-01T00:00:00.000", "price": 29.11, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-06-01T00:00:00.000", "price": 27.95, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-07-01T00:00:00.000", "price": 27.5, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-08-01T00:00:00.000", "price": 27.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-09-01T00:00:00.000", "price": 28.04, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-10-01T00:00:00.000", "price": 35.03, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-11-01T00:00:00.000", "price": 32.09, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2007-12-01T00:00:00.000", "price": 34.0, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-01-01T00:00:00.000", "price": 31.13, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-02-01T00:00:00.000", "price": 26.07, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-03-01T00:00:00.000", "price": 27.21, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-04-01T00:00:00.000", "price": 27.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-05-01T00:00:00.000", "price": 27.25, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-06-01T00:00:00.000", "price": 26.47, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-07-01T00:00:00.000", "price": 24.75, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-08-01T00:00:00.000", "price": 26.36, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-09-01T00:00:00.000", "price": 25.78, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-10-01T00:00:00.000", "price": 21.57, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-11-01T00:00:00.000", "price": 19.66, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2008-12-01T00:00:00.000", "price": 18.91, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-01-01T00:00:00.000", "price": 16.63, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-02-01T00:00:00.000", "price": 15.81, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-03-01T00:00:00.000", "price": 17.99, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-04-01T00:00:00.000", "price": 19.84, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-05-01T00:00:00.000", "price": 20.59, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-06-01T00:00:00.000", "price": 23.42, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-07-01T00:00:00.000", "price": 23.18, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-08-01T00:00:00.000", "price": 24.43, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-09-01T00:00:00.000", "price": 25.49, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-10-01T00:00:00.000", "price": 27.48, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-11-01T00:00:00.000", "price": 29.27, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2009-12-01T00:00:00.000", "price": 30.34, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2010-01-01T00:00:00.000", "price": 28.05, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2010-02-01T00:00:00.000", "price": 28.67, "color_symbol_sort_index": 4.0}, {"symbol": "MSFT", "date": "2010-03-01T00:00:00.000", "price": 28.8, "color_symbol_sort_index": 4.0}, {"symbol": "AMZN", "date": "2000-01-01T00:00:00.000", "price": 64.56, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-02-01T00:00:00.000", "price": 68.87, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-03-01T00:00:00.000", "price": 67.0, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-04-01T00:00:00.000", "price": 55.19, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-05-01T00:00:00.000", "price": 48.31, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-06-01T00:00:00.000", "price": 36.31, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-07-01T00:00:00.000", "price": 30.12, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-08-01T00:00:00.000", "price": 41.5, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-09-01T00:00:00.000", "price": 38.44, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-10-01T00:00:00.000", "price": 36.62, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-11-01T00:00:00.000", "price": 24.69, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2000-12-01T00:00:00.000", "price": 15.56, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-01-01T00:00:00.000", "price": 17.31, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-02-01T00:00:00.000", "price": 10.19, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-03-01T00:00:00.000", "price": 10.23, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-04-01T00:00:00.000", "price": 15.78, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-05-01T00:00:00.000", "price": 16.69, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-06-01T00:00:00.000", "price": 14.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-07-01T00:00:00.000", "price": 12.49, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-08-01T00:00:00.000", "price": 8.94, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-09-01T00:00:00.000", "price": 5.97, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-10-01T00:00:00.000", "price": 6.98, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-11-01T00:00:00.000", "price": 11.32, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2001-12-01T00:00:00.000", "price": 10.82, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-01-01T00:00:00.000", "price": 14.19, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-02-01T00:00:00.000", "price": 14.1, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-03-01T00:00:00.000", "price": 14.3, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-04-01T00:00:00.000", "price": 16.69, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-05-01T00:00:00.000", "price": 18.23, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-06-01T00:00:00.000", "price": 16.25, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-07-01T00:00:00.000", "price": 14.45, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-08-01T00:00:00.000", "price": 14.94, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-09-01T00:00:00.000", "price": 15.93, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-10-01T00:00:00.000", "price": 19.36, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-11-01T00:00:00.000", "price": 23.35, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2002-12-01T00:00:00.000", "price": 18.89, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-01-01T00:00:00.000", "price": 21.85, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-02-01T00:00:00.000", "price": 22.01, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-03-01T00:00:00.000", "price": 26.03, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-04-01T00:00:00.000", "price": 28.69, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-05-01T00:00:00.000", "price": 35.89, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-06-01T00:00:00.000", "price": 36.32, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-07-01T00:00:00.000", "price": 41.64, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-08-01T00:00:00.000", "price": 46.32, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-09-01T00:00:00.000", "price": 48.43, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-10-01T00:00:00.000", "price": 54.43, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-11-01T00:00:00.000", "price": 53.97, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2003-12-01T00:00:00.000", "price": 52.62, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-01-01T00:00:00.000", "price": 50.4, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-02-01T00:00:00.000", "price": 43.01, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-03-01T00:00:00.000", "price": 43.28, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-04-01T00:00:00.000", "price": 43.6, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-05-01T00:00:00.000", "price": 48.5, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-06-01T00:00:00.000", "price": 54.4, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-07-01T00:00:00.000", "price": 38.92, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-08-01T00:00:00.000", "price": 38.14, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-09-01T00:00:00.000", "price": 40.86, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-10-01T00:00:00.000", "price": 34.13, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-11-01T00:00:00.000", "price": 39.68, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2004-12-01T00:00:00.000", "price": 44.29, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-01-01T00:00:00.000", "price": 43.22, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-02-01T00:00:00.000", "price": 35.18, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-03-01T00:00:00.000", "price": 34.27, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-04-01T00:00:00.000", "price": 32.36, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-05-01T00:00:00.000", "price": 35.51, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-06-01T00:00:00.000", "price": 33.09, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-07-01T00:00:00.000", "price": 45.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-08-01T00:00:00.000", "price": 42.7, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-09-01T00:00:00.000", "price": 45.3, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-10-01T00:00:00.000", "price": 39.86, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-11-01T00:00:00.000", "price": 48.46, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2005-12-01T00:00:00.000", "price": 47.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-01-01T00:00:00.000", "price": 44.82, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-02-01T00:00:00.000", "price": 37.44, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-03-01T00:00:00.000", "price": 36.53, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-04-01T00:00:00.000", "price": 35.21, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-05-01T00:00:00.000", "price": 34.61, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-06-01T00:00:00.000", "price": 38.68, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-07-01T00:00:00.000", "price": 26.89, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-08-01T00:00:00.000", "price": 30.83, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-09-01T00:00:00.000", "price": 32.12, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-10-01T00:00:00.000", "price": 38.09, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-11-01T00:00:00.000", "price": 40.34, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2006-12-01T00:00:00.000", "price": 39.46, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-01-01T00:00:00.000", "price": 37.67, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-02-01T00:00:00.000", "price": 39.14, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-03-01T00:00:00.000", "price": 39.79, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-04-01T00:00:00.000", "price": 61.33, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-05-01T00:00:00.000", "price": 69.14, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-06-01T00:00:00.000", "price": 68.41, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-07-01T00:00:00.000", "price": 78.54, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-08-01T00:00:00.000", "price": 79.91, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-09-01T00:00:00.000", "price": 93.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-10-01T00:00:00.000", "price": 89.15, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-11-01T00:00:00.000", "price": 90.56, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2007-12-01T00:00:00.000", "price": 92.64, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-01-01T00:00:00.000", "price": 77.7, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-02-01T00:00:00.000", "price": 64.47, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-03-01T00:00:00.000", "price": 71.3, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-04-01T00:00:00.000", "price": 78.63, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-05-01T00:00:00.000", "price": 81.62, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-06-01T00:00:00.000", "price": 73.33, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-07-01T00:00:00.000", "price": 76.34, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-08-01T00:00:00.000", "price": 80.81, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-09-01T00:00:00.000", "price": 72.76, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-10-01T00:00:00.000", "price": 57.24, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-11-01T00:00:00.000", "price": 42.7, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2008-12-01T00:00:00.000", "price": 51.28, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-01-01T00:00:00.000", "price": 58.82, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-02-01T00:00:00.000", "price": 64.79, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-03-01T00:00:00.000", "price": 73.44, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-04-01T00:00:00.000", "price": 80.52, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-05-01T00:00:00.000", "price": 77.99, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-06-01T00:00:00.000", "price": 83.66, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-07-01T00:00:00.000", "price": 85.76, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-08-01T00:00:00.000", "price": 81.19, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-09-01T00:00:00.000", "price": 93.36, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-10-01T00:00:00.000", "price": 118.81, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-11-01T00:00:00.000", "price": 135.91, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2009-12-01T00:00:00.000", "price": 134.52, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2010-01-01T00:00:00.000", "price": 125.41, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2010-02-01T00:00:00.000", "price": 118.4, "color_symbol_sort_index": 2.0}, {"symbol": "AMZN", "date": "2010-03-01T00:00:00.000", "price": 128.82, "color_symbol_sort_index": 2.0}, {"symbol": "IBM", "date": "2000-01-01T00:00:00.000", "price": 100.52, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-02-01T00:00:00.000", "price": 92.11, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-03-01T00:00:00.000", "price": 106.11, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-04-01T00:00:00.000", "price": 99.95, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-05-01T00:00:00.000", "price": 96.31, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-06-01T00:00:00.000", "price": 98.33, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-07-01T00:00:00.000", "price": 100.74, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-08-01T00:00:00.000", "price": 118.62, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-09-01T00:00:00.000", "price": 101.19, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-10-01T00:00:00.000", "price": 88.5, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-11-01T00:00:00.000", "price": 84.12, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2000-12-01T00:00:00.000", "price": 76.47, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-01-01T00:00:00.000", "price": 100.76, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-02-01T00:00:00.000", "price": 89.98, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-03-01T00:00:00.000", "price": 86.63, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-04-01T00:00:00.000", "price": 103.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-05-01T00:00:00.000", "price": 100.82, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-06-01T00:00:00.000", "price": 102.35, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-07-01T00:00:00.000", "price": 94.87, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-08-01T00:00:00.000", "price": 90.25, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-09-01T00:00:00.000", "price": 82.82, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-10-01T00:00:00.000", "price": 97.58, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-11-01T00:00:00.000", "price": 104.5, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2001-12-01T00:00:00.000", "price": 109.36, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-01-01T00:00:00.000", "price": 97.54, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-02-01T00:00:00.000", "price": 88.82, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-03-01T00:00:00.000", "price": 94.15, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-04-01T00:00:00.000", "price": 75.82, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-05-01T00:00:00.000", "price": 72.97, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-06-01T00:00:00.000", "price": 65.31, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-07-01T00:00:00.000", "price": 63.86, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-08-01T00:00:00.000", "price": 68.52, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-09-01T00:00:00.000", "price": 53.01, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-10-01T00:00:00.000", "price": 71.76, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-11-01T00:00:00.000", "price": 79.16, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2002-12-01T00:00:00.000", "price": 70.58, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-01-01T00:00:00.000", "price": 71.22, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-02-01T00:00:00.000", "price": 71.13, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-03-01T00:00:00.000", "price": 71.57, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-04-01T00:00:00.000", "price": 77.47, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-05-01T00:00:00.000", "price": 80.48, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-06-01T00:00:00.000", "price": 75.42, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-07-01T00:00:00.000", "price": 74.28, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-08-01T00:00:00.000", "price": 75.12, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-09-01T00:00:00.000", "price": 80.91, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-10-01T00:00:00.000", "price": 81.96, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-11-01T00:00:00.000", "price": 83.08, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2003-12-01T00:00:00.000", "price": 85.05, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-01-01T00:00:00.000", "price": 91.06, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-02-01T00:00:00.000", "price": 88.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-03-01T00:00:00.000", "price": 84.41, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-04-01T00:00:00.000", "price": 81.04, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-05-01T00:00:00.000", "price": 81.59, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-06-01T00:00:00.000", "price": 81.19, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-07-01T00:00:00.000", "price": 80.19, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-08-01T00:00:00.000", "price": 78.17, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-09-01T00:00:00.000", "price": 79.13, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-10-01T00:00:00.000", "price": 82.84, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-11-01T00:00:00.000", "price": 87.15, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2004-12-01T00:00:00.000", "price": 91.16, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-01-01T00:00:00.000", "price": 86.39, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-02-01T00:00:00.000", "price": 85.78, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-03-01T00:00:00.000", "price": 84.66, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-04-01T00:00:00.000", "price": 70.77, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-05-01T00:00:00.000", "price": 70.18, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-06-01T00:00:00.000", "price": 68.93, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-07-01T00:00:00.000", "price": 77.53, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-08-01T00:00:00.000", "price": 75.07, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-09-01T00:00:00.000", "price": 74.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-10-01T00:00:00.000", "price": 76.25, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-11-01T00:00:00.000", "price": 82.98, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2005-12-01T00:00:00.000", "price": 76.73, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-01-01T00:00:00.000", "price": 75.89, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-02-01T00:00:00.000", "price": 75.09, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-03-01T00:00:00.000", "price": 77.17, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-04-01T00:00:00.000", "price": 77.05, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-05-01T00:00:00.000", "price": 75.04, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-06-01T00:00:00.000", "price": 72.15, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-07-01T00:00:00.000", "price": 72.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-08-01T00:00:00.000", "price": 76.35, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-09-01T00:00:00.000", "price": 77.26, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-10-01T00:00:00.000", "price": 87.06, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-11-01T00:00:00.000", "price": 86.95, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2006-12-01T00:00:00.000", "price": 91.9, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-01-01T00:00:00.000", "price": 93.79, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-02-01T00:00:00.000", "price": 88.18, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-03-01T00:00:00.000", "price": 89.44, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-04-01T00:00:00.000", "price": 96.98, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-05-01T00:00:00.000", "price": 101.54, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-06-01T00:00:00.000", "price": 100.25, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-07-01T00:00:00.000", "price": 105.4, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-08-01T00:00:00.000", "price": 111.54, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-09-01T00:00:00.000", "price": 112.6, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-10-01T00:00:00.000", "price": 111.0, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-11-01T00:00:00.000", "price": 100.9, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2007-12-01T00:00:00.000", "price": 103.7, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-01-01T00:00:00.000", "price": 102.75, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-02-01T00:00:00.000", "price": 109.64, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-03-01T00:00:00.000", "price": 110.87, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-04-01T00:00:00.000", "price": 116.23, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-05-01T00:00:00.000", "price": 125.14, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-06-01T00:00:00.000", "price": 114.6, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-07-01T00:00:00.000", "price": 123.74, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-08-01T00:00:00.000", "price": 118.16, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-09-01T00:00:00.000", "price": 113.53, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-10-01T00:00:00.000", "price": 90.24, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-11-01T00:00:00.000", "price": 79.65, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2008-12-01T00:00:00.000", "price": 82.15, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-01-01T00:00:00.000", "price": 89.46, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-02-01T00:00:00.000", "price": 90.32, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-03-01T00:00:00.000", "price": 95.09, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-04-01T00:00:00.000", "price": 101.29, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-05-01T00:00:00.000", "price": 104.85, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-06-01T00:00:00.000", "price": 103.01, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-07-01T00:00:00.000", "price": 116.34, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-08-01T00:00:00.000", "price": 117.0, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-09-01T00:00:00.000", "price": 118.55, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-10-01T00:00:00.000", "price": 119.54, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-11-01T00:00:00.000", "price": 125.79, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2009-12-01T00:00:00.000", "price": 130.32, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2010-01-01T00:00:00.000", "price": 121.85, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2010-02-01T00:00:00.000", "price": 127.16, "color_symbol_sort_index": 3.0}, {"symbol": "IBM", "date": "2010-03-01T00:00:00.000", "price": 125.55, "color_symbol_sort_index": 3.0}, {"symbol": "GOOG", "date": "2004-08-01T00:00:00.000", "price": 102.37, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2004-09-01T00:00:00.000", "price": 129.6, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2004-10-01T00:00:00.000", "price": 190.64, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2004-11-01T00:00:00.000", "price": 181.98, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2004-12-01T00:00:00.000", "price": 192.79, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-01-01T00:00:00.000", "price": 195.62, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-02-01T00:00:00.000", "price": 187.99, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-03-01T00:00:00.000", "price": 180.51, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-04-01T00:00:00.000", "price": 220.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-05-01T00:00:00.000", "price": 277.27, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-06-01T00:00:00.000", "price": 294.15, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-07-01T00:00:00.000", "price": 287.76, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-08-01T00:00:00.000", "price": 286.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-09-01T00:00:00.000", "price": 316.46, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-10-01T00:00:00.000", "price": 372.14, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-11-01T00:00:00.000", "price": 404.91, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2005-12-01T00:00:00.000", "price": 414.86, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-01-01T00:00:00.000", "price": 432.66, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-02-01T00:00:00.000", "price": 362.62, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-03-01T00:00:00.000", "price": 390.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-04-01T00:00:00.000", "price": 417.94, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-05-01T00:00:00.000", "price": 371.82, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-06-01T00:00:00.000", "price": 419.33, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-07-01T00:00:00.000", "price": 386.6, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-08-01T00:00:00.000", "price": 378.53, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-09-01T00:00:00.000", "price": 401.9, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-10-01T00:00:00.000", "price": 476.39, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-11-01T00:00:00.000", "price": 484.81, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2006-12-01T00:00:00.000", "price": 460.48, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-01-01T00:00:00.000", "price": 501.5, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-02-01T00:00:00.000", "price": 449.45, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-03-01T00:00:00.000", "price": 458.16, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-04-01T00:00:00.000", "price": 471.38, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-05-01T00:00:00.000", "price": 497.91, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-06-01T00:00:00.000", "price": 522.7, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-07-01T00:00:00.000", "price": 510.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-08-01T00:00:00.000", "price": 515.25, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-09-01T00:00:00.000", "price": 567.27, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-10-01T00:00:00.000", "price": 707.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-11-01T00:00:00.000", "price": 693.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2007-12-01T00:00:00.000", "price": 691.48, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-01-01T00:00:00.000", "price": 564.3, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-02-01T00:00:00.000", "price": 471.18, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-03-01T00:00:00.000", "price": 440.47, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-04-01T00:00:00.000", "price": 574.29, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-05-01T00:00:00.000", "price": 585.8, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-06-01T00:00:00.000", "price": 526.42, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-07-01T00:00:00.000", "price": 473.75, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-08-01T00:00:00.000", "price": 463.29, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-09-01T00:00:00.000", "price": 400.52, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-10-01T00:00:00.000", "price": 359.36, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-11-01T00:00:00.000", "price": 292.96, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2008-12-01T00:00:00.000", "price": 307.65, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-01-01T00:00:00.000", "price": 338.53, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-02-01T00:00:00.000", "price": 337.99, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-03-01T00:00:00.000", "price": 348.06, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-04-01T00:00:00.000", "price": 395.97, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-05-01T00:00:00.000", "price": 417.23, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-06-01T00:00:00.000", "price": 421.59, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-07-01T00:00:00.000", "price": 443.05, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-08-01T00:00:00.000", "price": 461.67, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-09-01T00:00:00.000", "price": 495.85, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-10-01T00:00:00.000", "price": 536.12, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-11-01T00:00:00.000", "price": 583.0, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2009-12-01T00:00:00.000", "price": 619.98, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2010-01-01T00:00:00.000", "price": 529.94, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2010-02-01T00:00:00.000", "price": 526.8, "color_symbol_sort_index": 0.0}, {"symbol": "GOOG", "date": "2010-03-01T00:00:00.000", "price": 560.19, "color_symbol_sort_index": 0.0}, {"symbol": "AAPL", "date": "2000-01-01T00:00:00.000", "price": 25.94, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-02-01T00:00:00.000", "price": 28.66, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-03-01T00:00:00.000", "price": 33.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-04-01T00:00:00.000", "price": 31.01, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-05-01T00:00:00.000", "price": 21.0, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-06-01T00:00:00.000", "price": 26.19, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-07-01T00:00:00.000", "price": 25.41, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-08-01T00:00:00.000", "price": 30.47, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-09-01T00:00:00.000", "price": 12.88, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-10-01T00:00:00.000", "price": 9.78, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-11-01T00:00:00.000", "price": 8.25, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2000-12-01T00:00:00.000", "price": 7.44, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-01-01T00:00:00.000", "price": 10.81, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-02-01T00:00:00.000", "price": 9.12, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-03-01T00:00:00.000", "price": 11.03, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-04-01T00:00:00.000", "price": 12.74, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-05-01T00:00:00.000", "price": 9.98, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-06-01T00:00:00.000", "price": 11.62, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-07-01T00:00:00.000", "price": 9.4, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-08-01T00:00:00.000", "price": 9.27, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-09-01T00:00:00.000", "price": 7.76, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-10-01T00:00:00.000", "price": 8.78, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-11-01T00:00:00.000", "price": 10.65, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2001-12-01T00:00:00.000", "price": 10.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-01-01T00:00:00.000", "price": 12.36, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-02-01T00:00:00.000", "price": 10.85, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-03-01T00:00:00.000", "price": 11.84, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-04-01T00:00:00.000", "price": 12.14, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-05-01T00:00:00.000", "price": 11.65, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-06-01T00:00:00.000", "price": 8.86, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-07-01T00:00:00.000", "price": 7.63, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-08-01T00:00:00.000", "price": 7.38, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-09-01T00:00:00.000", "price": 7.25, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-10-01T00:00:00.000", "price": 8.03, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-11-01T00:00:00.000", "price": 7.75, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2002-12-01T00:00:00.000", "price": 7.16, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-01-01T00:00:00.000", "price": 7.18, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-02-01T00:00:00.000", "price": 7.51, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-03-01T00:00:00.000", "price": 7.07, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-04-01T00:00:00.000", "price": 7.11, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-05-01T00:00:00.000", "price": 8.98, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-06-01T00:00:00.000", "price": 9.53, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-07-01T00:00:00.000", "price": 10.54, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-08-01T00:00:00.000", "price": 11.31, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-09-01T00:00:00.000", "price": 10.36, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-10-01T00:00:00.000", "price": 11.44, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-11-01T00:00:00.000", "price": 10.45, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2003-12-01T00:00:00.000", "price": 10.69, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-01-01T00:00:00.000", "price": 11.28, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-02-01T00:00:00.000", "price": 11.96, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-03-01T00:00:00.000", "price": 13.52, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-04-01T00:00:00.000", "price": 12.89, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-05-01T00:00:00.000", "price": 14.03, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-06-01T00:00:00.000", "price": 16.27, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-07-01T00:00:00.000", "price": 16.17, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-08-01T00:00:00.000", "price": 17.25, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-09-01T00:00:00.000", "price": 19.38, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-10-01T00:00:00.000", "price": 26.2, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-11-01T00:00:00.000", "price": 33.53, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2004-12-01T00:00:00.000", "price": 32.2, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-01-01T00:00:00.000", "price": 38.45, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-02-01T00:00:00.000", "price": 44.86, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-03-01T00:00:00.000", "price": 41.67, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-04-01T00:00:00.000", "price": 36.06, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-05-01T00:00:00.000", "price": 39.76, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-06-01T00:00:00.000", "price": 36.81, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-07-01T00:00:00.000", "price": 42.65, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-08-01T00:00:00.000", "price": 46.89, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-09-01T00:00:00.000", "price": 53.61, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-10-01T00:00:00.000", "price": 57.59, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-11-01T00:00:00.000", "price": 67.82, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2005-12-01T00:00:00.000", "price": 71.89, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-01-01T00:00:00.000", "price": 75.51, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-02-01T00:00:00.000", "price": 68.49, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-03-01T00:00:00.000", "price": 62.72, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-04-01T00:00:00.000", "price": 70.39, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-05-01T00:00:00.000", "price": 59.77, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-06-01T00:00:00.000", "price": 57.27, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-07-01T00:00:00.000", "price": 67.96, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-08-01T00:00:00.000", "price": 67.85, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-09-01T00:00:00.000", "price": 76.98, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-10-01T00:00:00.000", "price": 81.08, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-11-01T00:00:00.000", "price": 91.66, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2006-12-01T00:00:00.000", "price": 84.84, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-01-01T00:00:00.000", "price": 85.73, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-02-01T00:00:00.000", "price": 84.61, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-03-01T00:00:00.000", "price": 92.91, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-04-01T00:00:00.000", "price": 99.8, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-05-01T00:00:00.000", "price": 121.19, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-06-01T00:00:00.000", "price": 122.04, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-07-01T00:00:00.000", "price": 131.76, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-08-01T00:00:00.000", "price": 138.48, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-09-01T00:00:00.000", "price": 153.47, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-10-01T00:00:00.000", "price": 189.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-11-01T00:00:00.000", "price": 182.22, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2007-12-01T00:00:00.000", "price": 198.08, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-01-01T00:00:00.000", "price": 135.36, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-02-01T00:00:00.000", "price": 125.02, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-03-01T00:00:00.000", "price": 143.5, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-04-01T00:00:00.000", "price": 173.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-05-01T00:00:00.000", "price": 188.75, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-06-01T00:00:00.000", "price": 167.44, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-07-01T00:00:00.000", "price": 158.95, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-08-01T00:00:00.000", "price": 169.53, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-09-01T00:00:00.000", "price": 113.66, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-10-01T00:00:00.000", "price": 107.59, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-11-01T00:00:00.000", "price": 92.67, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2008-12-01T00:00:00.000", "price": 85.35, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-01-01T00:00:00.000", "price": 90.13, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-02-01T00:00:00.000", "price": 89.31, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-03-01T00:00:00.000", "price": 105.12, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-04-01T00:00:00.000", "price": 125.83, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-05-01T00:00:00.000", "price": 135.81, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-06-01T00:00:00.000", "price": 142.43, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-07-01T00:00:00.000", "price": 163.39, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-08-01T00:00:00.000", "price": 168.21, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-09-01T00:00:00.000", "price": 185.35, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-10-01T00:00:00.000", "price": 188.5, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-11-01T00:00:00.000", "price": 199.91, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2009-12-01T00:00:00.000", "price": 210.73, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2010-01-01T00:00:00.000", "price": 192.06, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2010-02-01T00:00:00.000", "price": 204.62, "color_symbol_sort_index": 1.0}, {"symbol": "AAPL", "date": "2010-03-01T00:00:00.000", "price": 223.02, "color_symbol_sort_index": 1.0}], "transform": [{"type": "formula", "expr": "toDate(datum['date'])", "as": "date"}]}, {"name": "source_0_y_domain_price", "values": [{"min": 5.97, "max": 707.0}]}, {"name": "source_0_color_domain_symbol", "values": [{"sort_field": 4.0, "symbol": "MSFT"}, {"sort_field": 2.0, "symbol": "AMZN"}, {"sort_field": 3.0, "symbol": "IBM"}, {"sort_field": 0.0, "symbol": "GOOG"}, {"sort_field": 1.0, "symbol": "AAPL"}]}], "marks": [{"type": "group", "name": "pathgroup", "from": {"facet": {"data": "source_0", "name": "faceted_path_main", "groupby": ["symbol"]}}, "encode": {"update": {"width": {"field": {"signal": null, "datum": null, "group": "width", "parent": null}}, "height": {"field": {"signal": null, "datum": null, "group": "height", "parent": null}}}}, "marks": [{"type": "line", "name": "marks", "from": {"data": "faceted_path_main"}, "sort": {"field": "x"}, "encode": {"update": {"stroke": {"field": "symbol", "scale": "color"}, "x": {"field": "date", "scale": "x"}, "y": {"field": "price", "scale": "y"}, "defined": {"signal": "isValid(datum[\"date\"]) && isFinite(+datum[\"date\"]) && isValid(datum[\"price\"]) && isFinite(+datum[\"price\"])"}}}, "style": ["line"]}]}], "scales": [{"name": "x", "type": "time", "domain": {"data": "source_0", "field": "date"}, "range": [0, {"signal": "width"}]}, {"name": "y", "type": "linear", "domain": [{"signal": "(data(\"source_0_y_domain_price\")[0] || {}).min"}, {"signal": "(data(\"source_0_y_domain_price\")[0] || {}).max"}], "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "ordinal", "domain": {"data": "source_0_color_domain_symbol", "field": "symbol", "sort": {"op": "max", "field": "sort_field"}}, "range": "category"}], "axes": [{"scale": "x", "grid": true, "orient": "bottom", "ticks": false, "domain": false, "tickCount": {"signal": "ceil(width/40)"}, "aria": false, "minExtent": 0, "gridScale": "y", "maxExtent": 0, "zindex": 0, "labels": false}, {"scale": "y", "orient": "left", "gridScale": "x", "labels": false, "grid": true, "zindex": 0, "maxExtent": 0, "minExtent": 0, "domain": false, "ticks": false, "tickCount": {"signal": "ceil(height/40)"}, "aria": false}, {"scale": "x", "tickCount": {"signal": "ceil(width/40)"}, "zindex": 0, "labelFlush": true, "grid": false, "title": "date", "labelOverlap": true, "orient": "bottom"}, {"scale": "y", "orient": "left", "title": "price", "grid": false, "labelOverlap": true, "tickCount": {"signal": "ceil(height/40)"}, "zindex": 0}], "background": "white", "padding": 5, "width": 300, "height": 300, "style": "cell", "legends": [{"stroke": "color", "symbolType": "stroke"}]}, {"mode": "vega"});
</script></div></div>
</div>
<p>We can use the annotation approach from above to label the lines directly,
and get rid of the legend altogether.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">lines</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">stocks</span><span class="p">)</span><span class="o">.</span><span class="n">mark_line</span><span class="p">()</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="n">alt</span><span class="o">.</span><span class="n">Color</span><span class="p">(</span><span class="s1">&#39;symbol&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">text</span> <span class="o">=</span> <span class="n">alt</span><span class="o">.</span><span class="n">Chart</span><span class="p">(</span><span class="n">stock_order</span><span class="p">)</span><span class="o">.</span><span class="n">mark_text</span><span class="p">(</span><span class="n">dx</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span>
    <span class="n">x</span><span class="o">=</span><span class="s1">&#39;date&#39;</span><span class="p">,</span>
    <span class="n">y</span><span class="o">=</span><span class="s1">&#39;price&#39;</span><span class="p">,</span>
    <span class="n">text</span><span class="o">=</span><span class="s1">&#39;symbol&#39;</span><span class="p">,</span>
    <span class="n">color</span><span class="o">=</span><span class="s1">&#39;symbol&#39;</span>
<span class="p">)</span>

<span class="n">lines</span> <span class="o">+</span> <span class="n">text</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<style>
  #altair-viz-a0b5989765c94011a8787e7112e3e9ab.vega-embed {
    width: 100%;
    display: flex;
  }

  #altair-viz-a0b5989765c94011a8787e7112e3e9ab.vega-embed details,
  #altair-viz-a0b5989765c94011a8787e7112e3e9ab.vega-embed details summary {
    position: relative;
  }
</style>
<div id="altair-viz-a0b5989765c94011a8787e7112e3e9ab"></div>
<script type="text/javascript">
  var VEGA_DEBUG = (typeof VEGA_DEBUG == "undefined") ? {} : VEGA_DEBUG;
  (function(spec, embedOpt){
    let outputDiv = document.currentScript.previousElementSibling;
    if (outputDiv.id !== "altair-viz-a0b5989765c94011a8787e7112e3e9ab") {
      outputDiv = document.getElementById("altair-viz-a0b5989765c94011a8787e7112e3e9ab");
    }

    const paths = {
      "vega": "https://cdn.jsdelivr.net/npm/vega@5?noext",
      "vega-lib": "https://cdn.jsdelivr.net/npm/vega-lib?noext",
      "vega-lite": "https://cdn.jsdelivr.net/npm/vega-lite@5.20.1?noext",
      "vega-embed": "https://cdn.jsdelivr.net/npm/vega-embed@6?noext",
    };

    function maybeLoadScript(lib, version) {
      var key = `${lib.replace("-", "")}_version`;
      return (VEGA_DEBUG[key] == version) ?
        Promise.resolve(paths[lib]) :
        new Promise(function(resolve, reject) {
          var s = document.createElement('script');
          document.getElementsByTagName("head")[0].appendChild(s);
          s.async = true;
          s.onload = () => {
            VEGA_DEBUG[key] = version;
            return resolve(paths[lib]);
          };
          s.onerror = () => reject(`Error loading script: ${paths[lib]}`);
          s.src = paths[lib];
        });
    }

    function showError(err) {
      outputDiv.innerHTML = `<div class="error" style="color:red;">${err}</div>`;
      throw err;
    }

    function displayChart(vegaEmbed) {
      vegaEmbed(outputDiv, spec, embedOpt)
        .catch(err => showError(`Javascript Error: ${err.message}<br>This usually means there's a typo in your chart specification. See the javascript console for the full traceback.`));
    }

    if(typeof define === "function" && define.amd) {
      requirejs.config({paths});
      let deps = ["vega-embed"];
      require(deps, displayChart, err => showError(`Error loading script: ${err.message}`));
    } else {
      maybeLoadScript("vega", "5")
        .then(() => maybeLoadScript("vega-lite", "5.20.1"))
        .then(() => maybeLoadScript("vega-embed", "6"))
        .catch(showError)
        .then(() => displayChart(vegaEmbed));
    }
  })({"$schema": "https://vega.github.io/schema/vega/v5.json", "data": [{"name": "source_0", "values": [{"symbol": "MSFT", "date": "2000-01-01T00:00:00.000", "price": 39.81}, {"symbol": "MSFT", "date": "2000-02-01T00:00:00.000", "price": 36.35}, {"symbol": "MSFT", "date": "2000-03-01T00:00:00.000", "price": 43.22}, {"symbol": "MSFT", "date": "2000-04-01T00:00:00.000", "price": 28.37}, {"symbol": "MSFT", "date": "2000-05-01T00:00:00.000", "price": 25.45}, {"symbol": "MSFT", "date": "2000-06-01T00:00:00.000", "price": 32.54}, {"symbol": "MSFT", "date": "2000-07-01T00:00:00.000", "price": 28.4}, {"symbol": "MSFT", "date": "2000-08-01T00:00:00.000", "price": 28.4}, {"symbol": "MSFT", "date": "2000-09-01T00:00:00.000", "price": 24.53}, {"symbol": "MSFT", "date": "2000-10-01T00:00:00.000", "price": 28.02}, {"symbol": "MSFT", "date": "2000-11-01T00:00:00.000", "price": 23.34}, {"symbol": "MSFT", "date": "2000-12-01T00:00:00.000", "price": 17.65}, {"symbol": "MSFT", "date": "2001-01-01T00:00:00.000", "price": 24.84}, {"symbol": "MSFT", "date": "2001-02-01T00:00:00.000", "price": 24.0}, {"symbol": "MSFT", "date": "2001-03-01T00:00:00.000", "price": 22.25}, {"symbol": "MSFT", "date": "2001-04-01T00:00:00.000", "price": 27.56}, {"symbol": "MSFT", "date": "2001-05-01T00:00:00.000", "price": 28.14}, {"symbol": "MSFT", "date": "2001-06-01T00:00:00.000", "price": 29.7}, {"symbol": "MSFT", "date": "2001-07-01T00:00:00.000", "price": 26.93}, {"symbol": "MSFT", "date": "2001-08-01T00:00:00.000", "price": 23.21}, {"symbol": "MSFT", "date": "2001-09-01T00:00:00.000", "price": 20.82}, {"symbol": "MSFT", "date": "2001-10-01T00:00:00.000", "price": 23.65}, {"symbol": "MSFT", "date": "2001-11-01T00:00:00.000", "price": 26.12}, {"symbol": "MSFT", "date": "2001-12-01T00:00:00.000", "price": 26.95}, {"symbol": "MSFT", "date": "2002-01-01T00:00:00.000", "price": 25.92}, {"symbol": "MSFT", "date": "2002-02-01T00:00:00.000", "price": 23.73}, {"symbol": "MSFT", "date": "2002-03-01T00:00:00.000", "price": 24.53}, {"symbol": "MSFT", "date": "2002-04-01T00:00:00.000", "price": 21.26}, {"symbol": "MSFT", "date": "2002-05-01T00:00:00.000", "price": 20.71}, {"symbol": "MSFT", "date": "2002-06-01T00:00:00.000", "price": 22.25}, {"symbol": "MSFT", "date": "2002-07-01T00:00:00.000", "price": 19.52}, {"symbol": "MSFT", "date": "2002-08-01T00:00:00.000", "price": 19.97}, {"symbol": "MSFT", "date": "2002-09-01T00:00:00.000", "price": 17.79}, {"symbol": "MSFT", "date": "2002-10-01T00:00:00.000", "price": 21.75}, {"symbol": "MSFT", "date": "2002-11-01T00:00:00.000", "price": 23.46}, {"symbol": "MSFT", "date": "2002-12-01T00:00:00.000", "price": 21.03}, {"symbol": "MSFT", "date": "2003-01-01T00:00:00.000", "price": 19.31}, {"symbol": "MSFT", "date": "2003-02-01T00:00:00.000", "price": 19.34}, {"symbol": "MSFT", "date": "2003-03-01T00:00:00.000", "price": 19.76}, {"symbol": "MSFT", "date": "2003-04-01T00:00:00.000", "price": 20.87}, {"symbol": "MSFT", "date": "2003-05-01T00:00:00.000", "price": 20.09}, {"symbol": "MSFT", "date": "2003-06-01T00:00:00.000", "price": 20.93}, {"symbol": "MSFT", "date": "2003-07-01T00:00:00.000", "price": 21.56}, {"symbol": "MSFT", "date": "2003-08-01T00:00:00.000", "price": 21.65}, {"symbol": "MSFT", "date": "2003-09-01T00:00:00.000", "price": 22.69}, {"symbol": "MSFT", "date": "2003-10-01T00:00:00.000", "price": 21.45}, {"symbol": "MSFT", "date": "2003-11-01T00:00:00.000", "price": 21.1}, {"symbol": "MSFT", "date": "2003-12-01T00:00:00.000", "price": 22.46}, {"symbol": "MSFT", "date": "2004-01-01T00:00:00.000", "price": 22.69}, {"symbol": "MSFT", "date": "2004-02-01T00:00:00.000", "price": 21.77}, {"symbol": "MSFT", "date": "2004-03-01T00:00:00.000", "price": 20.46}, {"symbol": "MSFT", "date": "2004-04-01T00:00:00.000", "price": 21.45}, {"symbol": "MSFT", "date": "2004-05-01T00:00:00.000", "price": 21.53}, {"symbol": "MSFT", "date": "2004-06-01T00:00:00.000", "price": 23.44}, {"symbol": "MSFT", "date": "2004-07-01T00:00:00.000", "price": 23.38}, {"symbol": "MSFT", "date": "2004-08-01T00:00:00.000", "price": 22.47}, {"symbol": "MSFT", "date": "2004-09-01T00:00:00.000", "price": 22.76}, {"symbol": "MSFT", "date": "2004-10-01T00:00:00.000", "price": 23.02}, {"symbol": "MSFT", "date": "2004-11-01T00:00:00.000", "price": 24.6}, {"symbol": "MSFT", "date": "2004-12-01T00:00:00.000", "price": 24.52}, {"symbol": "MSFT", "date": "2005-01-01T00:00:00.000", "price": 24.11}, {"symbol": "MSFT", "date": "2005-02-01T00:00:00.000", "price": 23.15}, {"symbol": "MSFT", "date": "2005-03-01T00:00:00.000", "price": 22.24}, {"symbol": "MSFT", "date": "2005-04-01T00:00:00.000", "price": 23.28}, {"symbol": "MSFT", "date": "2005-05-01T00:00:00.000", "price": 23.82}, {"symbol": "MSFT", "date": "2005-06-01T00:00:00.000", "price": 22.93}, {"symbol": "MSFT", "date": "2005-07-01T00:00:00.000", "price": 23.64}, {"symbol": "MSFT", "date": "2005-08-01T00:00:00.000", "price": 25.35}, {"symbol": "MSFT", "date": "2005-09-01T00:00:00.000", "price": 23.83}, {"symbol": "MSFT", "date": "2005-10-01T00:00:00.000", "price": 23.8}, {"symbol": "MSFT", "date": "2005-11-01T00:00:00.000", "price": 25.71}, {"symbol": "MSFT", "date": "2005-12-01T00:00:00.000", "price": 24.29}, {"symbol": "MSFT", "date": "2006-01-01T00:00:00.000", "price": 26.14}, {"symbol": "MSFT", "date": "2006-02-01T00:00:00.000", "price": 25.04}, {"symbol": "MSFT", "date": "2006-03-01T00:00:00.000", "price": 25.36}, {"symbol": "MSFT", "date": "2006-04-01T00:00:00.000", "price": 22.5}, {"symbol": "MSFT", "date": "2006-05-01T00:00:00.000", "price": 21.19}, {"symbol": "MSFT", "date": "2006-06-01T00:00:00.000", "price": 21.8}, {"symbol": "MSFT", "date": "2006-07-01T00:00:00.000", "price": 22.51}, {"symbol": "MSFT", "date": "2006-08-01T00:00:00.000", "price": 24.13}, {"symbol": "MSFT", "date": "2006-09-01T00:00:00.000", "price": 25.68}, {"symbol": "MSFT", "date": "2006-10-01T00:00:00.000", "price": 26.96}, {"symbol": "MSFT", "date": "2006-11-01T00:00:00.000", "price": 27.66}, {"symbol": "MSFT", "date": "2006-12-01T00:00:00.000", "price": 28.13}, {"symbol": "MSFT", "date": "2007-01-01T00:00:00.000", "price": 29.07}, {"symbol": "MSFT", "date": "2007-02-01T00:00:00.000", "price": 26.63}, {"symbol": "MSFT", "date": "2007-03-01T00:00:00.000", "price": 26.35}, {"symbol": "MSFT", "date": "2007-04-01T00:00:00.000", "price": 28.3}, {"symbol": "MSFT", "date": "2007-05-01T00:00:00.000", "price": 29.11}, {"symbol": "MSFT", "date": "2007-06-01T00:00:00.000", "price": 27.95}, {"symbol": "MSFT", "date": "2007-07-01T00:00:00.000", "price": 27.5}, {"symbol": "MSFT", "date": "2007-08-01T00:00:00.000", "price": 27.34}, {"symbol": "MSFT", "date": "2007-09-01T00:00:00.000", "price": 28.04}, {"symbol": "MSFT", "date": "2007-10-01T00:00:00.000", "price": 35.03}, {"symbol": "MSFT", "date": "2007-11-01T00:00:00.000", "price": 32.09}, {"symbol": "MSFT", "date": "2007-12-01T00:00:00.000", "price": 34.0}, {"symbol": "MSFT", "date": "2008-01-01T00:00:00.000", "price": 31.13}, {"symbol": "MSFT", "date": "2008-02-01T00:00:00.000", "price": 26.07}, {"symbol": "MSFT", "date": "2008-03-01T00:00:00.000", "price": 27.21}, {"symbol": "MSFT", "date": "2008-04-01T00:00:00.000", "price": 27.34}, {"symbol": "MSFT", "date": "2008-05-01T00:00:00.000", "price": 27.25}, {"symbol": "MSFT", "date": "2008-06-01T00:00:00.000", "price": 26.47}, {"symbol": "MSFT", "date": "2008-07-01T00:00:00.000", "price": 24.75}, {"symbol": "MSFT", "date": "2008-08-01T00:00:00.000", "price": 26.36}, {"symbol": "MSFT", "date": "2008-09-01T00:00:00.000", "price": 25.78}, {"symbol": "MSFT", "date": "2008-10-01T00:00:00.000", "price": 21.57}, {"symbol": "MSFT", "date": "2008-11-01T00:00:00.000", "price": 19.66}, {"symbol": "MSFT", "date": "2008-12-01T00:00:00.000", "price": 18.91}, {"symbol": "MSFT", "date": "2009-01-01T00:00:00.000", "price": 16.63}, {"symbol": "MSFT", "date": "2009-02-01T00:00:00.000", "price": 15.81}, {"symbol": "MSFT", "date": "2009-03-01T00:00:00.000", "price": 17.99}, {"symbol": "MSFT", "date": "2009-04-01T00:00:00.000", "price": 19.84}, {"symbol": "MSFT", "date": "2009-05-01T00:00:00.000", "price": 20.59}, {"symbol": "MSFT", "date": "2009-06-01T00:00:00.000", "price": 23.42}, {"symbol": "MSFT", "date": "2009-07-01T00:00:00.000", "price": 23.18}, {"symbol": "MSFT", "date": "2009-08-01T00:00:00.000", "price": 24.43}, {"symbol": "MSFT", "date": "2009-09-01T00:00:00.000", "price": 25.49}, {"symbol": "MSFT", "date": "2009-10-01T00:00:00.000", "price": 27.48}, {"symbol": "MSFT", "date": "2009-11-01T00:00:00.000", "price": 29.27}, {"symbol": "MSFT", "date": "2009-12-01T00:00:00.000", "price": 30.34}, {"symbol": "MSFT", "date": "2010-01-01T00:00:00.000", "price": 28.05}, {"symbol": "MSFT", "date": "2010-02-01T00:00:00.000", "price": 28.67}, {"symbol": "MSFT", "date": "2010-03-01T00:00:00.000", "price": 28.8}, {"symbol": "AMZN", "date": "2000-01-01T00:00:00.000", "price": 64.56}, {"symbol": "AMZN", "date": "2000-02-01T00:00:00.000", "price": 68.87}, {"symbol": "AMZN", "date": "2000-03-01T00:00:00.000", "price": 67.0}, {"symbol": "AMZN", "date": "2000-04-01T00:00:00.000", "price": 55.19}, {"symbol": "AMZN", "date": "2000-05-01T00:00:00.000", "price": 48.31}, {"symbol": "AMZN", "date": "2000-06-01T00:00:00.000", "price": 36.31}, {"symbol": "AMZN", "date": "2000-07-01T00:00:00.000", "price": 30.12}, {"symbol": "AMZN", "date": "2000-08-01T00:00:00.000", "price": 41.5}, {"symbol": "AMZN", "date": "2000-09-01T00:00:00.000", "price": 38.44}, {"symbol": "AMZN", "date": "2000-10-01T00:00:00.000", "price": 36.62}, {"symbol": "AMZN", "date": "2000-11-01T00:00:00.000", "price": 24.69}, {"symbol": "AMZN", "date": "2000-12-01T00:00:00.000", "price": 15.56}, {"symbol": "AMZN", "date": "2001-01-01T00:00:00.000", "price": 17.31}, {"symbol": "AMZN", "date": "2001-02-01T00:00:00.000", "price": 10.19}, {"symbol": "AMZN", "date": "2001-03-01T00:00:00.000", "price": 10.23}, {"symbol": "AMZN", "date": "2001-04-01T00:00:00.000", "price": 15.78}, {"symbol": "AMZN", "date": "2001-05-01T00:00:00.000", "price": 16.69}, {"symbol": "AMZN", "date": "2001-06-01T00:00:00.000", "price": 14.15}, {"symbol": "AMZN", "date": "2001-07-01T00:00:00.000", "price": 12.49}, {"symbol": "AMZN", "date": "2001-08-01T00:00:00.000", "price": 8.94}, {"symbol": "AMZN", "date": "2001-09-01T00:00:00.000", "price": 5.97}, {"symbol": "AMZN", "date": "2001-10-01T00:00:00.000", "price": 6.98}, {"symbol": "AMZN", "date": "2001-11-01T00:00:00.000", "price": 11.32}, {"symbol": "AMZN", "date": "2001-12-01T00:00:00.000", "price": 10.82}, {"symbol": "AMZN", "date": "2002-01-01T00:00:00.000", "price": 14.19}, {"symbol": "AMZN", "date": "2002-02-01T00:00:00.000", "price": 14.1}, {"symbol": "AMZN", "date": "2002-03-01T00:00:00.000", "price": 14.3}, {"symbol": "AMZN", "date": "2002-04-01T00:00:00.000", "price": 16.69}, {"symbol": "AMZN", "date": "2002-05-01T00:00:00.000", "price": 18.23}, {"symbol": "AMZN", "date": "2002-06-01T00:00:00.000", "price": 16.25}, {"symbol": "AMZN", "date": "2002-07-01T00:00:00.000", "price": 14.45}, {"symbol": "AMZN", "date": "2002-08-01T00:00:00.000", "price": 14.94}, {"symbol": "AMZN", "date": "2002-09-01T00:00:00.000", "price": 15.93}, {"symbol": "AMZN", "date": "2002-10-01T00:00:00.000", "price": 19.36}, {"symbol": "AMZN", "date": "2002-11-01T00:00:00.000", "price": 23.35}, {"symbol": "AMZN", "date": "2002-12-01T00:00:00.000", "price": 18.89}, {"symbol": "AMZN", "date": "2003-01-01T00:00:00.000", "price": 21.85}, {"symbol": "AMZN", "date": "2003-02-01T00:00:00.000", "price": 22.01}, {"symbol": "AMZN", "date": "2003-03-01T00:00:00.000", "price": 26.03}, {"symbol": "AMZN", "date": "2003-04-01T00:00:00.000", "price": 28.69}, {"symbol": "AMZN", "date": "2003-05-01T00:00:00.000", "price": 35.89}, {"symbol": "AMZN", "date": "2003-06-01T00:00:00.000", "price": 36.32}, {"symbol": "AMZN", "date": "2003-07-01T00:00:00.000", "price": 41.64}, {"symbol": "AMZN", "date": "2003-08-01T00:00:00.000", "price": 46.32}, {"symbol": "AMZN", "date": "2003-09-01T00:00:00.000", "price": 48.43}, {"symbol": "AMZN", "date": "2003-10-01T00:00:00.000", "price": 54.43}, {"symbol": "AMZN", "date": "2003-11-01T00:00:00.000", "price": 53.97}, {"symbol": "AMZN", "date": "2003-12-01T00:00:00.000", "price": 52.62}, {"symbol": "AMZN", "date": "2004-01-01T00:00:00.000", "price": 50.4}, {"symbol": "AMZN", "date": "2004-02-01T00:00:00.000", "price": 43.01}, {"symbol": "AMZN", "date": "2004-03-01T00:00:00.000", "price": 43.28}, {"symbol": "AMZN", "date": "2004-04-01T00:00:00.000", "price": 43.6}, {"symbol": "AMZN", "date": "2004-05-01T00:00:00.000", "price": 48.5}, {"symbol": "AMZN", "date": "2004-06-01T00:00:00.000", "price": 54.4}, {"symbol": "AMZN", "date": "2004-07-01T00:00:00.000", "price": 38.92}, {"symbol": "AMZN", "date": "2004-08-01T00:00:00.000", "price": 38.14}, {"symbol": "AMZN", "date": "2004-09-01T00:00:00.000", "price": 40.86}, {"symbol": "AMZN", "date": "2004-10-01T00:00:00.000", "price": 34.13}, {"symbol": "AMZN", "date": "2004-11-01T00:00:00.000", "price": 39.68}, {"symbol": "AMZN", "date": "2004-12-01T00:00:00.000", "price": 44.29}, {"symbol": "AMZN", "date": "2005-01-01T00:00:00.000", "price": 43.22}, {"symbol": "AMZN", "date": "2005-02-01T00:00:00.000", "price": 35.18}, {"symbol": "AMZN", "date": "2005-03-01T00:00:00.000", "price": 34.27}, {"symbol": "AMZN", "date": "2005-04-01T00:00:00.000", "price": 32.36}, {"symbol": "AMZN", "date": "2005-05-01T00:00:00.000", "price": 35.51}, {"symbol": "AMZN", "date": "2005-06-01T00:00:00.000", "price": 33.09}, {"symbol": "AMZN", "date": "2005-07-01T00:00:00.000", "price": 45.15}, {"symbol": "AMZN", "date": "2005-08-01T00:00:00.000", "price": 42.7}, {"symbol": "AMZN", "date": "2005-09-01T00:00:00.000", "price": 45.3}, {"symbol": "AMZN", "date": "2005-10-01T00:00:00.000", "price": 39.86}, {"symbol": "AMZN", "date": "2005-11-01T00:00:00.000", "price": 48.46}, {"symbol": "AMZN", "date": "2005-12-01T00:00:00.000", "price": 47.15}, {"symbol": "AMZN", "date": "2006-01-01T00:00:00.000", "price": 44.82}, {"symbol": "AMZN", "date": "2006-02-01T00:00:00.000", "price": 37.44}, {"symbol": "AMZN", "date": "2006-03-01T00:00:00.000", "price": 36.53}, {"symbol": "AMZN", "date": "2006-04-01T00:00:00.000", "price": 35.21}, {"symbol": "AMZN", "date": "2006-05-01T00:00:00.000", "price": 34.61}, {"symbol": "AMZN", "date": "2006-06-01T00:00:00.000", "price": 38.68}, {"symbol": "AMZN", "date": "2006-07-01T00:00:00.000", "price": 26.89}, {"symbol": "AMZN", "date": "2006-08-01T00:00:00.000", "price": 30.83}, {"symbol": "AMZN", "date": "2006-09-01T00:00:00.000", "price": 32.12}, {"symbol": "AMZN", "date": "2006-10-01T00:00:00.000", "price": 38.09}, {"symbol": "AMZN", "date": "2006-11-01T00:00:00.000", "price": 40.34}, {"symbol": "AMZN", "date": "2006-12-01T00:00:00.000", "price": 39.46}, {"symbol": "AMZN", "date": "2007-01-01T00:00:00.000", "price": 37.67}, {"symbol": "AMZN", "date": "2007-02-01T00:00:00.000", "price": 39.14}, {"symbol": "AMZN", "date": "2007-03-01T00:00:00.000", "price": 39.79}, {"symbol": "AMZN", "date": "2007-04-01T00:00:00.000", "price": 61.33}, {"symbol": "AMZN", "date": "2007-05-01T00:00:00.000", "price": 69.14}, {"symbol": "AMZN", "date": "2007-06-01T00:00:00.000", "price": 68.41}, {"symbol": "AMZN", "date": "2007-07-01T00:00:00.000", "price": 78.54}, {"symbol": "AMZN", "date": "2007-08-01T00:00:00.000", "price": 79.91}, {"symbol": "AMZN", "date": "2007-09-01T00:00:00.000", "price": 93.15}, {"symbol": "AMZN", "date": "2007-10-01T00:00:00.000", "price": 89.15}, {"symbol": "AMZN", "date": "2007-11-01T00:00:00.000", "price": 90.56}, {"symbol": "AMZN", "date": "2007-12-01T00:00:00.000", "price": 92.64}, {"symbol": "AMZN", "date": "2008-01-01T00:00:00.000", "price": 77.7}, {"symbol": "AMZN", "date": "2008-02-01T00:00:00.000", "price": 64.47}, {"symbol": "AMZN", "date": "2008-03-01T00:00:00.000", "price": 71.3}, {"symbol": "AMZN", "date": "2008-04-01T00:00:00.000", "price": 78.63}, {"symbol": "AMZN", "date": "2008-05-01T00:00:00.000", "price": 81.62}, {"symbol": "AMZN", "date": "2008-06-01T00:00:00.000", "price": 73.33}, {"symbol": "AMZN", "date": "2008-07-01T00:00:00.000", "price": 76.34}, {"symbol": "AMZN", "date": "2008-08-01T00:00:00.000", "price": 80.81}, {"symbol": "AMZN", "date": "2008-09-01T00:00:00.000", "price": 72.76}, {"symbol": "AMZN", "date": "2008-10-01T00:00:00.000", "price": 57.24}, {"symbol": "AMZN", "date": "2008-11-01T00:00:00.000", "price": 42.7}, {"symbol": "AMZN", "date": "2008-12-01T00:00:00.000", "price": 51.28}, {"symbol": "AMZN", "date": "2009-01-01T00:00:00.000", "price": 58.82}, {"symbol": "AMZN", "date": "2009-02-01T00:00:00.000", "price": 64.79}, {"symbol": "AMZN", "date": "2009-03-01T00:00:00.000", "price": 73.44}, {"symbol": "AMZN", "date": "2009-04-01T00:00:00.000", "price": 80.52}, {"symbol": "AMZN", "date": "2009-05-01T00:00:00.000", "price": 77.99}, {"symbol": "AMZN", "date": "2009-06-01T00:00:00.000", "price": 83.66}, {"symbol": "AMZN", "date": "2009-07-01T00:00:00.000", "price": 85.76}, {"symbol": "AMZN", "date": "2009-08-01T00:00:00.000", "price": 81.19}, {"symbol": "AMZN", "date": "2009-09-01T00:00:00.000", "price": 93.36}, {"symbol": "AMZN", "date": "2009-10-01T00:00:00.000", "price": 118.81}, {"symbol": "AMZN", "date": "2009-11-01T00:00:00.000", "price": 135.91}, {"symbol": "AMZN", "date": "2009-12-01T00:00:00.000", "price": 134.52}, {"symbol": "AMZN", "date": "2010-01-01T00:00:00.000", "price": 125.41}, {"symbol": "AMZN", "date": "2010-02-01T00:00:00.000", "price": 118.4}, {"symbol": "AMZN", "date": "2010-03-01T00:00:00.000", "price": 128.82}, {"symbol": "IBM", "date": "2000-01-01T00:00:00.000", "price": 100.52}, {"symbol": "IBM", "date": "2000-02-01T00:00:00.000", "price": 92.11}, {"symbol": "IBM", "date": "2000-03-01T00:00:00.000", "price": 106.11}, {"symbol": "IBM", "date": "2000-04-01T00:00:00.000", "price": 99.95}, {"symbol": "IBM", "date": "2000-05-01T00:00:00.000", "price": 96.31}, {"symbol": "IBM", "date": "2000-06-01T00:00:00.000", "price": 98.33}, {"symbol": "IBM", "date": "2000-07-01T00:00:00.000", "price": 100.74}, {"symbol": "IBM", "date": "2000-08-01T00:00:00.000", "price": 118.62}, {"symbol": "IBM", "date": "2000-09-01T00:00:00.000", "price": 101.19}, {"symbol": "IBM", "date": "2000-10-01T00:00:00.000", "price": 88.5}, {"symbol": "IBM", "date": "2000-11-01T00:00:00.000", "price": 84.12}, {"symbol": "IBM", "date": "2000-12-01T00:00:00.000", "price": 76.47}, {"symbol": "IBM", "date": "2001-01-01T00:00:00.000", "price": 100.76}, {"symbol": "IBM", "date": "2001-02-01T00:00:00.000", "price": 89.98}, {"symbol": "IBM", "date": "2001-03-01T00:00:00.000", "price": 86.63}, {"symbol": "IBM", "date": "2001-04-01T00:00:00.000", "price": 103.7}, {"symbol": "IBM", "date": "2001-05-01T00:00:00.000", "price": 100.82}, {"symbol": "IBM", "date": "2001-06-01T00:00:00.000", "price": 102.35}, {"symbol": "IBM", "date": "2001-07-01T00:00:00.000", "price": 94.87}, {"symbol": "IBM", "date": "2001-08-01T00:00:00.000", "price": 90.25}, {"symbol": "IBM", "date": "2001-09-01T00:00:00.000", "price": 82.82}, {"symbol": "IBM", "date": "2001-10-01T00:00:00.000", "price": 97.58}, {"symbol": "IBM", "date": "2001-11-01T00:00:00.000", "price": 104.5}, {"symbol": "IBM", "date": "2001-12-01T00:00:00.000", "price": 109.36}, {"symbol": "IBM", "date": "2002-01-01T00:00:00.000", "price": 97.54}, {"symbol": "IBM", "date": "2002-02-01T00:00:00.000", "price": 88.82}, {"symbol": "IBM", "date": "2002-03-01T00:00:00.000", "price": 94.15}, {"symbol": "IBM", "date": "2002-04-01T00:00:00.000", "price": 75.82}, {"symbol": "IBM", "date": "2002-05-01T00:00:00.000", "price": 72.97}, {"symbol": "IBM", "date": "2002-06-01T00:00:00.000", "price": 65.31}, {"symbol": "IBM", "date": "2002-07-01T00:00:00.000", "price": 63.86}, {"symbol": "IBM", "date": "2002-08-01T00:00:00.000", "price": 68.52}, {"symbol": "IBM", "date": "2002-09-01T00:00:00.000", "price": 53.01}, {"symbol": "IBM", "date": "2002-10-01T00:00:00.000", "price": 71.76}, {"symbol": "IBM", "date": "2002-11-01T00:00:00.000", "price": 79.16}, {"symbol": "IBM", "date": "2002-12-01T00:00:00.000", "price": 70.58}, {"symbol": "IBM", "date": "2003-01-01T00:00:00.000", "price": 71.22}, {"symbol": "IBM", "date": "2003-02-01T00:00:00.000", "price": 71.13}, {"symbol": "IBM", "date": "2003-03-01T00:00:00.000", "price": 71.57}, {"symbol": "IBM", "date": "2003-04-01T00:00:00.000", "price": 77.47}, {"symbol": "IBM", "date": "2003-05-01T00:00:00.000", "price": 80.48}, {"symbol": "IBM", "date": "2003-06-01T00:00:00.000", "price": 75.42}, {"symbol": "IBM", "date": "2003-07-01T00:00:00.000", "price": 74.28}, {"symbol": "IBM", "date": "2003-08-01T00:00:00.000", "price": 75.12}, {"symbol": "IBM", "date": "2003-09-01T00:00:00.000", "price": 80.91}, {"symbol": "IBM", "date": "2003-10-01T00:00:00.000", "price": 81.96}, {"symbol": "IBM", "date": "2003-11-01T00:00:00.000", "price": 83.08}, {"symbol": "IBM", "date": "2003-12-01T00:00:00.000", "price": 85.05}, {"symbol": "IBM", "date": "2004-01-01T00:00:00.000", "price": 91.06}, {"symbol": "IBM", "date": "2004-02-01T00:00:00.000", "price": 88.7}, {"symbol": "IBM", "date": "2004-03-01T00:00:00.000", "price": 84.41}, {"symbol": "IBM", "date": "2004-04-01T00:00:00.000", "price": 81.04}, {"symbol": "IBM", "date": "2004-05-01T00:00:00.000", "price": 81.59}, {"symbol": "IBM", "date": "2004-06-01T00:00:00.000", "price": 81.19}, {"symbol": "IBM", "date": "2004-07-01T00:00:00.000", "price": 80.19}, {"symbol": "IBM", "date": "2004-08-01T00:00:00.000", "price": 78.17}, {"symbol": "IBM", "date": "2004-09-01T00:00:00.000", "price": 79.13}, {"symbol": "IBM", "date": "2004-10-01T00:00:00.000", "price": 82.84}, {"symbol": "IBM", "date": "2004-11-01T00:00:00.000", "price": 87.15}, {"symbol": "IBM", "date": "2004-12-01T00:00:00.000", "price": 91.16}, {"symbol": "IBM", "date": "2005-01-01T00:00:00.000", "price": 86.39}, {"symbol": "IBM", "date": "2005-02-01T00:00:00.000", "price": 85.78}, {"symbol": "IBM", "date": "2005-03-01T00:00:00.000", "price": 84.66}, {"symbol": "IBM", "date": "2005-04-01T00:00:00.000", "price": 70.77}, {"symbol": "IBM", "date": "2005-05-01T00:00:00.000", "price": 70.18}, {"symbol": "IBM", "date": "2005-06-01T00:00:00.000", "price": 68.93}, {"symbol": "IBM", "date": "2005-07-01T00:00:00.000", "price": 77.53}, {"symbol": "IBM", "date": "2005-08-01T00:00:00.000", "price": 75.07}, {"symbol": "IBM", "date": "2005-09-01T00:00:00.000", "price": 74.7}, {"symbol": "IBM", "date": "2005-10-01T00:00:00.000", "price": 76.25}, {"symbol": "IBM", "date": "2005-11-01T00:00:00.000", "price": 82.98}, {"symbol": "IBM", "date": "2005-12-01T00:00:00.000", "price": 76.73}, {"symbol": "IBM", "date": "2006-01-01T00:00:00.000", "price": 75.89}, {"symbol": "IBM", "date": "2006-02-01T00:00:00.000", "price": 75.09}, {"symbol": "IBM", "date": "2006-03-01T00:00:00.000", "price": 77.17}, {"symbol": "IBM", "date": "2006-04-01T00:00:00.000", "price": 77.05}, {"symbol": "IBM", "date": "2006-05-01T00:00:00.000", "price": 75.04}, {"symbol": "IBM", "date": "2006-06-01T00:00:00.000", "price": 72.15}, {"symbol": "IBM", "date": "2006-07-01T00:00:00.000", "price": 72.7}, {"symbol": "IBM", "date": "2006-08-01T00:00:00.000", "price": 76.35}, {"symbol": "IBM", "date": "2006-09-01T00:00:00.000", "price": 77.26}, {"symbol": "IBM", "date": "2006-10-01T00:00:00.000", "price": 87.06}, {"symbol": "IBM", "date": "2006-11-01T00:00:00.000", "price": 86.95}, {"symbol": "IBM", "date": "2006-12-01T00:00:00.000", "price": 91.9}, {"symbol": "IBM", "date": "2007-01-01T00:00:00.000", "price": 93.79}, {"symbol": "IBM", "date": "2007-02-01T00:00:00.000", "price": 88.18}, {"symbol": "IBM", "date": "2007-03-01T00:00:00.000", "price": 89.44}, {"symbol": "IBM", "date": "2007-04-01T00:00:00.000", "price": 96.98}, {"symbol": "IBM", "date": "2007-05-01T00:00:00.000", "price": 101.54}, {"symbol": "IBM", "date": "2007-06-01T00:00:00.000", "price": 100.25}, {"symbol": "IBM", "date": "2007-07-01T00:00:00.000", "price": 105.4}, {"symbol": "IBM", "date": "2007-08-01T00:00:00.000", "price": 111.54}, {"symbol": "IBM", "date": "2007-09-01T00:00:00.000", "price": 112.6}, {"symbol": "IBM", "date": "2007-10-01T00:00:00.000", "price": 111.0}, {"symbol": "IBM", "date": "2007-11-01T00:00:00.000", "price": 100.9}, {"symbol": "IBM", "date": "2007-12-01T00:00:00.000", "price": 103.7}, {"symbol": "IBM", "date": "2008-01-01T00:00:00.000", "price": 102.75}, {"symbol": "IBM", "date": "2008-02-01T00:00:00.000", "price": 109.64}, {"symbol": "IBM", "date": "2008-03-01T00:00:00.000", "price": 110.87}, {"symbol": "IBM", "date": "2008-04-01T00:00:00.000", "price": 116.23}, {"symbol": "IBM", "date": "2008-05-01T00:00:00.000", "price": 125.14}, {"symbol": "IBM", "date": "2008-06-01T00:00:00.000", "price": 114.6}, {"symbol": "IBM", "date": "2008-07-01T00:00:00.000", "price": 123.74}, {"symbol": "IBM", "date": "2008-08-01T00:00:00.000", "price": 118.16}, {"symbol": "IBM", "date": "2008-09-01T00:00:00.000", "price": 113.53}, {"symbol": "IBM", "date": "2008-10-01T00:00:00.000", "price": 90.24}, {"symbol": "IBM", "date": "2008-11-01T00:00:00.000", "price": 79.65}, {"symbol": "IBM", "date": "2008-12-01T00:00:00.000", "price": 82.15}, {"symbol": "IBM", "date": "2009-01-01T00:00:00.000", "price": 89.46}, {"symbol": "IBM", "date": "2009-02-01T00:00:00.000", "price": 90.32}, {"symbol": "IBM", "date": "2009-03-01T00:00:00.000", "price": 95.09}, {"symbol": "IBM", "date": "2009-04-01T00:00:00.000", "price": 101.29}, {"symbol": "IBM", "date": "2009-05-01T00:00:00.000", "price": 104.85}, {"symbol": "IBM", "date": "2009-06-01T00:00:00.000", "price": 103.01}, {"symbol": "IBM", "date": "2009-07-01T00:00:00.000", "price": 116.34}, {"symbol": "IBM", "date": "2009-08-01T00:00:00.000", "price": 117.0}, {"symbol": "IBM", "date": "2009-09-01T00:00:00.000", "price": 118.55}, {"symbol": "IBM", "date": "2009-10-01T00:00:00.000", "price": 119.54}, {"symbol": "IBM", "date": "2009-11-01T00:00:00.000", "price": 125.79}, {"symbol": "IBM", "date": "2009-12-01T00:00:00.000", "price": 130.32}, {"symbol": "IBM", "date": "2010-01-01T00:00:00.000", "price": 121.85}, {"symbol": "IBM", "date": "2010-02-01T00:00:00.000", "price": 127.16}, {"symbol": "IBM", "date": "2010-03-01T00:00:00.000", "price": 125.55}, {"symbol": "GOOG", "date": "2004-08-01T00:00:00.000", "price": 102.37}, {"symbol": "GOOG", "date": "2004-09-01T00:00:00.000", "price": 129.6}, {"symbol": "GOOG", "date": "2004-10-01T00:00:00.000", "price": 190.64}, {"symbol": "GOOG", "date": "2004-11-01T00:00:00.000", "price": 181.98}, {"symbol": "GOOG", "date": "2004-12-01T00:00:00.000", "price": 192.79}, {"symbol": "GOOG", "date": "2005-01-01T00:00:00.000", "price": 195.62}, {"symbol": "GOOG", "date": "2005-02-01T00:00:00.000", "price": 187.99}, {"symbol": "GOOG", "date": "2005-03-01T00:00:00.000", "price": 180.51}, {"symbol": "GOOG", "date": "2005-04-01T00:00:00.000", "price": 220.0}, {"symbol": "GOOG", "date": "2005-05-01T00:00:00.000", "price": 277.27}, {"symbol": "GOOG", "date": "2005-06-01T00:00:00.000", "price": 294.15}, {"symbol": "GOOG", "date": "2005-07-01T00:00:00.000", "price": 287.76}, {"symbol": "GOOG", "date": "2005-08-01T00:00:00.000", "price": 286.0}, {"symbol": "GOOG", "date": "2005-09-01T00:00:00.000", "price": 316.46}, {"symbol": "GOOG", "date": "2005-10-01T00:00:00.000", "price": 372.14}, {"symbol": "GOOG", "date": "2005-11-01T00:00:00.000", "price": 404.91}, {"symbol": "GOOG", "date": "2005-12-01T00:00:00.000", "price": 414.86}, {"symbol": "GOOG", "date": "2006-01-01T00:00:00.000", "price": 432.66}, {"symbol": "GOOG", "date": "2006-02-01T00:00:00.000", "price": 362.62}, {"symbol": "GOOG", "date": "2006-03-01T00:00:00.000", "price": 390.0}, {"symbol": "GOOG", "date": "2006-04-01T00:00:00.000", "price": 417.94}, {"symbol": "GOOG", "date": "2006-05-01T00:00:00.000", "price": 371.82}, {"symbol": "GOOG", "date": "2006-06-01T00:00:00.000", "price": 419.33}, {"symbol": "GOOG", "date": "2006-07-01T00:00:00.000", "price": 386.6}, {"symbol": "GOOG", "date": "2006-08-01T00:00:00.000", "price": 378.53}, {"symbol": "GOOG", "date": "2006-09-01T00:00:00.000", "price": 401.9}, {"symbol": "GOOG", "date": "2006-10-01T00:00:00.000", "price": 476.39}, {"symbol": "GOOG", "date": "2006-11-01T00:00:00.000", "price": 484.81}, {"symbol": "GOOG", "date": "2006-12-01T00:00:00.000", "price": 460.48}, {"symbol": "GOOG", "date": "2007-01-01T00:00:00.000", "price": 501.5}, {"symbol": "GOOG", "date": "2007-02-01T00:00:00.000", "price": 449.45}, {"symbol": "GOOG", "date": "2007-03-01T00:00:00.000", "price": 458.16}, {"symbol": "GOOG", "date": "2007-04-01T00:00:00.000", "price": 471.38}, {"symbol": "GOOG", "date": "2007-05-01T00:00:00.000", "price": 497.91}, {"symbol": "GOOG", "date": "2007-06-01T00:00:00.000", "price": 522.7}, {"symbol": "GOOG", "date": "2007-07-01T00:00:00.000", "price": 510.0}, {"symbol": "GOOG", "date": "2007-08-01T00:00:00.000", "price": 515.25}, {"symbol": "GOOG", "date": "2007-09-01T00:00:00.000", "price": 567.27}, {"symbol": "GOOG", "date": "2007-10-01T00:00:00.000", "price": 707.0}, {"symbol": "GOOG", "date": "2007-11-01T00:00:00.000", "price": 693.0}, {"symbol": "GOOG", "date": "2007-12-01T00:00:00.000", "price": 691.48}, {"symbol": "GOOG", "date": "2008-01-01T00:00:00.000", "price": 564.3}, {"symbol": "GOOG", "date": "2008-02-01T00:00:00.000", "price": 471.18}, {"symbol": "GOOG", "date": "2008-03-01T00:00:00.000", "price": 440.47}, {"symbol": "GOOG", "date": "2008-04-01T00:00:00.000", "price": 574.29}, {"symbol": "GOOG", "date": "2008-05-01T00:00:00.000", "price": 585.8}, {"symbol": "GOOG", "date": "2008-06-01T00:00:00.000", "price": 526.42}, {"symbol": "GOOG", "date": "2008-07-01T00:00:00.000", "price": 473.75}, {"symbol": "GOOG", "date": "2008-08-01T00:00:00.000", "price": 463.29}, {"symbol": "GOOG", "date": "2008-09-01T00:00:00.000", "price": 400.52}, {"symbol": "GOOG", "date": "2008-10-01T00:00:00.000", "price": 359.36}, {"symbol": "GOOG", "date": "2008-11-01T00:00:00.000", "price": 292.96}, {"symbol": "GOOG", "date": "2008-12-01T00:00:00.000", "price": 307.65}, {"symbol": "GOOG", "date": "2009-01-01T00:00:00.000", "price": 338.53}, {"symbol": "GOOG", "date": "2009-02-01T00:00:00.000", "price": 337.99}, {"symbol": "GOOG", "date": "2009-03-01T00:00:00.000", "price": 348.06}, {"symbol": "GOOG", "date": "2009-04-01T00:00:00.000", "price": 395.97}, {"symbol": "GOOG", "date": "2009-05-01T00:00:00.000", "price": 417.23}, {"symbol": "GOOG", "date": "2009-06-01T00:00:00.000", "price": 421.59}, {"symbol": "GOOG", "date": "2009-07-01T00:00:00.000", "price": 443.05}, {"symbol": "GOOG", "date": "2009-08-01T00:00:00.000", "price": 461.67}, {"symbol": "GOOG", "date": "2009-09-01T00:00:00.000", "price": 495.85}, {"symbol": "GOOG", "date": "2009-10-01T00:00:00.000", "price": 536.12}, {"symbol": "GOOG", "date": "2009-11-01T00:00:00.000", "price": 583.0}, {"symbol": "GOOG", "date": "2009-12-01T00:00:00.000", "price": 619.98}, {"symbol": "GOOG", "date": "2010-01-01T00:00:00.000", "price": 529.94}, {"symbol": "GOOG", "date": "2010-02-01T00:00:00.000", "price": 526.8}, {"symbol": "GOOG", "date": "2010-03-01T00:00:00.000", "price": 560.19}, {"symbol": "AAPL", "date": "2000-01-01T00:00:00.000", "price": 25.94}, {"symbol": "AAPL", "date": "2000-02-01T00:00:00.000", "price": 28.66}, {"symbol": "AAPL", "date": "2000-03-01T00:00:00.000", "price": 33.95}, {"symbol": "AAPL", "date": "2000-04-01T00:00:00.000", "price": 31.01}, {"symbol": "AAPL", "date": "2000-05-01T00:00:00.000", "price": 21.0}, {"symbol": "AAPL", "date": "2000-06-01T00:00:00.000", "price": 26.19}, {"symbol": "AAPL", "date": "2000-07-01T00:00:00.000", "price": 25.41}, {"symbol": "AAPL", "date": "2000-08-01T00:00:00.000", "price": 30.47}, {"symbol": "AAPL", "date": "2000-09-01T00:00:00.000", "price": 12.88}, {"symbol": "AAPL", "date": "2000-10-01T00:00:00.000", "price": 9.78}, {"symbol": "AAPL", "date": "2000-11-01T00:00:00.000", "price": 8.25}, {"symbol": "AAPL", "date": "2000-12-01T00:00:00.000", "price": 7.44}, {"symbol": "AAPL", "date": "2001-01-01T00:00:00.000", "price": 10.81}, {"symbol": "AAPL", "date": "2001-02-01T00:00:00.000", "price": 9.12}, {"symbol": "AAPL", "date": "2001-03-01T00:00:00.000", "price": 11.03}, {"symbol": "AAPL", "date": "2001-04-01T00:00:00.000", "price": 12.74}, {"symbol": "AAPL", "date": "2001-05-01T00:00:00.000", "price": 9.98}, {"symbol": "AAPL", "date": "2001-06-01T00:00:00.000", "price": 11.62}, {"symbol": "AAPL", "date": "2001-07-01T00:00:00.000", "price": 9.4}, {"symbol": "AAPL", "date": "2001-08-01T00:00:00.000", "price": 9.27}, {"symbol": "AAPL", "date": "2001-09-01T00:00:00.000", "price": 7.76}, {"symbol": "AAPL", "date": "2001-10-01T00:00:00.000", "price": 8.78}, {"symbol": "AAPL", "date": "2001-11-01T00:00:00.000", "price": 10.65}, {"symbol": "AAPL", "date": "2001-12-01T00:00:00.000", "price": 10.95}, {"symbol": "AAPL", "date": "2002-01-01T00:00:00.000", "price": 12.36}, {"symbol": "AAPL", "date": "2002-02-01T00:00:00.000", "price": 10.85}, {"symbol": "AAPL", "date": "2002-03-01T00:00:00.000", "price": 11.84}, {"symbol": "AAPL", "date": "2002-04-01T00:00:00.000", "price": 12.14}, {"symbol": "AAPL", "date": "2002-05-01T00:00:00.000", "price": 11.65}, {"symbol": "AAPL", "date": "2002-06-01T00:00:00.000", "price": 8.86}, {"symbol": "AAPL", "date": "2002-07-01T00:00:00.000", "price": 7.63}, {"symbol": "AAPL", "date": "2002-08-01T00:00:00.000", "price": 7.38}, {"symbol": "AAPL", "date": "2002-09-01T00:00:00.000", "price": 7.25}, {"symbol": "AAPL", "date": "2002-10-01T00:00:00.000", "price": 8.03}, {"symbol": "AAPL", "date": "2002-11-01T00:00:00.000", "price": 7.75}, {"symbol": "AAPL", "date": "2002-12-01T00:00:00.000", "price": 7.16}, {"symbol": "AAPL", "date": "2003-01-01T00:00:00.000", "price": 7.18}, {"symbol": "AAPL", "date": "2003-02-01T00:00:00.000", "price": 7.51}, {"symbol": "AAPL", "date": "2003-03-01T00:00:00.000", "price": 7.07}, {"symbol": "AAPL", "date": "2003-04-01T00:00:00.000", "price": 7.11}, {"symbol": "AAPL", "date": "2003-05-01T00:00:00.000", "price": 8.98}, {"symbol": "AAPL", "date": "2003-06-01T00:00:00.000", "price": 9.53}, {"symbol": "AAPL", "date": "2003-07-01T00:00:00.000", "price": 10.54}, {"symbol": "AAPL", "date": "2003-08-01T00:00:00.000", "price": 11.31}, {"symbol": "AAPL", "date": "2003-09-01T00:00:00.000", "price": 10.36}, {"symbol": "AAPL", "date": "2003-10-01T00:00:00.000", "price": 11.44}, {"symbol": "AAPL", "date": "2003-11-01T00:00:00.000", "price": 10.45}, {"symbol": "AAPL", "date": "2003-12-01T00:00:00.000", "price": 10.69}, {"symbol": "AAPL", "date": "2004-01-01T00:00:00.000", "price": 11.28}, {"symbol": "AAPL", "date": "2004-02-01T00:00:00.000", "price": 11.96}, {"symbol": "AAPL", "date": "2004-03-01T00:00:00.000", "price": 13.52}, {"symbol": "AAPL", "date": "2004-04-01T00:00:00.000", "price": 12.89}, {"symbol": "AAPL", "date": "2004-05-01T00:00:00.000", "price": 14.03}, {"symbol": "AAPL", "date": "2004-06-01T00:00:00.000", "price": 16.27}, {"symbol": "AAPL", "date": "2004-07-01T00:00:00.000", "price": 16.17}, {"symbol": "AAPL", "date": "2004-08-01T00:00:00.000", "price": 17.25}, {"symbol": "AAPL", "date": "2004-09-01T00:00:00.000", "price": 19.38}, {"symbol": "AAPL", "date": "2004-10-01T00:00:00.000", "price": 26.2}, {"symbol": "AAPL", "date": "2004-11-01T00:00:00.000", "price": 33.53}, {"symbol": "AAPL", "date": "2004-12-01T00:00:00.000", "price": 32.2}, {"symbol": "AAPL", "date": "2005-01-01T00:00:00.000", "price": 38.45}, {"symbol": "AAPL", "date": "2005-02-01T00:00:00.000", "price": 44.86}, {"symbol": "AAPL", "date": "2005-03-01T00:00:00.000", "price": 41.67}, {"symbol": "AAPL", "date": "2005-04-01T00:00:00.000", "price": 36.06}, {"symbol": "AAPL", "date": "2005-05-01T00:00:00.000", "price": 39.76}, {"symbol": "AAPL", "date": "2005-06-01T00:00:00.000", "price": 36.81}, {"symbol": "AAPL", "date": "2005-07-01T00:00:00.000", "price": 42.65}, {"symbol": "AAPL", "date": "2005-08-01T00:00:00.000", "price": 46.89}, {"symbol": "AAPL", "date": "2005-09-01T00:00:00.000", "price": 53.61}, {"symbol": "AAPL", "date": "2005-10-01T00:00:00.000", "price": 57.59}, {"symbol": "AAPL", "date": "2005-11-01T00:00:00.000", "price": 67.82}, {"symbol": "AAPL", "date": "2005-12-01T00:00:00.000", "price": 71.89}, {"symbol": "AAPL", "date": "2006-01-01T00:00:00.000", "price": 75.51}, {"symbol": "AAPL", "date": "2006-02-01T00:00:00.000", "price": 68.49}, {"symbol": "AAPL", "date": "2006-03-01T00:00:00.000", "price": 62.72}, {"symbol": "AAPL", "date": "2006-04-01T00:00:00.000", "price": 70.39}, {"symbol": "AAPL", "date": "2006-05-01T00:00:00.000", "price": 59.77}, {"symbol": "AAPL", "date": "2006-06-01T00:00:00.000", "price": 57.27}, {"symbol": "AAPL", "date": "2006-07-01T00:00:00.000", "price": 67.96}, {"symbol": "AAPL", "date": "2006-08-01T00:00:00.000", "price": 67.85}, {"symbol": "AAPL", "date": "2006-09-01T00:00:00.000", "price": 76.98}, {"symbol": "AAPL", "date": "2006-10-01T00:00:00.000", "price": 81.08}, {"symbol": "AAPL", "date": "2006-11-01T00:00:00.000", "price": 91.66}, {"symbol": "AAPL", "date": "2006-12-01T00:00:00.000", "price": 84.84}, {"symbol": "AAPL", "date": "2007-01-01T00:00:00.000", "price": 85.73}, {"symbol": "AAPL", "date": "2007-02-01T00:00:00.000", "price": 84.61}, {"symbol": "AAPL", "date": "2007-03-01T00:00:00.000", "price": 92.91}, {"symbol": "AAPL", "date": "2007-04-01T00:00:00.000", "price": 99.8}, {"symbol": "AAPL", "date": "2007-05-01T00:00:00.000", "price": 121.19}, {"symbol": "AAPL", "date": "2007-06-01T00:00:00.000", "price": 122.04}, {"symbol": "AAPL", "date": "2007-07-01T00:00:00.000", "price": 131.76}, {"symbol": "AAPL", "date": "2007-08-01T00:00:00.000", "price": 138.48}, {"symbol": "AAPL", "date": "2007-09-01T00:00:00.000", "price": 153.47}, {"symbol": "AAPL", "date": "2007-10-01T00:00:00.000", "price": 189.95}, {"symbol": "AAPL", "date": "2007-11-01T00:00:00.000", "price": 182.22}, {"symbol": "AAPL", "date": "2007-12-01T00:00:00.000", "price": 198.08}, {"symbol": "AAPL", "date": "2008-01-01T00:00:00.000", "price": 135.36}, {"symbol": "AAPL", "date": "2008-02-01T00:00:00.000", "price": 125.02}, {"symbol": "AAPL", "date": "2008-03-01T00:00:00.000", "price": 143.5}, {"symbol": "AAPL", "date": "2008-04-01T00:00:00.000", "price": 173.95}, {"symbol": "AAPL", "date": "2008-05-01T00:00:00.000", "price": 188.75}, {"symbol": "AAPL", "date": "2008-06-01T00:00:00.000", "price": 167.44}, {"symbol": "AAPL", "date": "2008-07-01T00:00:00.000", "price": 158.95}, {"symbol": "AAPL", "date": "2008-08-01T00:00:00.000", "price": 169.53}, {"symbol": "AAPL", "date": "2008-09-01T00:00:00.000", "price": 113.66}, {"symbol": "AAPL", "date": "2008-10-01T00:00:00.000", "price": 107.59}, {"symbol": "AAPL", "date": "2008-11-01T00:00:00.000", "price": 92.67}, {"symbol": "AAPL", "date": "2008-12-01T00:00:00.000", "price": 85.35}, {"symbol": "AAPL", "date": "2009-01-01T00:00:00.000", "price": 90.13}, {"symbol": "AAPL", "date": "2009-02-01T00:00:00.000", "price": 89.31}, {"symbol": "AAPL", "date": "2009-03-01T00:00:00.000", "price": 105.12}, {"symbol": "AAPL", "date": "2009-04-01T00:00:00.000", "price": 125.83}, {"symbol": "AAPL", "date": "2009-05-01T00:00:00.000", "price": 135.81}, {"symbol": "AAPL", "date": "2009-06-01T00:00:00.000", "price": 142.43}, {"symbol": "AAPL", "date": "2009-07-01T00:00:00.000", "price": 163.39}, {"symbol": "AAPL", "date": "2009-08-01T00:00:00.000", "price": 168.21}, {"symbol": "AAPL", "date": "2009-09-01T00:00:00.000", "price": 185.35}, {"symbol": "AAPL", "date": "2009-10-01T00:00:00.000", "price": 188.5}, {"symbol": "AAPL", "date": "2009-11-01T00:00:00.000", "price": 199.91}, {"symbol": "AAPL", "date": "2009-12-01T00:00:00.000", "price": 210.73}, {"symbol": "AAPL", "date": "2010-01-01T00:00:00.000", "price": 192.06}, {"symbol": "AAPL", "date": "2010-02-01T00:00:00.000", "price": 204.62}, {"symbol": "AAPL", "date": "2010-03-01T00:00:00.000", "price": 223.02}], "transform": [{"type": "formula", "expr": "toDate(datum['date'])", "as": "date"}]}, {"name": "source_1", "values": [{"date": "2010-03-01T00:00:00.000", "price": 560.19, "symbol": "GOOG"}, {"date": "2010-03-01T00:00:00.000", "price": 223.02, "symbol": "AAPL"}, {"date": "2010-03-01T00:00:00.000", "price": 128.82, "symbol": "AMZN"}, {"date": "2010-03-01T00:00:00.000", "price": 125.55, "symbol": "IBM"}, {"date": "2010-03-01T00:00:00.000", "price": 28.8, "symbol": "MSFT"}], "transform": [{"type": "formula", "expr": "toDate(datum['date'])", "as": "date"}]}, {"name": "source_0_color_domain_symbol_0", "values": [{"symbol": "MSFT"}, {"symbol": "AMZN"}, {"symbol": "IBM"}, {"symbol": "GOOG"}, {"symbol": "AAPL"}]}, {"name": "source_1_color_domain_symbol_1", "values": [{"symbol": "GOOG"}, {"symbol": "AAPL"}, {"symbol": "AMZN"}, {"symbol": "IBM"}, {"symbol": "MSFT"}]}], "marks": [{"type": "group", "name": "layer_0_pathgroup", "from": {"facet": {"data": "source_0", "name": "faceted_path_layer_0_main", "groupby": ["symbol"]}}, "encode": {"update": {"width": {"field": {"signal": null, "datum": null, "group": "width", "parent": null}}, "height": {"field": {"signal": null, "datum": null, "group": "height", "parent": null}}}}, "marks": [{"type": "line", "name": "layer_0_marks", "from": {"data": "faceted_path_layer_0_main"}, "sort": {"field": "x"}, "encode": {"update": {"x": {"field": "date", "scale": "x"}, "y": {"field": "price", "scale": "y"}, "stroke": {"field": "symbol", "scale": "color"}, "defined": {"signal": "isValid(datum[\"date\"]) && isFinite(+datum[\"date\"]) && isValid(datum[\"price\"]) && isFinite(+datum[\"price\"])"}}}, "style": ["line"]}]}, {"type": "text", "name": "layer_1_marks", "from": {"data": "source_1"}, "encode": {"update": {"dx": {"value": 20}, "text": {"signal": "isValid(datum[\"symbol\"]) ? datum[\"symbol\"] : \"\"+datum[\"symbol\"]"}, "fill": {"field": "symbol", "scale": "color"}, "y": {"field": "price", "scale": "y"}, "align": {"value": "center"}, "baseline": {"value": "middle"}, "x": {"field": "date", "scale": "x"}}}, "style": ["text"]}], "scales": [{"name": "x", "type": "time", "domain": {"fields": [{"data": "source_0", "field": "date"}, {"data": "source_1", "field": "date"}]}, "range": [0, {"signal": "width"}]}, {"name": "y", "type": "linear", "domain": {"fields": [{"data": "source_0", "field": "price"}, {"data": "source_1", "field": "price"}]}, "range": [{"signal": "height"}, 0], "zero": true, "nice": true}, {"name": "color", "type": "ordinal", "domain": {"fields": [{"data": "source_0_color_domain_symbol_0", "field": "symbol"}, {"data": "source_1_color_domain_symbol_1", "field": "symbol"}], "sort": true}, "range": "category"}], "axes": [{"scale": "x", "gridScale": "y", "minExtent": 0, "grid": true, "tickCount": {"signal": "ceil(width/40)"}, "maxExtent": 0, "domain": false, "orient": "bottom", "ticks": false, "zindex": 0, "aria": false, "labels": false}, {"scale": "y", "grid": true, "zindex": 0, "ticks": false, "minExtent": 0, "maxExtent": 0, "gridScale": "x", "tickCount": {"signal": "ceil(height/40)"}, "orient": "left", "domain": false, "labels": false, "aria": false}, {"scale": "x", "zindex": 0, "orient": "bottom", "title": "date", "grid": false, "labelFlush": true, "labelOverlap": true, "tickCount": {"signal": "ceil(width/40)"}}, {"scale": "y", "labelOverlap": true, "orient": "left", "grid": false, "zindex": 0, "tickCount": {"signal": "ceil(height/40)"}, "title": "price"}], "style": "cell", "width": 300, "padding": 5, "background": "white", "height": 300}, {"mode": "vega"});
</script></div></div>
</div>
</section>
<section id="id7">
<h3><span class="section-number">6.4.2. </span>R<a class="headerlink" href="#id7" title="Link to this heading">#</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> -i stocks
ggplot(stocks) + 
    aes(x = date,
        y = price,
        color = symbol) +
    geom_line() +
    ggthemes::scale_color_tableau()
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/b9355d003eb5a31e077211d6d3a908d517f37bb410c96da93f5da38af1f73607.png" src="../_images/b9355d003eb5a31e077211d6d3a908d517f37bb410c96da93f5da38af1f73607.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span>
ggplot(stocks) + 
    aes(x = date,
        y = price,
        color = symbol) +
    geom_line() +
    ggthemes::scale_color_tableau() +
    theme(legend.position = &#39;none&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/89caffe5e0739c1b016b4149cbfd00af8f4bfc9390664720aa4a1c6b611d7fa7.png" src="../_images/89caffe5e0739c1b016b4149cbfd00af8f4bfc9390664720aa4a1c6b611d7fa7.png" />
</div>
</div>
<p>Here we use the same approach with <code class="docutils literal notranslate"><span class="pre">geom_text</span></code> and <code class="docutils literal notranslate"><span class="pre">label</span></code> as we did above.
The difference is that we’re explicitly setting the data inside <code class="docutils literal notranslate"><span class="pre">geom_text</span></code>
to use the dataframe that has been filtered to contain the max year only.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="k">R</span> -i stock_order
ggplot(stocks) + 
    aes(x = date,
        y = price,
        color = symbol,
        label = symbol) +
    geom_line() +
    geom_text(data = stock_order, vjust=-1) +
    ggthemes::scale_color_tableau() +
    theme(legend.position = &#39;none&#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/1f0074b758965b288bfa01365ef0b85bd56af2722a57a7af96cd075082f6aaad.png" src="../_images/1f0074b758965b288bfa01365ef0b85bd56af2722a57a7af96cd075082f6aaad.png" />
</div>
</div>
</section>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "conda-env-531-py"
        },
        kernelOptions: {
            name: "conda-env-531-py",
            path: "./lectures"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'conda-env-531-py'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="5-communication-intro.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title"><span class="section-number">5. </span>Visualization for communication</p>
      </div>
    </a>
    <a class="right-next"
       href="7-trendlines-confidence-intervals.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title"><span class="section-number">7. </span>Confidence intervals, figure layouts, and interactivity</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#facilitate-interpretation-through-informed-color-choices">6.1. Facilitate interpretation through informed color choices</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#color-schemes-maps">6.2. Color schemes/maps</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#py">6.2.1. Py</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#categorical">Categorical</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#sequential">Sequential</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#diverging">Diverging</a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#r">6.2.2. R</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Categorical</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id2">Sequential</a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#id3">Diverging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#highlighting-with-colors-and-text-labels">6.3. Highlighting with colors and text labels</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id4">6.3.1. Py</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id5">6.3.2. R</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#direct-labeling-instead-of-using-a-legend">6.4. Direct labeling instead of using a legend</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id6">6.4.1. Py</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#id7">6.4.2. R</a></li>
</ul>
</li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Andy MAn Yeung Tai, Payman Nickchi, Joel Östblom
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>